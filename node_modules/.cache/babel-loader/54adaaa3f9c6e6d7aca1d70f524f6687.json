{"ast":null,"code":"// eslint-disable-next-line\nexport var ModifierKey;\n\n(function (ModifierKey) {\n  function parse(modifiers) {\n    const or = [];\n    const and = [];\n\n    if (Array.isArray(modifiers)) {\n      or.push(...modifiers);\n    } else {\n      modifiers.split('|').forEach(item => {\n        if (item.indexOf('&') === -1) {\n          or.push(item);\n        } else {\n          and.push(...item.split('&'));\n        }\n      });\n    }\n\n    return {\n      or,\n      and\n    };\n  }\n\n  ModifierKey.parse = parse;\n\n  function equals(modifiers1, modifiers2) {\n    if (modifiers1 != null && modifiers2 != null) {\n      const m1 = parse(modifiers1);\n      const m2 = parse(modifiers2);\n      const or1 = m1.or.sort();\n      const or2 = m2.or.sort();\n      const and1 = m1.and.sort();\n      const and2 = m2.and.sort();\n\n      const equal = (a1, a2) => {\n        return a1.length === a2.length && (a1.length === 0 || a1.every((a, i) => a === a2[i]));\n      };\n\n      return equal(or1, or2) && equal(and1, and2);\n    }\n\n    if (modifiers1 == null && modifiers2 == null) {\n      return true;\n    }\n\n    return false;\n  }\n\n  ModifierKey.equals = equals;\n\n  function isMatch(e, modifiers, strict) {\n    if (modifiers == null || Array.isArray(modifiers) && modifiers.length === 0) {\n      return strict ? e.altKey !== true && e.ctrlKey !== true && e.metaKey !== true && e.shiftKey !== true : true;\n    }\n\n    const {\n      or,\n      and\n    } = parse(modifiers);\n\n    const match = key => {\n      const name = `${key.toLowerCase()}Key`;\n      return e[name] === true;\n    };\n\n    return or.some(key => match(key)) && and.every(key => match(key));\n  }\n\n  ModifierKey.isMatch = isMatch;\n})(ModifierKey || (ModifierKey = {}));","map":{"version":3,"mappings":"AAEA;AACA,OAAM,IAAWA,WAAX;;AAAN,WAAiBA,WAAjB,EAA4B;EAC1B,SAAgBC,KAAhB,CAAsBC,SAAtB,EAAuD;IACrD,MAAMC,EAAE,GAAkB,EAA1B;IACA,MAAMC,GAAG,GAAkB,EAA3B;;IAEA,IAAIC,KAAK,CAACC,OAAN,CAAcJ,SAAd,CAAJ,EAA8B;MAC5BC,EAAE,CAACI,IAAH,CAAQ,GAAGL,SAAX;IACD,CAFD,MAEO;MACLA,SAAS,CAACM,KAAV,CAAgB,GAAhB,EAAqBC,OAArB,CAA8BC,IAAD,IAAS;QACpC,IAAIA,IAAI,CAACC,OAAL,CAAa,GAAb,MAAsB,CAAC,CAA3B,EAA8B;UAC5BR,EAAE,CAACI,IAAH,CAAQG,IAAR;QACD,CAFD,MAEO;UACLN,GAAG,CAACG,IAAJ,CAAS,GAAIG,IAAI,CAACF,KAAL,CAAW,GAAX,CAAb;QACD;MACF,CAND;IAOD;;IAED,OAAO;MAAEL,EAAF;MAAMC;IAAN,CAAP;EACD;;EAjBeJ,oBAAKC,KAAL;;EAmBhB,SAAgBW,MAAhB,CACEC,UADF,EAEEC,UAFF,EAE4C;IAE1C,IAAID,UAAU,IAAI,IAAd,IAAsBC,UAAU,IAAI,IAAxC,EAA8C;MAC5C,MAAMC,EAAE,GAAGd,KAAK,CAACY,UAAD,CAAhB;MACA,MAAMG,EAAE,GAAGf,KAAK,CAACa,UAAD,CAAhB;MACA,MAAMG,GAAG,GAAGF,EAAE,CAACZ,EAAH,CAAMe,IAAN,EAAZ;MACA,MAAMC,GAAG,GAAGH,EAAE,CAACb,EAAH,CAAMe,IAAN,EAAZ;MACA,MAAME,IAAI,GAAGL,EAAE,CAACX,GAAH,CAAOc,IAAP,EAAb;MACA,MAAMG,IAAI,GAAGL,EAAE,CAACZ,GAAH,CAAOc,IAAP,EAAb;;MAEA,MAAMI,KAAK,GAAG,CAACC,EAAD,EAAoBC,EAApB,KAAyC;QACrD,OACED,EAAE,CAACE,MAAH,KAAcD,EAAE,CAACC,MAAjB,KACCF,EAAE,CAACE,MAAH,KAAc,CAAd,IAAmBF,EAAE,CAACG,KAAH,CAAS,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,KAAKH,EAAE,CAACI,CAAD,CAA3B,CADpB,CADF;MAID,CALD;;MAOA,OAAON,KAAK,CAACL,GAAD,EAAME,GAAN,CAAL,IAAmBG,KAAK,CAACF,IAAD,EAAOC,IAAP,CAA/B;IACD;;IAED,IAAIR,UAAU,IAAI,IAAd,IAAsBC,UAAU,IAAI,IAAxC,EAA8C;MAC5C,OAAO,IAAP;IACD;;IAED,OAAO,KAAP;EACD;;EA3Bed,qBAAMY,MAAN;;EA6BhB,SAAgBiB,OAAhB,CACEC,CADF,EAEE5B,SAFF,EAGE6B,MAHF,EAGkB;IAEhB,IACE7B,SAAS,IAAI,IAAb,IACCG,KAAK,CAACC,OAAN,CAAcJ,SAAd,KAA4BA,SAAS,CAACuB,MAAV,KAAqB,CAFpD,EAGE;MACA,OAAOM,MAAM,GACTD,CAAC,CAACE,MAAF,KAAa,IAAb,IACEF,CAAC,CAACG,OAAF,KAAc,IADhB,IAEEH,CAAC,CAACI,OAAF,KAAc,IAFhB,IAGEJ,CAAC,CAACK,QAAF,KAAe,IAJR,GAKT,IALJ;IAMD;;IAED,MAAM;MAAEhC,EAAF;MAAMC;IAAN,IAAcH,KAAK,CAACC,SAAD,CAAzB;;IACA,MAAMkC,KAAK,GAAIC,GAAD,IAAqB;MACjC,MAAMC,IAAI,GAAG,GAAGD,GAAG,CAACE,WAAJ,EAAiB,KAAjC;MACA,OAAOT,CAAC,CAACQ,IAAD,CAAD,KAAY,IAAnB;IACD,CAHD;;IAKA,OAAOnC,EAAE,CAACqC,IAAH,CAASH,GAAD,IAASD,KAAK,CAACC,GAAD,CAAtB,KAAgCjC,GAAG,CAACsB,KAAJ,CAAWW,GAAD,IAASD,KAAK,CAACC,GAAD,CAAxB,CAAvC;EACD;;EAxBerC,sBAAO6B,OAAP;AAyBjB,CA1ED,EAAiB7B,WAAW,KAAXA,WAAW,MAA5B","names":["ModifierKey","parse","modifiers","or","and","Array","isArray","push","split","forEach","item","indexOf","equals","modifiers1","modifiers2","m1","m2","or1","sort","or2","and1","and2","equal","a1","a2","length","every","a","i","isMatch","e","strict","altKey","ctrlKey","metaKey","shiftKey","match","key","name","toLowerCase","some"],"sourceRoot":"","sources":["../../src/types/modifier.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}