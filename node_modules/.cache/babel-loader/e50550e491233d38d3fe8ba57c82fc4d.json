{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { calBase } from '../util/math';\nimport Continuous from './base';\n/**\n * Pow 度量，处理非均匀分布\n */\n\nvar Pow =\n/** @class */\nfunction (_super) {\n  __extends(Pow, _super);\n\n  function Pow() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'pow';\n    return _this;\n  }\n  /**\n   * @override\n   */\n\n\n  Pow.prototype.invert = function (value) {\n    var percent = this.getInvertPercent(value);\n    var exponent = this.exponent;\n    var max = calBase(exponent, this.max);\n    var min = calBase(exponent, this.min);\n    var tmp = percent * (max - min) + min;\n    var factor = tmp >= 0 ? 1 : -1;\n    return Math.pow(tmp, exponent) * factor;\n  };\n\n  Pow.prototype.initCfg = function () {\n    this.tickMethod = 'pow';\n    this.exponent = 2;\n    this.tickCount = 5;\n    this.nice = true;\n  }; // 获取度量计算时，value占的定义域百分比\n\n\n  Pow.prototype.getScalePercent = function (value) {\n    var max = this.max;\n    var min = this.min;\n\n    if (max === min) {\n      return 0;\n    }\n\n    var exponent = this.exponent;\n    var percent = (calBase(exponent, value) - calBase(exponent, min)) / (calBase(exponent, max) - calBase(exponent, min));\n    return percent;\n  };\n\n  return Pow;\n}(Continuous);\n\nexport default Pow;","map":{"version":3,"mappings":";AAAA,SAASA,OAAT,QAAwB,cAAxB;AACA,OAAOC,UAAP,MAAuB,QAAvB;AAEA;;;;AAGA;AAAA;AAAA;EAAkBC;;EAAlB;IAAA;;IACkBC,aAAe,KAAf;;EAsCjB;EAhCC;;;;;EAGOC,uBAAP,UAAcC,KAAd,EAA2B;IACzB,IAAMC,OAAO,GAAG,KAAKC,gBAAL,CAAsBF,KAAtB,CAAhB;IACA,IAAMG,QAAQ,GAAG,KAAKA,QAAtB;IACA,IAAMC,GAAG,GAAGT,OAAO,CAACQ,QAAD,EAAW,KAAKC,GAAhB,CAAnB;IACA,IAAMC,GAAG,GAAGV,OAAO,CAACQ,QAAD,EAAW,KAAKE,GAAhB,CAAnB;IACA,IAAMC,GAAG,GAAGL,OAAO,IAAIG,GAAG,GAAGC,GAAV,CAAP,GAAwBA,GAApC;IACA,IAAME,MAAM,GAAGD,GAAG,IAAI,CAAP,GAAW,CAAX,GAAe,CAAC,CAA/B;IACA,OAAOE,IAAI,CAACC,GAAL,CAASH,GAAT,EAAcH,QAAd,IAA0BI,MAAjC;EACD,CARM;;EAUGR,wBAAV;IACE,KAAKW,UAAL,GAAkB,KAAlB;IACA,KAAKP,QAAL,GAAgB,CAAhB;IACA,KAAKQ,SAAL,GAAiB,CAAjB;IACA,KAAKC,IAAL,GAAY,IAAZ;EACD,CALS,CApBZ,CA2BE;;;EACUb,gCAAV,UAA0BC,KAA1B,EAAuC;IACrC,IAAMI,GAAG,GAAG,KAAKA,GAAjB;IACA,IAAMC,GAAG,GAAG,KAAKA,GAAjB;;IACA,IAAID,GAAG,KAAKC,GAAZ,EAAiB;MACf,OAAO,CAAP;IACD;;IACD,IAAMF,QAAQ,GAAG,KAAKA,QAAtB;IACA,IAAMF,OAAO,GACX,CAACN,OAAO,CAACQ,QAAD,EAAWH,KAAX,CAAP,GAA2BL,OAAO,CAACQ,QAAD,EAAWE,GAAX,CAAnC,KAAuDV,OAAO,CAACQ,QAAD,EAAWC,GAAX,CAAP,GAAyBT,OAAO,CAACQ,QAAD,EAAWE,GAAX,CAAvF,CADF;IAEA,OAAOJ,OAAP;EACD,CAVS;;EAWZ;AAAC,CAvCD,CAAkBL,UAAlB;;AAyCA,eAAeG,GAAf","names":["calBase","Continuous","__extends","_this","Pow","value","percent","getInvertPercent","exponent","max","min","tmp","factor","Math","pow","tickMethod","tickCount","nice"],"sourceRoot":"","sources":["../../src/continuous/pow.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}