{"ast":null,"code":"export { isFunction, once, noop, debounce, defer } from 'lodash-es';\nexport function apply(fn, ctx, args) {\n  if (args) {\n    switch (args.length) {\n      case 0:\n        return fn.call(ctx);\n\n      case 1:\n        return fn.call(ctx, args[0]);\n\n      case 2:\n        return fn.call(ctx, args[0], args[1]);\n\n      case 3:\n        return fn.call(ctx, args[0], args[1], args[2]);\n\n      case 4:\n        return fn.call(ctx, args[0], args[1], args[2], args[3]);\n\n      case 5:\n        return fn.call(ctx, args[0], args[1], args[2], args[3], args[4]);\n\n      case 6:\n        return fn.call(ctx, args[0], args[1], args[2], args[3], args[4], args[5]);\n\n      default:\n        return fn.apply(ctx, args);\n    }\n  }\n\n  return fn.call(ctx);\n}\nexport function call(fn, ctx, ...args) {\n  return apply(fn, ctx, args);\n}\n\nfunction repush(array, item) {\n  for (let i = 0, ii = array.length; i < ii; i += 1) {\n    if (array[i] === item) {\n      return array.push(array.splice(i, 1)[0]);\n    }\n  }\n}\n\nexport function cacher(fn, ctx, postProcessor) {\n  const keys = [];\n  const cache = {};\n\n  const f = (...args) => {\n    let hasCache = false;\n    const key = args.join('\\u2400');\n\n    if (key in cache) {\n      hasCache = true;\n      repush(keys, key);\n    } else {\n      if (keys.length >= 1000) {\n        delete cache[keys.shift()];\n      }\n\n      keys.push(key);\n      cache[key] = apply(fn, ctx || null, args);\n    }\n\n    return postProcessor ? postProcessor(cache[key], hasCache) : cache[key];\n  };\n\n  return f;\n}","map":{"version":3,"mappings":"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","names":["isFunction","once","noop","debounce","defer","apply","fn","ctx","args","length","call","repush","array","item","i","ii","push","splice","cacher","postProcessor","keys","cache","f","hasCache","key","join","shift"],"sourceRoot":"","sources":["../../../src/util/function/function.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}