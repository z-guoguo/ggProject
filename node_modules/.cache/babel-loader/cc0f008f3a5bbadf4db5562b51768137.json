{"ast":null,"code":"import dijkstra from './dijkstra';\nimport { getNeighbors } from './util';\nexport var findShortestPath = function findShortestPath(graphData, start, end, directed, weightPropertyName) {\n  var _a = dijkstra(graphData, start, directed, weightPropertyName),\n      length = _a.length,\n      path = _a.path,\n      allPath = _a.allPath;\n\n  return {\n    length: length[end],\n    path: path[end],\n    allPath: allPath[end]\n  };\n};\nexport var findAllPath = function findAllPath(graphData, start, end, directed) {\n  var _a;\n\n  if (start === end) return [[start]];\n  var _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  var visited = [start];\n  var isVisited = (_a = {}, _a[start] = true, _a);\n  var stack = []; // 辅助栈，用于存储访问过的节点的邻居节点\n\n  var allPath = [];\n  var neighbors = directed ? getNeighbors(start, edges, 'target') : getNeighbors(start, edges);\n  stack.push(neighbors);\n\n  while (visited.length > 0 && stack.length > 0) {\n    var children = stack[stack.length - 1];\n\n    if (children.length) {\n      var child = children.shift();\n\n      if (child) {\n        visited.push(child);\n        isVisited[child] = true;\n        neighbors = directed ? getNeighbors(child, edges, 'target') : getNeighbors(child, edges);\n        stack.push(neighbors.filter(function (neighbor) {\n          return !isVisited[neighbor];\n        }));\n      }\n    } else {\n      var node = visited.pop();\n      isVisited[node] = false;\n      stack.pop();\n      continue;\n    }\n\n    if (visited[visited.length - 1] === end) {\n      var path = visited.map(function (node) {\n        return node;\n      });\n      allPath.push(path);\n      var node = visited.pop();\n      isVisited[node] = false;\n      stack.pop();\n    }\n  }\n\n  return allPath;\n};","map":{"version":3,"names":["dijkstra","getNeighbors","findShortestPath","graphData","start","end","directed","weightPropertyName","_a","length","path","allPath","findAllPath","_b","edges","visited","isVisited","stack","neighbors","push","children","child","shift","filter","neighbor","node","pop","map"],"sources":["/Users/wawalike/Desktop/ggProject/node_modules/@antv/algorithm/es/find-path.js"],"sourcesContent":["import dijkstra from './dijkstra';\nimport { getNeighbors } from './util';\nexport var findShortestPath = function findShortestPath(graphData, start, end, directed, weightPropertyName) {\n  var _a = dijkstra(graphData, start, directed, weightPropertyName),\n      length = _a.length,\n      path = _a.path,\n      allPath = _a.allPath;\n\n  return {\n    length: length[end],\n    path: path[end],\n    allPath: allPath[end]\n  };\n};\nexport var findAllPath = function findAllPath(graphData, start, end, directed) {\n  var _a;\n\n  if (start === end) return [[start]];\n  var _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  var visited = [start];\n  var isVisited = (_a = {}, _a[start] = true, _a);\n  var stack = []; // 辅助栈，用于存储访问过的节点的邻居节点\n\n  var allPath = [];\n  var neighbors = directed ? getNeighbors(start, edges, 'target') : getNeighbors(start, edges);\n  stack.push(neighbors);\n\n  while (visited.length > 0 && stack.length > 0) {\n    var children = stack[stack.length - 1];\n\n    if (children.length) {\n      var child = children.shift();\n\n      if (child) {\n        visited.push(child);\n        isVisited[child] = true;\n        neighbors = directed ? getNeighbors(child, edges, 'target') : getNeighbors(child, edges);\n        stack.push(neighbors.filter(function (neighbor) {\n          return !isVisited[neighbor];\n        }));\n      }\n    } else {\n      var node = visited.pop();\n      isVisited[node] = false;\n      stack.pop();\n      continue;\n    }\n\n    if (visited[visited.length - 1] === end) {\n      var path = visited.map(function (node) {\n        return node;\n      });\n      allPath.push(path);\n      var node = visited.pop();\n      isVisited[node] = false;\n      stack.pop();\n    }\n  }\n\n  return allPath;\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}