{"ast":null,"code":"/**\n * @fileoverview 多边形\n * @author dxq613@gmail.com\n */\nimport { __extends } from \"tslib\";\nimport ShapeBase from './base';\nimport inPolyline from '../util/in-stroke/polyline';\nimport isInPolygon from '../util/in-path/polygon';\n\nvar Polygon =\n/** @class */\nfunction (_super) {\n  __extends(Polygon, _super);\n\n  function Polygon() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Polygon.prototype.isInStrokeOrPath = function (x, y, isStroke, isFill, lineWidth) {\n    var points = this.attr().points;\n    var isHit = false;\n\n    if (isStroke) {\n      isHit = inPolyline(points, lineWidth, x, y, true);\n    }\n\n    if (!isHit && isFill) {\n      isHit = isInPolygon(points, x, y); // isPointInPath(shape, x, y);\n    }\n\n    return isHit;\n  };\n\n  Polygon.prototype.createPath = function (context) {\n    var attrs = this.attr();\n    var points = attrs.points;\n\n    if (points.length < 2) {\n      return;\n    }\n\n    context.beginPath();\n\n    for (var i = 0; i < points.length; i++) {\n      var point = points[i];\n\n      if (i === 0) {\n        context.moveTo(point[0], point[1]);\n      } else {\n        context.lineTo(point[0], point[1]);\n      }\n    }\n\n    context.closePath();\n  };\n\n  return Polygon;\n}(ShapeBase);\n\nexport default Polygon;","map":{"version":3,"mappings":"AAAA;;;;;AAKA,OAAOA,SAAP,MAAsB,QAAtB;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;;AAEA;AAAA;AAAA;EAAsBC;;EAAtB;;EA8BC;;EA7BCC,+CAAiBC,CAAjB,EAAoBC,CAApB,EAAuBC,QAAvB,EAAiCC,MAAjC,EAAyCC,SAAzC,EAAkD;IACxC,UAAM,GAAK,KAAKC,IAAL,GAAWC,MAAtB;IACR,IAAIC,KAAK,GAAG,KAAZ;;IACA,IAAIL,QAAJ,EAAc;MACZK,KAAK,GAAGX,UAAU,CAACU,MAAD,EAASF,SAAT,EAAoBJ,CAApB,EAAuBC,CAAvB,EAA0B,IAA1B,CAAlB;IACD;;IACD,IAAI,CAACM,KAAD,IAAUJ,MAAd,EAAsB;MACpBI,KAAK,GAAGV,WAAW,CAACS,MAAD,EAASN,CAAT,EAAYC,CAAZ,CAAnB,CADoB,CACe;IACpC;;IACD,OAAOM,KAAP;EACD,CAVD;;EAYAR,yCAAWS,OAAX,EAAkB;IAChB,IAAMC,KAAK,GAAG,KAAKJ,IAAL,EAAd;IACA,IAAMC,MAAM,GAAGG,KAAK,CAACH,MAArB;;IACA,IAAIA,MAAM,CAACI,MAAP,GAAgB,CAApB,EAAuB;MACrB;IACD;;IACDF,OAAO,CAACG,SAAR;;IACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,MAAM,CAACI,MAA3B,EAAmCE,CAAC,EAApC,EAAwC;MACtC,IAAMC,KAAK,GAAGP,MAAM,CAACM,CAAD,CAApB;;MACA,IAAIA,CAAC,KAAK,CAAV,EAAa;QACXJ,OAAO,CAACM,MAAR,CAAeD,KAAK,CAAC,CAAD,CAApB,EAAyBA,KAAK,CAAC,CAAD,CAA9B;MACD,CAFD,MAEO;QACLL,OAAO,CAACO,MAAR,CAAeF,KAAK,CAAC,CAAD,CAApB,EAAyBA,KAAK,CAAC,CAAD,CAA9B;MACD;IACF;;IACDL,OAAO,CAACQ,SAAR;EACD,CAhBD;;EAiBF;AAAC,CA9BD,CAAsBrB,SAAtB;;AAgCA,eAAeI,OAAf","names":["ShapeBase","inPolyline","isInPolygon","__extends","Polygon","x","y","isStroke","isFill","lineWidth","attr","points","isHit","context","attrs","length","beginPath","i","point","moveTo","lineTo","closePath"],"sourceRoot":"","sources":["../../src/shape/polygon.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}