{"ast":null,"code":"import { vec3 } from 'gl-matrix';\nimport { AABB } from '../shape/AABB';\n/**\n * generate AABB with positions\n * @param positions [x1,y1,z1, x2,y2,z2]\n */\n\nexport function generateAABBFromVertices(positions) {\n  var aabb = new AABB();\n  var min = vec3.fromValues(positions[0], positions[1], positions[2]);\n  var max = vec3.fromValues(positions[0], positions[1], positions[2]);\n\n  for (var i = 3; i < positions.length;) {\n    var x = positions[i++];\n    var y = positions[i++];\n    var z = positions[i++];\n\n    if (x < min[0]) {\n      min[0] = x;\n    }\n\n    if (y < min[1]) {\n      min[1] = y;\n    }\n\n    if (z < min[2]) {\n      min[2] = z;\n    }\n\n    if (x > max[0]) {\n      max[0] = x;\n    }\n\n    if (y > max[1]) {\n      max[1] = y;\n    }\n\n    if (z > max[2]) {\n      max[2] = z;\n    }\n  }\n\n  aabb.setMinMax(min, max);\n  return aabb;\n}","map":{"version":3,"mappings":"AAAA,SAASA,IAAT,QAAqB,WAArB;AACA,SAASC,IAAT,QAAqB,eAArB;AAEA;AACA;AACA;AACA;;AACA,OAAO,SAASC,wBAAT,CAAkCC,SAAlC,EAA6D;EAClE,IAAMC,IAAI,GAAG,IAAIH,IAAJ,EAAb;EACA,IAAMI,GAAG,GAAGL,IAAI,CAACM,UAALN,CAAgBG,SAAS,CAAC,CAAD,CAAzBH,EAA8BG,SAAS,CAAC,CAAD,CAAvCH,EAA4CG,SAAS,CAAC,CAAD,CAArDH,CAAZ;EACA,IAAMO,GAAG,GAAGP,IAAI,CAACM,UAALN,CAAgBG,SAAS,CAAC,CAAD,CAAzBH,EAA8BG,SAAS,CAAC,CAAD,CAAvCH,EAA4CG,SAAS,CAAC,CAAD,CAArDH,CAAZ;;EAEA,KAAK,IAAIQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,SAAS,CAACM,MAA9B,GAAwC;IACtC,IAAMC,CAAC,GAAGP,SAAS,CAACK,CAAC,EAAF,CAAnB;IACA,IAAMG,CAAC,GAAGR,SAAS,CAACK,CAAC,EAAF,CAAnB;IACA,IAAMI,CAAC,GAAGT,SAAS,CAACK,CAAC,EAAF,CAAnB;;IACA,IAAIE,CAAC,GAAGL,GAAG,CAAC,CAAD,CAAX,EAAgB;MACdA,GAAG,CAAC,CAAD,CAAHA,GAASK,CAATL;IACD;;IACD,IAAIM,CAAC,GAAGN,GAAG,CAAC,CAAD,CAAX,EAAgB;MACdA,GAAG,CAAC,CAAD,CAAHA,GAASM,CAATN;IACD;;IACD,IAAIO,CAAC,GAAGP,GAAG,CAAC,CAAD,CAAX,EAAgB;MACdA,GAAG,CAAC,CAAD,CAAHA,GAASO,CAATP;IACD;;IACD,IAAIK,CAAC,GAAGH,GAAG,CAAC,CAAD,CAAX,EAAgB;MACdA,GAAG,CAAC,CAAD,CAAHA,GAASG,CAATH;IACD;;IACD,IAAII,CAAC,GAAGJ,GAAG,CAAC,CAAD,CAAX,EAAgB;MACdA,GAAG,CAAC,CAAD,CAAHA,GAASI,CAATJ;IACD;;IACD,IAAIK,CAAC,GAAGL,GAAG,CAAC,CAAD,CAAX,EAAgB;MACdA,GAAG,CAAC,CAAD,CAAHA,GAASK,CAATL;IACD;EACF;;EAEDH,IAAI,CAACS,SAALT,CAAeC,GAAfD,EAAoBG,GAApBH;EACA,OAAOA,IAAP;AACD","names":["vec3","AABB","generateAABBFromVertices","positions","aabb","min","fromValues","max","i","length","x","y","z","setMinMax"],"sources":["../../src/utils/aabb.ts"],"sourcesContent":["import { vec3 } from 'gl-matrix';\nimport { AABB } from '../shape/AABB';\n\n/**\n * generate AABB with positions\n * @param positions [x1,y1,z1, x2,y2,z2]\n */\nexport function generateAABBFromVertices(positions: number[]): AABB {\n  const aabb = new AABB();\n  const min = vec3.fromValues(positions[0], positions[1], positions[2]);\n  const max = vec3.fromValues(positions[0], positions[1], positions[2]);\n\n  for (let i = 3; i < positions.length; ) {\n    const x = positions[i++];\n    const y = positions[i++];\n    const z = positions[i++];\n    if (x < min[0]) {\n      min[0] = x;\n    }\n    if (y < min[1]) {\n      min[1] = y;\n    }\n    if (z < min[2]) {\n      min[2] = z;\n    }\n    if (x > max[0]) {\n      max[0] = x;\n    }\n    if (y > max[1]) {\n      max[1] = y;\n    }\n    if (z > max[2]) {\n      max[2] = z;\n    }\n  }\n\n  aabb.setMinMax(min, max);\n  return aabb;\n}\n"]},"metadata":{},"sourceType":"module"}