{"ast":null,"code":"import { head, indexOf, size, last } from '@antv/util';\nimport { prettyNumber } from './pretty-number';\nexport var DEFAULT_Q = [1, 5, 2, 2.5, 4, 3];\nexport var ALL_Q = [1, 5, 2, 2.5, 4, 3, 1.5, 7, 6, 8, 9];\nvar eps = Number.EPSILON * 100;\n\nfunction mod(n, m) {\n  return (n % m + m) % m;\n}\n\nfunction round(n) {\n  return Math.round(n * 1e12) / 1e12;\n}\n\nfunction simplicity(q, Q, j, lmin, lmax, lstep) {\n  var n = size(Q);\n  var i = indexOf(Q, q);\n  var v = 0;\n  var m = mod(lmin, lstep);\n\n  if ((m < eps || lstep - m < eps) && lmin <= 0 && lmax >= 0) {\n    v = 1;\n  }\n\n  return 1 - i / (n - 1) - j + v;\n}\n\nfunction simplicityMax(q, Q, j) {\n  var n = size(Q);\n  var i = indexOf(Q, q);\n  var v = 1;\n  return 1 - i / (n - 1) - j + v;\n}\n\nfunction density(k, m, dMin, dMax, lMin, lMax) {\n  var r = (k - 1) / (lMax - lMin);\n  var rt = (m - 1) / (Math.max(lMax, dMax) - Math.min(dMin, lMin));\n  return 2 - Math.max(r / rt, rt / r);\n}\n\nfunction densityMax(k, m) {\n  if (k >= m) {\n    return 2 - (k - 1) / (m - 1);\n  }\n\n  return 1;\n}\n\nfunction coverage(dMin, dMax, lMin, lMax) {\n  var range = dMax - dMin;\n  return 1 - 0.5 * (Math.pow(dMax - lMax, 2) + Math.pow(dMin - lMin, 2)) / Math.pow(0.1 * range, 2);\n}\n\nfunction coverageMax(dMin, dMax, span) {\n  var range = dMax - dMin;\n\n  if (span > range) {\n    var half = (span - range) / 2;\n    return 1 - Math.pow(half, 2) / Math.pow(0.1 * range, 2);\n  }\n\n  return 1;\n}\n\nfunction legibility() {\n  return 1;\n}\n/**\n * An Extension of Wilkinson's Algorithm for Position Tick Labels on Axes\n * https://www.yuque.com/preview/yuque/0/2019/pdf/185317/1546999150858-45c3b9c2-4e86-4223-bf1a-8a732e8195ed.pdf\n * @param dMin 最小值\n * @param dMax 最大值\n * @param m tick个数\n * @param onlyLoose 是否允许扩展min、max，不绝对强制，例如[3, 97]\n * @param Q nice numbers集合\n * @param w 四个优化组件的权重\n */\n\n\nexport default function extended(dMin, dMax, n, onlyLoose, Q, w) {\n  if (n === void 0) {\n    n = 5;\n  }\n\n  if (onlyLoose === void 0) {\n    onlyLoose = true;\n  }\n\n  if (Q === void 0) {\n    Q = DEFAULT_Q;\n  }\n\n  if (w === void 0) {\n    w = [0.25, 0.2, 0.5, 0.05];\n  } // 处理小于 0 和小数的 tickCount\n\n\n  var m = n < 0 ? 0 : Math.round(n); // nan 也会导致异常\n\n  if (Number.isNaN(dMin) || Number.isNaN(dMax) || typeof dMin !== 'number' || typeof dMax !== 'number' || !m) {\n    return {\n      min: 0,\n      max: 0,\n      ticks: []\n    };\n  } // js 极大值极小值问题，差值小于 1e-15 会导致计算出错\n\n\n  if (dMax - dMin < 1e-15 || m === 1) {\n    return {\n      min: dMin,\n      max: dMax,\n      ticks: [dMin]\n    };\n  } // js 超大值问题\n\n\n  if (dMax - dMin > 1e148) {\n    var count = n || 5;\n    var step_1 = (dMax - dMin) / count;\n    return {\n      min: dMin,\n      max: dMax,\n      ticks: Array(count).fill(null).map(function (_, idx) {\n        return prettyNumber(dMin + step_1 * idx);\n      })\n    };\n  }\n\n  var best = {\n    score: -2,\n    lmin: 0,\n    lmax: 0,\n    lstep: 0\n  };\n  var j = 1;\n\n  while (j < Infinity) {\n    for (var i = 0; i < Q.length; i += 1) {\n      var q = Q[i];\n      var sm = simplicityMax(q, Q, j);\n\n      if (w[0] * sm + w[1] + w[2] + w[3] < best.score) {\n        j = Infinity;\n        break;\n      }\n\n      var k = 2;\n\n      while (k < Infinity) {\n        var dm = densityMax(k, m);\n\n        if (w[0] * sm + w[1] + w[2] * dm + w[3] < best.score) {\n          break;\n        }\n\n        var delta = (dMax - dMin) / (k + 1) / j / q;\n        var z = Math.ceil(Math.log10(delta));\n\n        while (z < Infinity) {\n          var step = j * q * Math.pow(10, z);\n          var cm = coverageMax(dMin, dMax, step * (k - 1));\n\n          if (w[0] * sm + w[1] * cm + w[2] * dm + w[3] < best.score) {\n            break;\n          }\n\n          var minStart = Math.floor(dMax / step) * j - (k - 1) * j;\n          var maxStart = Math.ceil(dMin / step) * j;\n\n          if (minStart <= maxStart) {\n            var count = maxStart - minStart;\n\n            for (var i_1 = 0; i_1 <= count; i_1 += 1) {\n              var start = minStart + i_1;\n              var lMin = start * (step / j);\n              var lMax = lMin + step * (k - 1);\n              var lStep = step;\n              var s = simplicity(q, Q, j, lMin, lMax, lStep);\n              var c = coverage(dMin, dMax, lMin, lMax);\n              var g = density(k, m, dMin, dMax, lMin, lMax);\n              var l = legibility();\n              var score = w[0] * s + w[1] * c + w[2] * g + w[3] * l;\n\n              if (score > best.score && (!onlyLoose || lMin <= dMin && lMax >= dMax)) {\n                best.lmin = lMin;\n                best.lmax = lMax;\n                best.lstep = lStep;\n                best.score = score;\n              }\n            }\n          }\n\n          z += 1;\n        }\n\n        k += 1;\n      }\n    }\n\n    j += 1;\n  } // 处理精度问题，保证这三个数没有精度问题\n\n\n  var lmax = prettyNumber(best.lmax);\n  var lmin = prettyNumber(best.lmin);\n  var lstep = prettyNumber(best.lstep); // 加 round 是为处理 extended(0.94, 1, 5)\n  // 保证生成的 tickCount 没有精度问题\n\n  var tickCount = Math.floor(round((lmax - lmin) / lstep)) + 1;\n  var ticks = new Array(tickCount); // 少用乘法：防止出现 -1.2 + 1.2 * 3 = 2.3999999999999995 的情况\n\n  ticks[0] = prettyNumber(lmin);\n\n  for (var i = 1; i < tickCount; i++) {\n    ticks[i] = prettyNumber(ticks[i - 1] + lstep);\n  }\n\n  return {\n    min: Math.min(dMin, head(ticks)),\n    max: Math.max(dMax, last(ticks)),\n    ticks: ticks\n  };\n}","map":{"version":3,"mappings":"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","names":["head","indexOf","size","last","prettyNumber","DEFAULT_Q","ALL_Q","eps","Number","EPSILON","mod","n","m","round","Math","simplicity","q","Q","j","lmin","lmax","lstep","i","v","simplicityMax","density","k","dMin","dMax","lMin","lMax","r","rt","max","min","densityMax","coverage","range","coverageMax","span","half","legibility","extended","onlyLoose","w","isNaN","ticks","count","step_1","Array","fill","map","_","idx","best","score","Infinity","length","sm","dm","delta","z","ceil","log10","step","cm","minStart","floor","maxStart","i_1","start","lStep","s","c","g","l","tickCount"],"sourceRoot":"","sources":["../../src/util/extended.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}