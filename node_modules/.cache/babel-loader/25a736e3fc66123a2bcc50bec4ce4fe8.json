{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport Graph from '../Graph';\nimport PriorityQueue from './PriorityQueue';\n\nvar prim = function prim(graph, weightFn) {\n  var result = new Graph();\n  var parents = new Map();\n  var pq = new PriorityQueue();\n  var v;\n\n  function updateNeighbors(edge) {\n    var w = edge.v === v ? edge.w : edge.v;\n    var pri = pq.priority(w);\n\n    if (pri !== undefined) {\n      var edgeWeight = weightFn(edge);\n\n      if (edgeWeight < pri) {\n        parents.set(w, v);\n        pq.decrease(w, edgeWeight);\n      }\n    }\n  }\n\n  if (graph.nodeCount() === 0) {\n    return result;\n  }\n\n  graph.nodes().forEach(function (node) {\n    pq.add(node, Number.POSITIVE_INFINITY);\n    result.setNode(node);\n  }); // Start from an arbitrary node\n\n  pq.decrease(graph.nodes()[0], 0);\n  var init = false;\n\n  while (pq.size() > 0) {\n    var _graph$nodeEdges;\n\n    v = pq.removeMin();\n\n    if (parents.has(v)) {\n      result.setEdge(v, parents.get(v));\n    } else if (init) {\n      throw new Error('Input graph is not connected: ' + graph.graph());\n    } else {\n      init = true;\n    }\n\n    (_graph$nodeEdges = graph.nodeEdges(v)) === null || _graph$nodeEdges === void 0 ? void 0 : _graph$nodeEdges.forEach(updateNeighbors);\n  }\n\n  return result;\n};\n\nexport default prim;","map":{"version":3,"names":["Graph","PriorityQueue","prim","graph","weightFn","result","parents","Map","pq","v","updateNeighbors","edge","w","pri","priority","undefined","edgeWeight","set","decrease","nodeCount","nodes","forEach","node","add","Number","POSITIVE_INFINITY","setNode","init","size","_graph$nodeEdges","removeMin","has","setEdge","get","Error","nodeEdges"],"sources":["/Users/wawalike/Desktop/ggProject/node_modules/@antv/graphlib/es/algorithm/prim.js"],"sourcesContent":["import Graph from '../Graph';\nimport PriorityQueue from './PriorityQueue';\n\nvar prim = function prim(graph, weightFn) {\n  var result = new Graph();\n  var parents = new Map();\n  var pq = new PriorityQueue();\n  var v;\n\n  function updateNeighbors(edge) {\n    var w = edge.v === v ? edge.w : edge.v;\n    var pri = pq.priority(w);\n\n    if (pri !== undefined) {\n      var edgeWeight = weightFn(edge);\n\n      if (edgeWeight < pri) {\n        parents.set(w, v);\n        pq.decrease(w, edgeWeight);\n      }\n    }\n  }\n\n  if (graph.nodeCount() === 0) {\n    return result;\n  }\n\n  graph.nodes().forEach(function (node) {\n    pq.add(node, Number.POSITIVE_INFINITY);\n    result.setNode(node);\n  }); // Start from an arbitrary node\n\n  pq.decrease(graph.nodes()[0], 0);\n  var init = false;\n\n  while (pq.size() > 0) {\n    var _graph$nodeEdges;\n\n    v = pq.removeMin();\n\n    if (parents.has(v)) {\n      result.setEdge(v, parents.get(v));\n    } else if (init) {\n      throw new Error('Input graph is not connected: ' + graph.graph());\n    } else {\n      init = true;\n    }\n\n    (_graph$nodeEdges = graph.nodeEdges(v)) === null || _graph$nodeEdges === void 0 ? void 0 : _graph$nodeEdges.forEach(updateNeighbors);\n  }\n\n  return result;\n};\n\nexport default prim;"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,UAAlB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;;AAEA,IAAIC,IAAI,GAAG,SAASA,IAAT,CAAcC,KAAd,EAAqBC,QAArB,EAA+B;EACxC,IAAIC,MAAM,GAAG,IAAIL,KAAJ,EAAb;EACA,IAAIM,OAAO,GAAG,IAAIC,GAAJ,EAAd;EACA,IAAIC,EAAE,GAAG,IAAIP,aAAJ,EAAT;EACA,IAAIQ,CAAJ;;EAEA,SAASC,eAAT,CAAyBC,IAAzB,EAA+B;IAC7B,IAAIC,CAAC,GAAGD,IAAI,CAACF,CAAL,KAAWA,CAAX,GAAeE,IAAI,CAACC,CAApB,GAAwBD,IAAI,CAACF,CAArC;IACA,IAAII,GAAG,GAAGL,EAAE,CAACM,QAAH,CAAYF,CAAZ,CAAV;;IAEA,IAAIC,GAAG,KAAKE,SAAZ,EAAuB;MACrB,IAAIC,UAAU,GAAGZ,QAAQ,CAACO,IAAD,CAAzB;;MAEA,IAAIK,UAAU,GAAGH,GAAjB,EAAsB;QACpBP,OAAO,CAACW,GAAR,CAAYL,CAAZ,EAAeH,CAAf;QACAD,EAAE,CAACU,QAAH,CAAYN,CAAZ,EAAeI,UAAf;MACD;IACF;EACF;;EAED,IAAIb,KAAK,CAACgB,SAAN,OAAsB,CAA1B,EAA6B;IAC3B,OAAOd,MAAP;EACD;;EAEDF,KAAK,CAACiB,KAAN,GAAcC,OAAd,CAAsB,UAAUC,IAAV,EAAgB;IACpCd,EAAE,CAACe,GAAH,CAAOD,IAAP,EAAaE,MAAM,CAACC,iBAApB;IACApB,MAAM,CAACqB,OAAP,CAAeJ,IAAf;EACD,CAHD,EAxBwC,CA2BpC;;EAEJd,EAAE,CAACU,QAAH,CAAYf,KAAK,CAACiB,KAAN,GAAc,CAAd,CAAZ,EAA8B,CAA9B;EACA,IAAIO,IAAI,GAAG,KAAX;;EAEA,OAAOnB,EAAE,CAACoB,IAAH,KAAY,CAAnB,EAAsB;IACpB,IAAIC,gBAAJ;;IAEApB,CAAC,GAAGD,EAAE,CAACsB,SAAH,EAAJ;;IAEA,IAAIxB,OAAO,CAACyB,GAAR,CAAYtB,CAAZ,CAAJ,EAAoB;MAClBJ,MAAM,CAAC2B,OAAP,CAAevB,CAAf,EAAkBH,OAAO,CAAC2B,GAAR,CAAYxB,CAAZ,CAAlB;IACD,CAFD,MAEO,IAAIkB,IAAJ,EAAU;MACf,MAAM,IAAIO,KAAJ,CAAU,mCAAmC/B,KAAK,CAACA,KAAN,EAA7C,CAAN;IACD,CAFM,MAEA;MACLwB,IAAI,GAAG,IAAP;IACD;;IAED,CAACE,gBAAgB,GAAG1B,KAAK,CAACgC,SAAN,CAAgB1B,CAAhB,CAApB,MAA4C,IAA5C,IAAoDoB,gBAAgB,KAAK,KAAK,CAA9E,GAAkF,KAAK,CAAvF,GAA2FA,gBAAgB,CAACR,OAAjB,CAAyBX,eAAzB,CAA3F;EACD;;EAED,OAAOL,MAAP;AACD,CAjDD;;AAmDA,eAAeH,IAAf"},"metadata":{},"sourceType":"module"}