{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { mix, each, isArray, isString } from '@antv/util';\nimport { registerEdge, Util, BaseGlobal as Global } from '@antv/g6-core';\nimport { getPathWithBorderRadiusByPolyline, getPolylinePoints } from './polyline-util';\nimport { pathFinder } from './router'; // 折线\n\nregisterEdge('polyline', {\n  options: {\n    color: Global.defaultEdge.color,\n    size: Global.defaultEdge.size,\n    style: {\n      radius: 0,\n      offset: 15,\n      x: 0,\n      y: 0,\n      stroke: Global.defaultEdge.style.stroke,\n      lineAppendWidth: Global.defaultEdge.style.lineAppendWidth\n    },\n    // 文本样式配置\n    labelCfg: {\n      style: {\n        fill: Global.edgeLabel.style.fill,\n        fontSize: Global.edgeLabel.style.fontSize,\n        fontFamily: Global.windowFontFamily\n      }\n    },\n    routeCfg: {\n      obstacles: [],\n      maxAllowedDirectionChange: Math.PI,\n      maximumLoops: 500,\n      gridSize: 10 // 指定精度\n\n    },\n    stateStyles: __assign({}, Global.edgeStateStyles)\n  },\n  shapeType: 'polyline',\n  // 文本位置\n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var shapeStyle = this.getShapeStyle(cfg);\n    if (shapeStyle.radius === 0) delete shapeStyle.radius;\n    var keyShape = group.addShape('path', {\n      className: 'edge-shape',\n      name: 'edge-shape',\n      attrs: shapeStyle\n    });\n    group['shapeMap']['edge-shape'] = keyShape;\n    return keyShape;\n  },\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.options.style;\n    var strokeStyle = {\n      stroke: cfg.color\n    };\n    var style = mix({}, defaultStyle, strokeStyle, cfg.style);\n    cfg = this.getPathPoints(cfg);\n    this.radius = style.radius;\n    this.offset = style.offset;\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    var controlPoints = this.getControlPoints(cfg);\n    var points = [startPoint]; // 添加起始点\n    // 添加控制点\n\n    if (controlPoints) {\n      points = points.concat(controlPoints);\n    } // 添加结束点\n\n\n    points.push(endPoint);\n    var source = cfg.sourceNode;\n    var target = cfg.targetNode;\n    var radius = style.radius;\n    var defaultRouteCfg = this.options.routeCfg;\n    var routeCfg = mix({}, defaultRouteCfg, cfg.routeCfg);\n    routeCfg.offset = style.offset;\n    var path = this.getPath(points, source, target, radius, routeCfg);\n\n    if (isArray(path) && path.length <= 1 || isString(path) && path.indexOf('L') === -1) {\n      path = 'M0 0, L0 0';\n    }\n\n    if (isNaN(startPoint.x) || isNaN(startPoint.y) || isNaN(endPoint.x) || isNaN(endPoint.y)) {\n      path = 'M0 0, L0 0';\n    }\n\n    var attrs = mix({}, Global.defaultEdge.style, style, {\n      lineWidth: cfg.size,\n      path: path\n    });\n    return attrs;\n  },\n  updateShapeStyle: function updateShapeStyle(cfg, item) {\n    var group = item.getContainer();\n    if (!item.isVisible()) return;\n    var strokeStyle = {\n      stroke: cfg.color\n    };\n    var shape = group['shapeMap']['edge-shape'] || group.find(function (element) {\n      return element.get('className') === 'edge-shape';\n    }) || item.getKeyShape();\n    var size = cfg.size;\n    cfg = this.getPathPoints(cfg);\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    var controlPoints = this.getControlPoints(cfg); // || cfg.controlPoints;\n\n    var points = [startPoint]; // 添加起始点\n    // 添加控制点\n\n    if (controlPoints) {\n      points = points.concat(controlPoints);\n    } // 添加结束点\n\n\n    points.push(endPoint);\n    var currentAttr = shape.attr();\n    var previousStyle = mix({}, strokeStyle, currentAttr, cfg.style);\n    var source = cfg.sourceNode;\n    var target = cfg.targetNode;\n    var radius = previousStyle.radius;\n    var defaultRouteCfg = this.options.routeCfg;\n    var routeCfg = mix({}, defaultRouteCfg, cfg.routeCfg);\n    routeCfg.offset = previousStyle.offset;\n    var path = this.getPath(points, source, target, radius, routeCfg);\n\n    if (isArray(path) && path.length <= 1 || isString(path) && path.indexOf('L') === -1) {\n      path = 'M0 0, L0 0';\n    }\n\n    if (isNaN(startPoint.x) || isNaN(startPoint.y) || isNaN(endPoint.x) || isNaN(endPoint.y)) {\n      path = 'M0 0, L0 0';\n    }\n\n    if (currentAttr.endArrow && previousStyle.endArrow === false) {\n      cfg.style.endArrow = {\n        path: ''\n      };\n    }\n\n    if (currentAttr.startArrow && previousStyle.startArrow === false) {\n      cfg.style.startArrow = {\n        path: ''\n      };\n    }\n\n    var style = mix(strokeStyle, shape.attr(), {\n      lineWidth: size,\n      path: path\n    }, cfg.style);\n\n    if (shape) {\n      shape.attr(style);\n    }\n  },\n  getPath: function getPath(points, source, target, radius, routeCfg) {\n    var offset = routeCfg.offset,\n        simple = routeCfg.simple; // 指定了控制点\n\n    if (!offset || points.length > 2) {\n      if (radius) {\n        return getPathWithBorderRadiusByPolyline(points, radius);\n      }\n\n      var pathArray_1 = [];\n      each(points, function (point, index) {\n        if (index === 0) {\n          pathArray_1.push(['M', point.x, point.y]);\n        } else {\n          pathArray_1.push(['L', point.x, point.y]);\n        }\n      });\n      return pathArray_1;\n    } // 未指定控制点\n\n\n    var polylinePoints = simple ? getPolylinePoints(points[points.length - 1], points[0], target, source, offset) : pathFinder(points[0], points[points.length - 1], source, target, routeCfg);\n    if (!polylinePoints || !polylinePoints.length) return 'M0 0, L0 0';\n\n    if (radius) {\n      var res_1 = getPathWithBorderRadiusByPolyline(polylinePoints, radius);\n      return res_1;\n    }\n\n    var res = Util.pointsToPolygon(polylinePoints);\n    return res;\n  }\n}, 'single-edge');","map":{"version":3,"names":["__assign","mix","each","isArray","isString","registerEdge","Util","BaseGlobal","Global","getPathWithBorderRadiusByPolyline","getPolylinePoints","pathFinder","options","color","defaultEdge","size","style","radius","offset","x","y","stroke","lineAppendWidth","labelCfg","fill","edgeLabel","fontSize","fontFamily","windowFontFamily","routeCfg","obstacles","maxAllowedDirectionChange","Math","PI","maximumLoops","gridSize","stateStyles","edgeStateStyles","shapeType","labelPosition","drawShape","cfg","group","shapeStyle","getShapeStyle","keyShape","addShape","className","name","attrs","defaultStyle","strokeStyle","getPathPoints","startPoint","endPoint","controlPoints","getControlPoints","points","concat","push","source","sourceNode","target","targetNode","defaultRouteCfg","path","getPath","length","indexOf","isNaN","lineWidth","updateShapeStyle","item","getContainer","isVisible","shape","find","element","get","getKeyShape","currentAttr","attr","previousStyle","endArrow","startArrow","simple","pathArray_1","point","index","polylinePoints","res_1","res","pointsToPolygon"],"sources":["/Users/wawalike/Desktop/ggProject/node_modules/@antv/g6-element/es/edges/polyline.js"],"sourcesContent":["import { __assign } from \"tslib\";\nimport { mix, each, isArray, isString } from '@antv/util';\nimport { registerEdge, Util, BaseGlobal as Global } from '@antv/g6-core';\nimport { getPathWithBorderRadiusByPolyline, getPolylinePoints } from './polyline-util';\nimport { pathFinder } from './router'; // 折线\n\nregisterEdge('polyline', {\n  options: {\n    color: Global.defaultEdge.color,\n    size: Global.defaultEdge.size,\n    style: {\n      radius: 0,\n      offset: 15,\n      x: 0,\n      y: 0,\n      stroke: Global.defaultEdge.style.stroke,\n      lineAppendWidth: Global.defaultEdge.style.lineAppendWidth\n    },\n    // 文本样式配置\n    labelCfg: {\n      style: {\n        fill: Global.edgeLabel.style.fill,\n        fontSize: Global.edgeLabel.style.fontSize,\n        fontFamily: Global.windowFontFamily\n      }\n    },\n    routeCfg: {\n      obstacles: [],\n      maxAllowedDirectionChange: Math.PI,\n      maximumLoops: 500,\n      gridSize: 10 // 指定精度\n\n    },\n    stateStyles: __assign({}, Global.edgeStateStyles)\n  },\n  shapeType: 'polyline',\n  // 文本位置\n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var shapeStyle = this.getShapeStyle(cfg);\n    if (shapeStyle.radius === 0) delete shapeStyle.radius;\n    var keyShape = group.addShape('path', {\n      className: 'edge-shape',\n      name: 'edge-shape',\n      attrs: shapeStyle\n    });\n    group['shapeMap']['edge-shape'] = keyShape;\n    return keyShape;\n  },\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.options.style;\n    var strokeStyle = {\n      stroke: cfg.color\n    };\n    var style = mix({}, defaultStyle, strokeStyle, cfg.style);\n    cfg = this.getPathPoints(cfg);\n    this.radius = style.radius;\n    this.offset = style.offset;\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    var controlPoints = this.getControlPoints(cfg);\n    var points = [startPoint]; // 添加起始点\n    // 添加控制点\n\n    if (controlPoints) {\n      points = points.concat(controlPoints);\n    } // 添加结束点\n\n\n    points.push(endPoint);\n    var source = cfg.sourceNode;\n    var target = cfg.targetNode;\n    var radius = style.radius;\n    var defaultRouteCfg = this.options.routeCfg;\n    var routeCfg = mix({}, defaultRouteCfg, cfg.routeCfg);\n    routeCfg.offset = style.offset;\n    var path = this.getPath(points, source, target, radius, routeCfg);\n\n    if (isArray(path) && path.length <= 1 || isString(path) && path.indexOf('L') === -1) {\n      path = 'M0 0, L0 0';\n    }\n\n    if (isNaN(startPoint.x) || isNaN(startPoint.y) || isNaN(endPoint.x) || isNaN(endPoint.y)) {\n      path = 'M0 0, L0 0';\n    }\n\n    var attrs = mix({}, Global.defaultEdge.style, style, {\n      lineWidth: cfg.size,\n      path: path\n    });\n    return attrs;\n  },\n  updateShapeStyle: function updateShapeStyle(cfg, item) {\n    var group = item.getContainer();\n    if (!item.isVisible()) return;\n    var strokeStyle = {\n      stroke: cfg.color\n    };\n    var shape = group['shapeMap']['edge-shape'] || group.find(function (element) {\n      return element.get('className') === 'edge-shape';\n    }) || item.getKeyShape();\n    var size = cfg.size;\n    cfg = this.getPathPoints(cfg);\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    var controlPoints = this.getControlPoints(cfg); // || cfg.controlPoints;\n\n    var points = [startPoint]; // 添加起始点\n    // 添加控制点\n\n    if (controlPoints) {\n      points = points.concat(controlPoints);\n    } // 添加结束点\n\n\n    points.push(endPoint);\n    var currentAttr = shape.attr();\n    var previousStyle = mix({}, strokeStyle, currentAttr, cfg.style);\n    var source = cfg.sourceNode;\n    var target = cfg.targetNode;\n    var radius = previousStyle.radius;\n    var defaultRouteCfg = this.options.routeCfg;\n    var routeCfg = mix({}, defaultRouteCfg, cfg.routeCfg);\n    routeCfg.offset = previousStyle.offset;\n    var path = this.getPath(points, source, target, radius, routeCfg);\n\n    if (isArray(path) && path.length <= 1 || isString(path) && path.indexOf('L') === -1) {\n      path = 'M0 0, L0 0';\n    }\n\n    if (isNaN(startPoint.x) || isNaN(startPoint.y) || isNaN(endPoint.x) || isNaN(endPoint.y)) {\n      path = 'M0 0, L0 0';\n    }\n\n    if (currentAttr.endArrow && previousStyle.endArrow === false) {\n      cfg.style.endArrow = {\n        path: ''\n      };\n    }\n\n    if (currentAttr.startArrow && previousStyle.startArrow === false) {\n      cfg.style.startArrow = {\n        path: ''\n      };\n    }\n\n    var style = mix(strokeStyle, shape.attr(), {\n      lineWidth: size,\n      path: path\n    }, cfg.style);\n\n    if (shape) {\n      shape.attr(style);\n    }\n  },\n  getPath: function getPath(points, source, target, radius, routeCfg) {\n    var offset = routeCfg.offset,\n        simple = routeCfg.simple; // 指定了控制点\n\n    if (!offset || points.length > 2) {\n      if (radius) {\n        return getPathWithBorderRadiusByPolyline(points, radius);\n      }\n\n      var pathArray_1 = [];\n      each(points, function (point, index) {\n        if (index === 0) {\n          pathArray_1.push(['M', point.x, point.y]);\n        } else {\n          pathArray_1.push(['L', point.x, point.y]);\n        }\n      });\n      return pathArray_1;\n    } // 未指定控制点\n\n\n    var polylinePoints = simple ? getPolylinePoints(points[points.length - 1], points[0], target, source, offset) : pathFinder(points[0], points[points.length - 1], source, target, routeCfg);\n    if (!polylinePoints || !polylinePoints.length) return 'M0 0, L0 0';\n\n    if (radius) {\n      var res_1 = getPathWithBorderRadiusByPolyline(polylinePoints, radius);\n      return res_1;\n    }\n\n    var res = Util.pointsToPolygon(polylinePoints);\n    return res;\n  }\n}, 'single-edge');"],"mappings":"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"},"metadata":{},"sourceType":"module"}