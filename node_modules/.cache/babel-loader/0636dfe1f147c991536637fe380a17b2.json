{"ast":null,"code":"import { offset, getStrokeWidth } from './util';\n/**\n * Places the connection point at the intersection between the edge\n * path end segment and the target node bbox.\n */\n\nexport const bbox = function (line, view, magnet, options) {\n  const bbox = view.getBBoxOfElement(magnet);\n\n  if (options.stroked) {\n    bbox.inflate(getStrokeWidth(magnet) / 2);\n  }\n\n  const intersections = line.intersect(bbox);\n  const p = intersections && intersections.length ? line.start.closest(intersections) : line.end;\n  return offset(p, line.start, options.offset);\n};","map":{"version":3,"mappings":"AAAA,SAASA,MAAT,EAAiBC,cAAjB,QAAuC,QAAvC;AAKA;;;;;AAIA,OAAO,MAAMC,IAAI,GAA4C,UAC3DC,IAD2D,EAE3DC,IAF2D,EAG3DC,MAH2D,EAI3DC,OAJ2D,EAIpD;EAEP,MAAMJ,IAAI,GAAGE,IAAI,CAACG,gBAAL,CAAsBF,MAAtB,CAAb;;EACA,IAAIC,OAAO,CAACE,OAAZ,EAAqB;IACnBN,IAAI,CAACO,OAAL,CAAaR,cAAc,CAACI,MAAD,CAAd,GAAyB,CAAtC;EACD;;EACD,MAAMK,aAAa,GAAGP,IAAI,CAACQ,SAAL,CAAeT,IAAf,CAAtB;EACA,MAAMU,CAAC,GACLF,aAAa,IAAIA,aAAa,CAACG,MAA/B,GACIV,IAAI,CAACW,KAAL,CAAWC,OAAX,CAAmBL,aAAnB,CADJ,GAEIP,IAAI,CAACa,GAHX;EAIA,OAAOhB,MAAM,CAACY,CAAD,EAAIT,IAAI,CAACW,KAAT,EAAgBR,OAAO,CAACN,MAAxB,CAAb;AACD,CAhBM","names":["offset","getStrokeWidth","bbox","line","view","magnet","options","getBBoxOfElement","stroked","inflate","intersections","intersect","p","length","start","closest","end"],"sourceRoot":"","sources":["../../../src/registry/connection-point/bbox.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}