{"ast":null,"code":"const indent = ' '.repeat(2);\nconst indentData = ' '.repeat(4);\nexport function inspectMatrix() {\n  return inspectMatrixWithOptions(this);\n}\nexport function inspectMatrixWithOptions(matrix, options = {}) {\n  const {\n    maxRows = 15,\n    maxColumns = 10,\n    maxNumSize = 8\n  } = options;\n  return `${matrix.constructor.name} {\n${indent}[\n${indentData}${inspectData(matrix, maxRows, maxColumns, maxNumSize)}\n${indent}]\n${indent}rows: ${matrix.rows}\n${indent}columns: ${matrix.columns}\n}`;\n}\n\nfunction inspectData(matrix, maxRows, maxColumns, maxNumSize) {\n  const {\n    rows,\n    columns\n  } = matrix;\n  const maxI = Math.min(rows, maxRows);\n  const maxJ = Math.min(columns, maxColumns);\n  const result = [];\n\n  for (let i = 0; i < maxI; i++) {\n    let line = [];\n\n    for (let j = 0; j < maxJ; j++) {\n      line.push(formatNumber(matrix.get(i, j), maxNumSize));\n    }\n\n    result.push(`${line.join(' ')}`);\n  }\n\n  if (maxJ !== columns) {\n    result[result.length - 1] += ` ... ${columns - maxColumns} more columns`;\n  }\n\n  if (maxI !== rows) {\n    result.push(`... ${rows - maxRows} more rows`);\n  }\n\n  return result.join(`\\n${indentData}`);\n}\n\nfunction formatNumber(num, maxNumSize) {\n  const numStr = String(num);\n\n  if (numStr.length <= maxNumSize) {\n    return numStr.padEnd(maxNumSize, ' ');\n  }\n\n  const precise = num.toPrecision(maxNumSize - 2);\n\n  if (precise.length <= maxNumSize) {\n    return precise;\n  }\n\n  const exponential = num.toExponential(maxNumSize - 2);\n  const eIndex = exponential.indexOf('e');\n  const e = exponential.slice(eIndex);\n  return exponential.slice(0, maxNumSize - e.length) + e;\n}","map":{"version":3,"names":["indent","repeat","indentData","inspectMatrix","inspectMatrixWithOptions","matrix","options","maxRows","maxColumns","maxNumSize","constructor","name","inspectData","rows","columns","maxI","Math","min","maxJ","result","i","line","j","push","formatNumber","get","join","length","num","numStr","String","padEnd","precise","toPrecision","exponential","toExponential","eIndex","indexOf","e","slice"],"sources":["/Users/wawalike/Desktop/ggProject/node_modules/ml-matrix/src/inspect.js"],"sourcesContent":["const indent = ' '.repeat(2);\nconst indentData = ' '.repeat(4);\n\nexport function inspectMatrix() {\n  return inspectMatrixWithOptions(this);\n}\n\nexport function inspectMatrixWithOptions(matrix, options = {}) {\n  const { maxRows = 15, maxColumns = 10, maxNumSize = 8 } = options;\n  return `${matrix.constructor.name} {\n${indent}[\n${indentData}${inspectData(matrix, maxRows, maxColumns, maxNumSize)}\n${indent}]\n${indent}rows: ${matrix.rows}\n${indent}columns: ${matrix.columns}\n}`;\n}\n\nfunction inspectData(matrix, maxRows, maxColumns, maxNumSize) {\n  const { rows, columns } = matrix;\n  const maxI = Math.min(rows, maxRows);\n  const maxJ = Math.min(columns, maxColumns);\n  const result = [];\n  for (let i = 0; i < maxI; i++) {\n    let line = [];\n    for (let j = 0; j < maxJ; j++) {\n      line.push(formatNumber(matrix.get(i, j), maxNumSize));\n    }\n    result.push(`${line.join(' ')}`);\n  }\n  if (maxJ !== columns) {\n    result[result.length - 1] += ` ... ${columns - maxColumns} more columns`;\n  }\n  if (maxI !== rows) {\n    result.push(`... ${rows - maxRows} more rows`);\n  }\n  return result.join(`\\n${indentData}`);\n}\n\nfunction formatNumber(num, maxNumSize) {\n  const numStr = String(num);\n  if (numStr.length <= maxNumSize) {\n    return numStr.padEnd(maxNumSize, ' ');\n  }\n  const precise = num.toPrecision(maxNumSize - 2);\n  if (precise.length <= maxNumSize) {\n    return precise;\n  }\n  const exponential = num.toExponential(maxNumSize - 2);\n  const eIndex = exponential.indexOf('e');\n  const e = exponential.slice(eIndex);\n  return exponential.slice(0, maxNumSize - e.length) + e;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}