{"ast":null,"code":"export function isAsyncLike(obj) {\n  return typeof obj === 'object' && obj.then && typeof obj.then === 'function';\n}\nexport function isAsync(obj) {\n  return obj != null && (obj instanceof Promise || isAsyncLike(obj));\n}\nexport function toAsyncBoolean(...inputs) {\n  const results = [];\n  inputs.forEach(arg => {\n    if (Array.isArray(arg)) {\n      results.push(...arg);\n    } else {\n      results.push(arg);\n    }\n  });\n  const hasAsync = results.some(res => isAsync(res));\n\n  if (hasAsync) {\n    const deferres = results.map(res => isAsync(res) ? res : Promise.resolve(res !== false));\n    return Promise.all(deferres).then(arr => arr.reduce((memo, item) => item !== false && memo, true));\n  }\n\n  return results.every(res => res !== false);\n}\nexport function toDeferredBoolean(...inputs) {\n  const ret = toAsyncBoolean(inputs);\n  return typeof ret === 'boolean' ? Promise.resolve(ret) : ret;\n}","map":{"version":3,"mappings":"AAAA,OAAM,SAAUA,WAAV,CAAyBC,GAAzB,EAAiC;EACrC,OAAO,OAAOA,GAAP,KAAe,QAAf,IAA2BA,GAAG,CAACC,IAA/B,IAAuC,OAAOD,GAAG,CAACC,IAAX,KAAoB,UAAlE;AACD;AAED,OAAM,SAAUC,OAAV,CAAqBF,GAArB,EAA6B;EACjC,OAAOA,GAAG,IAAI,IAAP,KAAgBA,GAAG,YAAYG,OAAf,IAA0BJ,WAAW,CAACC,GAAD,CAArD,CAAP;AACD;AAID,OAAM,SAAUI,cAAV,CAAyB,GAAGC,MAA5B,EAAmD;EACvD,MAAMC,OAAO,GAAU,EAAvB;EAEAD,MAAM,CAACE,OAAP,CAAgBC,GAAD,IAAQ;IACrB,IAAIC,KAAK,CAACC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;MACtBF,OAAO,CAACK,IAAR,CAAa,GAAGH,GAAhB;IACD,CAFD,MAEO;MACLF,OAAO,CAACK,IAAR,CAAaH,GAAb;IACD;EACF,CAND;EAQA,MAAMI,QAAQ,GAAGN,OAAO,CAACO,IAAR,CAAcC,GAAD,IAASZ,OAAO,CAACY,GAAD,CAA7B,CAAjB;;EACA,IAAIF,QAAJ,EAAc;IACZ,MAAMG,QAAQ,GAAGT,OAAO,CAACU,GAAR,CAAaF,GAAD,IAC3BZ,OAAO,CAACY,GAAD,CAAP,GAAeA,GAAf,GAAqBX,OAAO,CAACc,OAAR,CAAgBH,GAAG,KAAK,KAAxB,CADN,CAAjB;IAIA,OAAOX,OAAO,CAACe,GAAR,CAAYH,QAAZ,EAAsBd,IAAtB,CAA4BkB,GAAD,IAChCA,GAAG,CAACC,MAAJ,CAAoB,CAACC,IAAD,EAAOC,IAAP,KAAgBA,IAAI,KAAK,KAAT,IAAkBD,IAAtD,EAA4D,IAA5D,CADK,CAAP;EAGD;;EAED,OAAOf,OAAO,CAACiB,KAAR,CAAeT,GAAD,IAASA,GAAG,KAAK,KAA/B,CAAP;AACD;AAED,OAAM,SAAUU,iBAAV,CAA4B,GAAGnB,MAA/B,EAAsD;EAC1D,MAAMoB,GAAG,GAAGrB,cAAc,CAACC,MAAD,CAA1B;EACA,OAAO,OAAOoB,GAAP,KAAe,SAAf,GAA2BtB,OAAO,CAACc,OAAR,CAAgBQ,GAAhB,CAA3B,GAAkDA,GAAzD;AACD","names":["isAsyncLike","obj","then","isAsync","Promise","toAsyncBoolean","inputs","results","forEach","arg","Array","isArray","push","hasAsync","some","res","deferres","map","resolve","all","arr","reduce","memo","item","every","toDeferredBoolean","ret"],"sourceRoot":"","sources":["../../../src/util/function/async.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}