{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\n\n/* eslint-disable @typescript-eslint/no-unused-vars */\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { Rectangle, Point } from '../geometry';\nimport { ArrayExt, ObjectExt, Dom, FunctionExt, Vector } from '../util';\nimport { Registry } from '../registry/registry';\nimport { ConnectionStrategy } from '../registry/connection-strategy';\nimport { View } from './view';\nimport { Cache } from './cache';\nimport { Markup } from './markup';\nimport { ToolsView } from './tool';\nimport { AttrManager } from './attr';\nimport { FlagManager } from './flag';\nexport class CellView extends View {\n  constructor(cell, options = {}) {\n    super();\n    this.cell = cell;\n    this.options = this.ensureOptions(options);\n    this.graph = this.options.graph;\n    this.attr = new AttrManager(this);\n    this.flag = new FlagManager(this, this.options.actions, this.options.bootstrap);\n    this.cache = new Cache(this);\n    this.setContainer(this.ensureContainer());\n    this.setup();\n    this.$(this.container).data('view', this);\n    this.init();\n  }\n\n  static getDefaults() {\n    return this.defaults;\n  }\n\n  static config(options) {\n    this.defaults = this.getOptions(options);\n  }\n\n  static getOptions(options) {\n    const mergeActions = (arr1, arr2) => {\n      if (arr2 != null) {\n        return ArrayExt.uniq([...(Array.isArray(arr1) ? arr1 : [arr1]), ...(Array.isArray(arr2) ? arr2 : [arr2])]);\n      }\n\n      return Array.isArray(arr1) ? [...arr1] : [arr1];\n    };\n\n    const ret = ObjectExt.cloneDeep(this.getDefaults());\n\n    const {\n      bootstrap,\n      actions,\n      events,\n      documentEvents\n    } = options,\n          others = __rest(options, [\"bootstrap\", \"actions\", \"events\", \"documentEvents\"]);\n\n    if (bootstrap) {\n      ret.bootstrap = mergeActions(ret.bootstrap, bootstrap);\n    }\n\n    if (actions) {\n      Object.keys(actions).forEach(key => {\n        const val = actions[key];\n        const raw = ret.actions[key];\n\n        if (val && raw) {\n          ret.actions[key] = mergeActions(raw, val);\n        } else if (val) {\n          ret.actions[key] = mergeActions(val);\n        }\n      });\n    }\n\n    if (events) {\n      ret.events = Object.assign(Object.assign({}, ret.events), events);\n    }\n\n    if (options.documentEvents) {\n      ret.documentEvents = Object.assign(Object.assign({}, ret.documentEvents), documentEvents);\n    }\n\n    return ObjectExt.merge(ret, others);\n  }\n\n  get [Symbol.toStringTag]() {\n    return CellView.toStringTag;\n  }\n\n  init() {}\n\n  onRemove() {\n    this.removeTools();\n  }\n\n  get priority() {\n    return this.options.priority;\n  }\n\n  get rootSelector() {\n    return this.options.rootSelector;\n  }\n\n  getConstructor() {\n    return this.constructor;\n  }\n\n  ensureOptions(options) {\n    return this.getConstructor().getOptions(options);\n  }\n\n  getContainerTagName() {\n    return this.options.isSvgElement ? 'g' : 'div';\n  }\n\n  getContainerStyle() {}\n\n  getContainerAttrs() {\n    return {\n      'data-cell-id': this.cell.id,\n      'data-shape': this.cell.shape\n    };\n  }\n\n  getContainerClassName() {\n    return this.prefixClassName('cell');\n  }\n\n  ensureContainer() {\n    return View.createElement(this.getContainerTagName(), this.options.isSvgElement);\n  }\n\n  setContainer(container) {\n    if (this.container !== container) {\n      this.undelegateEvents();\n      this.container = container;\n\n      if (this.options.events != null) {\n        this.delegateEvents(this.options.events);\n      }\n\n      const attrs = this.getContainerAttrs();\n\n      if (attrs != null) {\n        this.setAttrs(attrs, container);\n      }\n\n      const style = this.getContainerStyle();\n\n      if (style != null) {\n        this.setStyle(style, container);\n      }\n\n      const className = this.getContainerClassName();\n\n      if (className != null) {\n        this.addClass(className, container);\n      }\n    }\n\n    return this;\n  }\n\n  isNodeView() {\n    return false;\n  }\n\n  isEdgeView() {\n    return false;\n  }\n\n  render() {\n    return this;\n  } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  confirmUpdate(flag, options = {}) {\n    return 0;\n  }\n\n  getBootstrapFlag() {\n    return this.flag.getBootstrapFlag();\n  }\n\n  getFlag(actions) {\n    return this.flag.getFlag(actions);\n  }\n\n  hasAction(flag, actions) {\n    return this.flag.hasAction(flag, actions);\n  }\n\n  removeAction(flag, actions) {\n    return this.flag.removeAction(flag, actions);\n  }\n\n  handleAction(flag, action, handle, additionalRemovedActions) {\n    if (this.hasAction(flag, action)) {\n      handle();\n      const removedFlags = [action];\n\n      if (additionalRemovedActions) {\n        if (typeof additionalRemovedActions === 'string') {\n          removedFlags.push(additionalRemovedActions);\n        } else {\n          removedFlags.push(...additionalRemovedActions);\n        }\n      }\n\n      return this.removeAction(flag, removedFlags);\n    }\n\n    return flag;\n  }\n\n  setup() {\n    this.cell.on('changed', ({\n      options\n    }) => this.onAttrsChange(options));\n  }\n\n  onAttrsChange(options) {\n    let flag = this.flag.getChangedFlag();\n\n    if (options.updated || !flag) {\n      return;\n    }\n\n    if (options.dirty && this.hasAction(flag, 'update')) {\n      flag |= this.getFlag('render'); // eslint-disable-line no-bitwise\n    } // tool changes should be sync render\n\n\n    if (options.toolId) {\n      options.async = false;\n    }\n\n    if (this.graph != null) {\n      this.graph.renderer.requestViewUpdate(this, flag, this.priority, options);\n    }\n  }\n\n  parseJSONMarkup(markup, rootElem) {\n    const result = Markup.parseJSONMarkup(markup);\n    const selectors = result.selectors;\n    const rootSelector = this.rootSelector;\n\n    if (rootElem && rootSelector) {\n      if (selectors[rootSelector]) {\n        throw new Error('Invalid root selector');\n      }\n\n      selectors[rootSelector] = rootElem;\n    }\n\n    return result;\n  }\n\n  can(feature) {\n    let interacting = this.graph.options.interacting;\n\n    if (typeof interacting === 'function') {\n      interacting = FunctionExt.call(interacting, this.graph, this);\n    }\n\n    if (typeof interacting === 'object') {\n      let val = interacting[feature];\n\n      if (typeof val === 'function') {\n        val = FunctionExt.call(val, this.graph, this);\n      }\n\n      return val !== false;\n    }\n\n    if (typeof interacting === 'boolean') {\n      return interacting;\n    }\n\n    return false;\n  }\n\n  cleanCache() {\n    this.cache.clean();\n    return this;\n  }\n\n  getCache(elem) {\n    return this.cache.get(elem);\n  }\n\n  getDataOfElement(elem) {\n    return this.cache.getData(elem);\n  }\n\n  getMatrixOfElement(elem) {\n    return this.cache.getMatrix(elem);\n  }\n\n  getShapeOfElement(elem) {\n    return this.cache.getShape(elem);\n  }\n\n  getScaleOfElement(node, scalableNode) {\n    let sx;\n    let sy;\n\n    if (scalableNode && scalableNode.contains(node)) {\n      const scale = Dom.scale(scalableNode);\n      sx = 1 / scale.sx;\n      sy = 1 / scale.sy;\n    } else {\n      sx = 1;\n      sy = 1;\n    }\n\n    return {\n      sx,\n      sy\n    };\n  }\n\n  getBoundingRectOfElement(elem) {\n    return this.cache.getBoundingRect(elem);\n  }\n\n  getBBoxOfElement(elem) {\n    const rect = this.getBoundingRectOfElement(elem);\n    const matrix = this.getMatrixOfElement(elem);\n    const rm = this.getRootRotatedMatrix();\n    const tm = this.getRootTranslatedMatrix();\n    return Dom.transformRectangle(rect, tm.multiply(rm).multiply(matrix));\n  }\n\n  getUnrotatedBBoxOfElement(elem) {\n    const rect = this.getBoundingRectOfElement(elem);\n    const matrix = this.getMatrixOfElement(elem);\n    const tm = this.getRootTranslatedMatrix();\n    return Dom.transformRectangle(rect, tm.multiply(matrix));\n  }\n\n  getBBox(options = {}) {\n    let bbox;\n\n    if (options.useCellGeometry) {\n      const cell = this.cell;\n      const angle = cell.isNode() ? cell.getAngle() : 0;\n      bbox = cell.getBBox().bbox(angle);\n    } else {\n      bbox = this.getBBoxOfElement(this.container);\n    }\n\n    return this.graph.localToGraph(bbox);\n  }\n\n  getRootTranslatedMatrix() {\n    const cell = this.cell;\n    const pos = cell.isNode() ? cell.getPosition() : {\n      x: 0,\n      y: 0\n    };\n    return Dom.createSVGMatrix().translate(pos.x, pos.y);\n  }\n\n  getRootRotatedMatrix() {\n    let matrix = Dom.createSVGMatrix();\n    const cell = this.cell;\n    const angle = cell.isNode() ? cell.getAngle() : 0;\n\n    if (angle) {\n      const bbox = cell.getBBox();\n      const cx = bbox.width / 2;\n      const cy = bbox.height / 2;\n      matrix = matrix.translate(cx, cy).rotate(angle).translate(-cx, -cy);\n    }\n\n    return matrix;\n  }\n\n  findMagnet(elem = this.container) {\n    // If the overall cell has set `magnet === false`, then returns\n    // `undefined` to announce there is no magnet found for this cell.\n    // This is especially useful to set on cells that have 'ports'.\n    // In this case, only the ports have set `magnet === true` and the\n    // overall element has `magnet === false`.\n    return this.findByAttr('magnet', elem);\n  }\n\n  updateAttrs(rootNode, attrs, options = {}) {\n    if (options.rootBBox == null) {\n      options.rootBBox = new Rectangle();\n    }\n\n    if (options.selectors == null) {\n      options.selectors = this.selectors;\n    }\n\n    this.attr.update(rootNode, attrs, options);\n  }\n\n  isEdgeElement(magnet) {\n    return this.cell.isEdge() && (magnet == null || magnet === this.container);\n  } // #region highlight\n\n\n  prepareHighlight(elem, options = {}) {\n    const magnet = elem && this.$(elem)[0] || this.container;\n    options.partial = magnet === this.container;\n    return magnet;\n  }\n\n  highlight(elem, options = {}) {\n    const magnet = this.prepareHighlight(elem, options);\n    this.notify('cell:highlight', {\n      magnet,\n      options,\n      view: this,\n      cell: this.cell\n    });\n\n    if (this.isEdgeView()) {\n      this.notify('edge:highlight', {\n        magnet,\n        options,\n        view: this,\n        edge: this.cell,\n        cell: this.cell\n      });\n    } else if (this.isNodeView()) {\n      this.notify('node:highlight', {\n        magnet,\n        options,\n        view: this,\n        node: this.cell,\n        cell: this.cell\n      });\n    }\n\n    return this;\n  }\n\n  unhighlight(elem, options = {}) {\n    const magnet = this.prepareHighlight(elem, options);\n    this.notify('cell:unhighlight', {\n      magnet,\n      options,\n      view: this,\n      cell: this.cell\n    });\n\n    if (this.isNodeView()) {\n      this.notify('node:unhighlight', {\n        magnet,\n        options,\n        view: this,\n        node: this.cell,\n        cell: this.cell\n      });\n    } else if (this.isEdgeView()) {\n      this.notify('edge:unhighlight', {\n        magnet,\n        options,\n        view: this,\n        edge: this.cell,\n        cell: this.cell\n      });\n    }\n\n    return this;\n  } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  notifyUnhighlight(magnet, options) {} // #endregion\n\n\n  getEdgeTerminal(magnet, x, y, edge, type) {\n    const cell = this.cell;\n    const portId = this.findAttr('port', magnet);\n    const selector = magnet.getAttribute('data-selector');\n    const terminal = {\n      cell: cell.id\n    };\n\n    if (selector != null) {\n      terminal.magnet = selector;\n    }\n\n    if (portId != null) {\n      terminal.port = portId;\n\n      if (cell.isNode()) {\n        if (!cell.hasPort(portId) && selector == null) {\n          // port created via the `port` attribute (not API)\n          terminal.selector = this.getSelector(magnet);\n        }\n      }\n    } else if (selector == null && this.container !== magnet) {\n      terminal.selector = this.getSelector(magnet);\n    }\n\n    return this.customizeEdgeTerminal(terminal, magnet, x, y, edge, type);\n  }\n\n  customizeEdgeTerminal(terminal, magnet, x, y, edge, type) {\n    const raw = edge.getStrategy() || this.graph.options.connecting.strategy;\n\n    if (raw) {\n      const name = typeof raw === 'string' ? raw : raw.name;\n      const args = typeof raw === 'string' ? {} : raw.args || {};\n      const registry = ConnectionStrategy.registry;\n\n      if (name) {\n        const fn = registry.get(name);\n\n        if (fn == null) {\n          return registry.onNotFound(name);\n        }\n\n        const result = FunctionExt.call(fn, this.graph, terminal, this, magnet, new Point(x, y), edge, type, args);\n\n        if (result) {\n          return result;\n        }\n      }\n    }\n\n    return terminal;\n  }\n\n  getMagnetFromEdgeTerminal(terminal) {\n    const cell = this.cell;\n    const root = this.container;\n    const portId = terminal.port;\n    let selector = terminal.magnet;\n    let magnet;\n\n    if (portId != null && cell.isNode() && cell.hasPort(portId)) {\n      magnet = this.findPortElem(portId, selector) || root;\n    } else {\n      if (!selector) {\n        selector = terminal.selector;\n      }\n\n      if (!selector && portId != null) {\n        selector = `[port=\"${portId}\"]`;\n      }\n\n      magnet = this.findOne(selector, root, this.selectors);\n    }\n\n    return magnet;\n  } // #region animate\n\n\n  animate(elem, options) {\n    const target = typeof elem === 'string' ? this.findOne(elem) : elem;\n\n    if (target == null) {\n      throw new Error('Invalid animation element.');\n    }\n\n    const parent = target.parentNode;\n\n    const revert = () => {\n      if (!parent) {\n        Dom.remove(target);\n      }\n    };\n\n    const vTarget = Vector.create(target);\n\n    if (!parent) {\n      vTarget.appendTo(this.graph.view.stage);\n    }\n\n    const onComplete = options.complete;\n\n    options.complete = e => {\n      revert();\n\n      if (onComplete) {\n        onComplete(e);\n      }\n    };\n\n    return vTarget.animate(options);\n  }\n\n  animateTransform(elem, options) {\n    const target = typeof elem === 'string' ? this.findOne(elem) : elem;\n\n    if (target == null) {\n      throw new Error('Invalid animation element.');\n    }\n\n    const parent = target.parentNode;\n\n    const revert = () => {\n      if (!parent) {\n        Dom.remove(target);\n      }\n    };\n\n    const vTarget = Vector.create(target);\n\n    if (!parent) {\n      vTarget.appendTo(this.graph.view.stage);\n    }\n\n    const onComplete = options.complete;\n\n    options.complete = e => {\n      revert();\n\n      if (onComplete) {\n        onComplete(e);\n      }\n    };\n\n    return vTarget.animateTransform(options);\n  }\n\n  hasTools(name) {\n    const tools = this.tools;\n\n    if (tools == null) {\n      return false;\n    }\n\n    if (name == null) {\n      return true;\n    }\n\n    return tools.name === name;\n  }\n\n  addTools(config) {\n    if (!this.can('toolsAddable')) {\n      return this;\n    }\n\n    this.removeTools();\n\n    if (config) {\n      const tools = ToolsView.isToolsView(config) ? config : new ToolsView(config);\n      this.tools = tools;\n      this.graph.on('tools:hide', this.hideTools, this);\n      this.graph.on('tools:show', this.showTools, this);\n      this.graph.on('tools:remove', this.removeTools, this);\n      tools.config({\n        view: this\n      });\n      tools.mount();\n    }\n\n    return this;\n  }\n\n  updateTools(options = {}) {\n    if (this.tools) {\n      this.tools.update(options);\n    }\n\n    return this;\n  }\n\n  removeTools() {\n    if (this.tools) {\n      this.tools.remove();\n      this.graph.off('tools:hide', this.hideTools, this);\n      this.graph.off('tools:show', this.showTools, this);\n      this.graph.off('tools:remove', this.removeTools, this);\n      this.tools = null;\n    }\n\n    return this;\n  }\n\n  hideTools() {\n    if (this.tools) {\n      this.tools.hide();\n    }\n\n    return this;\n  }\n\n  showTools() {\n    if (this.tools) {\n      this.tools.show();\n    }\n\n    return this;\n  }\n\n  renderTools() {\n    const tools = this.cell.getTools();\n    this.addTools(tools);\n    return this;\n  }\n\n  notify(name, args) {\n    this.trigger(name, args);\n    this.graph.trigger(name, args);\n    return this;\n  }\n\n  getEventArgs(e, x, y) {\n    const view = this; // eslint-disable-line @typescript-eslint/no-this-alias\n\n    const cell = view.cell;\n\n    if (x == null || y == null) {\n      return {\n        e,\n        view,\n        cell\n      };\n    }\n\n    return {\n      e,\n      x,\n      y,\n      view,\n      cell\n    };\n  }\n\n  onClick(e, x, y) {\n    this.notify('cell:click', this.getEventArgs(e, x, y));\n  }\n\n  onDblClick(e, x, y) {\n    this.notify('cell:dblclick', this.getEventArgs(e, x, y));\n  }\n\n  onContextMenu(e, x, y) {\n    this.notify('cell:contextmenu', this.getEventArgs(e, x, y));\n  }\n\n  onMouseDown(e, x, y) {\n    if (this.cell.model) {\n      this.cachedModelForMouseEvent = this.cell.model;\n      this.cachedModelForMouseEvent.startBatch('mouse');\n    }\n\n    this.notify('cell:mousedown', this.getEventArgs(e, x, y));\n  }\n\n  onMouseUp(e, x, y) {\n    this.notify('cell:mouseup', this.getEventArgs(e, x, y));\n\n    if (this.cachedModelForMouseEvent) {\n      this.cachedModelForMouseEvent.stopBatch('mouse', {\n        cell: this.cell\n      });\n      this.cachedModelForMouseEvent = null;\n    }\n  }\n\n  onMouseMove(e, x, y) {\n    this.notify('cell:mousemove', this.getEventArgs(e, x, y));\n  }\n\n  onMouseOver(e) {\n    this.notify('cell:mouseover', this.getEventArgs(e));\n  }\n\n  onMouseOut(e) {\n    this.notify('cell:mouseout', this.getEventArgs(e));\n  }\n\n  onMouseEnter(e) {\n    this.notify('cell:mouseenter', this.getEventArgs(e));\n  }\n\n  onMouseLeave(e) {\n    this.notify('cell:mouseleave', this.getEventArgs(e));\n  }\n\n  onMouseWheel(e, x, y, delta) {\n    this.notify('cell:mousewheel', Object.assign({\n      delta\n    }, this.getEventArgs(e, x, y)));\n  }\n\n  onCustomEvent(e, name, x, y) {\n    this.notify('cell:customevent', Object.assign({\n      name\n    }, this.getEventArgs(e, x, y)));\n    this.notify(name, Object.assign({}, this.getEventArgs(e, x, y)));\n  }\n\n  onMagnetMouseDown(e, magnet, x, y) {}\n\n  onMagnetDblClick(e, magnet, x, y) {}\n\n  onMagnetContextMenu(e, magnet, x, y) {}\n\n  onLabelMouseDown(e, x, y) {}\n\n  checkMouseleave(e) {\n    const graph = this.graph;\n\n    if (graph.renderer.isAsync()) {\n      // Do the updates of the current view synchronously now\n      graph.renderer.dumpView(this);\n    }\n\n    const target = this.getEventTarget(e, {\n      fromPoint: true\n    });\n    const view = graph.renderer.findViewByElem(target);\n\n    if (view === this) {\n      return;\n    } // Leaving the current view\n\n\n    this.onMouseLeave(e);\n\n    if (!view) {\n      return;\n    } // Entering another view\n\n\n    view.onMouseEnter(e);\n  }\n\n}\nCellView.defaults = {\n  isSvgElement: true,\n  rootSelector: 'root',\n  priority: 0,\n  bootstrap: [],\n  actions: {}\n};\n\n(function (CellView) {\n  CellView.Flag = FlagManager;\n  CellView.Attr = AttrManager;\n})(CellView || (CellView = {}));\n\n(function (CellView) {\n  CellView.toStringTag = `X6.${CellView.name}`;\n\n  function isCellView(instance) {\n    if (instance == null) {\n      return false;\n    }\n\n    if (instance instanceof CellView) {\n      return true;\n    }\n\n    const tag = instance[Symbol.toStringTag];\n    const view = instance;\n\n    if ((tag == null || tag === CellView.toStringTag) && typeof view.isNodeView === 'function' && typeof view.isEdgeView === 'function' && typeof view.confirmUpdate === 'function') {\n      return true;\n    }\n\n    return false;\n  }\n\n  CellView.isCellView = isCellView;\n})(CellView || (CellView = {})); // decorators\n// ----\n\n\n(function (CellView) {\n  function priority(value) {\n    return function (ctor) {\n      ctor.config({\n        priority: value\n      });\n    };\n  }\n\n  CellView.priority = priority;\n\n  function bootstrap(actions) {\n    return function (ctor) {\n      ctor.config({\n        bootstrap: actions\n      });\n    };\n  }\n\n  CellView.bootstrap = bootstrap;\n})(CellView || (CellView = {}));\n\n(function (CellView) {\n  CellView.registry = Registry.create({\n    type: 'view'\n  });\n})(CellView || (CellView = {}));","map":{"version":3,"mappings":";;AAAA;;;;;;;;;;;;AAGA,SAASA,SAAT,EAAoBC,KAApB,QAAiC,aAAjC;AACA,SAASC,QAAT,EAAmBC,SAAnB,EAA8BC,GAA9B,EAAmCC,WAAnC,EAAgDC,MAAhD,QAA8D,SAA9D;AAEA,SAASC,QAAT,QAAyB,sBAAzB;AACA,SAASC,kBAAT,QAAmC,iCAAnC;AAKA,SAASC,IAAT,QAAqB,QAArB;AACA,SAASC,KAAT,QAAsB,SAAtB;AACA,SAASC,MAAT,QAAuB,UAAvB;AAGA,SAASC,SAAT,QAA0B,QAA1B;AACA,SAASC,WAAT,QAA4B,QAA5B;AACA,SAASC,WAAT,QAA4B,QAA5B;AAEA,OAAM,MAAOC,QAAP,SAGIN,IAHJ,CAG4B;EA4EhCO,YAAYC,IAAZ,EAA0BC,UAA4B,EAAtD,EAAwD;IACtD;IAEA,KAAKD,IAAL,GAAYA,IAAZ;IACA,KAAKC,OAAL,GAAe,KAAKC,aAAL,CAAmBD,OAAnB,CAAf;IACA,KAAKE,KAAL,GAAa,KAAKF,OAAL,CAAaE,KAA1B;IACA,KAAKC,IAAL,GAAY,IAAIR,WAAJ,CAAgB,IAAhB,CAAZ;IACA,KAAKS,IAAL,GAAY,IAAIR,WAAJ,CACV,IADU,EAEV,KAAKI,OAAL,CAAaK,OAFH,EAGV,KAAKL,OAAL,CAAaM,SAHH,CAAZ;IAKA,KAAKC,KAAL,GAAa,IAAIf,KAAJ,CAAU,IAAV,CAAb;IAEA,KAAKgB,YAAL,CAAkB,KAAKC,eAAL,EAAlB;IACA,KAAKC,KAAL;IACA,KAAKC,CAAL,CAAO,KAAKC,SAAZ,EAAuBC,IAAvB,CAA4B,MAA5B,EAAoC,IAApC;IAEA,KAAKC,IAAL;EACD;;EAtFwB,OAAXC,WAAW;IACvB,OAAO,KAAKC,QAAZ;EACD;;EAEmB,OAANC,MAAM,CAClBjB,OADkB,EACC;IAEnB,KAAKgB,QAAL,GAAgB,KAAKE,UAAL,CAAgBlB,OAAhB,CAAhB;EACD;;EAEuB,OAAVkB,UAAU,CACtBlB,OADsB,EACH;IAEnB,MAAMmB,YAAY,GAAG,CAAIC,IAAJ,EAAmBC,IAAnB,KAAqC;MACxD,IAAIA,IAAI,IAAI,IAAZ,EAAkB;QAChB,OAAOrC,QAAQ,CAACsC,IAAT,CAAc,CACnB,IAAIC,KAAK,CAACC,OAAN,CAAcJ,IAAd,IAAsBA,IAAtB,GAA6B,CAACA,IAAD,CAAjC,CADmB,EAEnB,IAAIG,KAAK,CAACC,OAAN,CAAcH,IAAd,IAAsBA,IAAtB,GAA6B,CAACA,IAAD,CAAjC,CAFmB,CAAd,CAAP;MAID;;MACD,OAAOE,KAAK,CAACC,OAAN,CAAcJ,IAAd,IAAsB,CAAC,GAAGA,IAAJ,CAAtB,GAAkC,CAACA,IAAD,CAAzC;IACD,CARD;;IAUA,MAAMK,GAAG,GAAGxC,SAAS,CAACyC,SAAV,CAAoB,KAAKX,WAAL,EAApB,CAAZ;;IACA,MAAM;MAAET,SAAF;MAAaD,OAAb;MAAsBsB,MAAtB;MAA8BC;IAA9B,IAA4D5B,OAAlE;IAAA,MAAuD6B,MAAM,UAAK7B,OAAL,EAAvD,oDAAuD,CAA7D;;IAEA,IAAIM,SAAJ,EAAe;MACbmB,GAAG,CAACnB,SAAJ,GAAgBa,YAAY,CAACM,GAAG,CAACnB,SAAL,EAAgBA,SAAhB,CAA5B;IACD;;IAED,IAAID,OAAJ,EAAa;MACXyB,MAAM,CAACC,IAAP,CAAY1B,OAAZ,EAAqB2B,OAArB,CAA8BC,GAAD,IAAQ;QACnC,MAAMC,GAAG,GAAG7B,OAAO,CAAC4B,GAAD,CAAnB;QACA,MAAME,GAAG,GAAGV,GAAG,CAACpB,OAAJ,CAAY4B,GAAZ,CAAZ;;QACA,IAAIC,GAAG,IAAIC,GAAX,EAAgB;UACdV,GAAG,CAACpB,OAAJ,CAAY4B,GAAZ,IAAmBd,YAAY,CAACgB,GAAD,EAAMD,GAAN,CAA/B;QACD,CAFD,MAEO,IAAIA,GAAJ,EAAS;UACdT,GAAG,CAACpB,OAAJ,CAAY4B,GAAZ,IAAmBd,YAAY,CAACe,GAAD,CAA/B;QACD;MACF,CARD;IASD;;IAED,IAAIP,MAAJ,EAAY;MACVF,GAAG,CAACE,MAAJ,GAAUG,gCAAQL,GAAG,CAACE,MAAZ,GAAuBA,MAAvB,CAAV;IACD;;IAED,IAAI3B,OAAO,CAAC4B,cAAZ,EAA4B;MAC1BH,GAAG,CAACG,cAAJ,GAAkBE,gCAAQL,GAAG,CAACG,cAAZ,GAA+BA,cAA/B,CAAlB;IACD;;IAED,OAAO3C,SAAS,CAACmD,KAAV,CAAgBX,GAAhB,EAAqBI,MAArB,CAAP;EACD;;EAYgC,KAAlBQ,MAAM,CAACC,WAAW,IAAC;IAChC,OAAOzC,QAAQ,CAACyC,WAAhB;EACD;;EAuBSxB,IAAI,IAAK;;EAETyB,QAAQ;IAChB,KAAKC,WAAL;EACD;;EAEkB,IAARC,QAAQ;IACjB,OAAO,KAAKzC,OAAL,CAAayC,QAApB;EACD;;EAEyB,IAAZC,YAAY;IACxB,OAAO,KAAK1C,OAAL,CAAa0C,YAApB;EACD;;EAESC,cAAc;IACtB,OAAO,KAAK7C,WAAZ;EACD;;EAESG,aAAa,CAACD,OAAD,EAA0B;IAC/C,OAAO,KAAK2C,cAAL,GAAsBzB,UAAtB,CAAiClB,OAAjC,CAAP;EACD;;EAES4C,mBAAmB;IAC3B,OAAO,KAAK5C,OAAL,CAAa6C,YAAb,GAA4B,GAA5B,GAAkC,KAAzC;EACD;;EAESC,iBAAiB,IAEhB;;EAEDC,iBAAiB;IACzB,OAAO;MACL,gBAAgB,KAAKhD,IAAL,CAAUiD,EADrB;MAEL,cAAc,KAAKjD,IAAL,CAAUkD;IAFnB,CAAP;EAID;;EAESC,qBAAqB;IAC7B,OAAO,KAAKC,eAAL,CAAqB,MAArB,CAAP;EACD;;EAES1C,eAAe;IACvB,OAAOlB,IAAI,CAAC6D,aAAL,CACL,KAAKR,mBAAL,EADK,EAEL,KAAK5C,OAAL,CAAa6C,YAFR,CAAP;EAID;;EAESrC,YAAY,CAACI,SAAD,EAAmB;IACvC,IAAI,KAAKA,SAAL,KAAmBA,SAAvB,EAAkC;MAChC,KAAKyC,gBAAL;MACA,KAAKzC,SAAL,GAAiBA,SAAjB;;MAEA,IAAI,KAAKZ,OAAL,CAAa2B,MAAb,IAAuB,IAA3B,EAAiC;QAC/B,KAAK2B,cAAL,CAAoB,KAAKtD,OAAL,CAAa2B,MAAjC;MACD;;MAED,MAAM4B,KAAK,GAAG,KAAKR,iBAAL,EAAd;;MACA,IAAIQ,KAAK,IAAI,IAAb,EAAmB;QACjB,KAAKC,QAAL,CAAcD,KAAd,EAAqB3C,SAArB;MACD;;MAED,MAAM6C,KAAK,GAAG,KAAKX,iBAAL,EAAd;;MACA,IAAIW,KAAK,IAAI,IAAb,EAAmB;QACjB,KAAKC,QAAL,CAAcD,KAAd,EAAqB7C,SAArB;MACD;;MAED,MAAM+C,SAAS,GAAG,KAAKT,qBAAL,EAAlB;;MACA,IAAIS,SAAS,IAAI,IAAjB,EAAuB;QACrB,KAAKC,QAAL,CAAcD,SAAd,EAAyB/C,SAAzB;MACD;IACF;;IAED,OAAO,IAAP;EACD;;EAEDiD,UAAU;IACR,OAAO,KAAP;EACD;;EAEDC,UAAU;IACR,OAAO,KAAP;EACD;;EAEDC,MAAM;IACJ,OAAO,IAAP;EACD,CAvL+B,CAyLhC;;;EACAC,aAAa,CAAC5D,IAAD,EAAeJ,UAAe,EAA9B,EAAgC;IAC3C,OAAO,CAAP;EACD;;EAEDiE,gBAAgB;IACd,OAAO,KAAK7D,IAAL,CAAU6D,gBAAV,EAAP;EACD;;EAEDC,OAAO,CAAC7D,OAAD,EAA6B;IAClC,OAAO,KAAKD,IAAL,CAAU8D,OAAV,CAAkB7D,OAAlB,CAAP;EACD;;EAED8D,SAAS,CAAC/D,IAAD,EAAeC,OAAf,EAA2C;IAClD,OAAO,KAAKD,IAAL,CAAU+D,SAAV,CAAoB/D,IAApB,EAA0BC,OAA1B,CAAP;EACD;;EAED+D,YAAY,CAAChE,IAAD,EAAeC,OAAf,EAA2C;IACrD,OAAO,KAAKD,IAAL,CAAUgE,YAAV,CAAuBhE,IAAvB,EAA6BC,OAA7B,CAAP;EACD;;EAEDgE,YAAY,CACVjE,IADU,EAEVkE,MAFU,EAGVC,MAHU,EAIVC,wBAJU,EAI2C;IAErD,IAAI,KAAKL,SAAL,CAAe/D,IAAf,EAAqBkE,MAArB,CAAJ,EAAkC;MAChCC,MAAM;MACN,MAAME,YAAY,GAAG,CAACH,MAAD,CAArB;;MACA,IAAIE,wBAAJ,EAA8B;QAC5B,IAAI,OAAOA,wBAAP,KAAoC,QAAxC,EAAkD;UAChDC,YAAY,CAACC,IAAb,CAAkBF,wBAAlB;QACD,CAFD,MAEO;UACLC,YAAY,CAACC,IAAb,CAAkB,GAAGF,wBAArB;QACD;MACF;;MACD,OAAO,KAAKJ,YAAL,CAAkBhE,IAAlB,EAAwBqE,YAAxB,CAAP;IACD;;IACD,OAAOrE,IAAP;EACD;;EAESM,KAAK;IACb,KAAKX,IAAL,CAAU4E,EAAV,CAAa,SAAb,EAAwB,CAAC;MAAE3E;IAAF,CAAD,KAAiB,KAAK4E,aAAL,CAAmB5E,OAAnB,CAAzC;EACD;;EAES4E,aAAa,CAAC5E,OAAD,EAA4B;IACjD,IAAII,IAAI,GAAG,KAAKA,IAAL,CAAUyE,cAAV,EAAX;;IACA,IAAI7E,OAAO,CAAC8E,OAAR,IAAmB,CAAC1E,IAAxB,EAA8B;MAC5B;IACD;;IAED,IAAIJ,OAAO,CAAC+E,KAAR,IAAiB,KAAKZ,SAAL,CAAe/D,IAAf,EAAqB,QAArB,CAArB,EAAqD;MACnDA,IAAI,IAAI,KAAK8D,OAAL,CAAa,QAAb,CAAR,CADmD,CACpB;IAChC,CARgD,CAUjD;;;IACA,IAAIlE,OAAO,CAACgF,MAAZ,EAAoB;MAClBhF,OAAO,CAACiF,KAAR,GAAgB,KAAhB;IACD;;IAED,IAAI,KAAK/E,KAAL,IAAc,IAAlB,EAAwB;MACtB,KAAKA,KAAL,CAAWgF,QAAX,CAAoBC,iBAApB,CAAsC,IAAtC,EAA4C/E,IAA5C,EAAkD,KAAKqC,QAAvD,EAAiEzC,OAAjE;IACD;EACF;;EAEDoF,eAAe,CACbC,MADa,EAEbC,QAFa,EAEK;IAElB,MAAMC,MAAM,GAAG9F,MAAM,CAAC2F,eAAP,CAAuBC,MAAvB,CAAf;IACA,MAAMG,SAAS,GAAGD,MAAM,CAACC,SAAzB;IACA,MAAM9C,YAAY,GAAG,KAAKA,YAA1B;;IACA,IAAI4C,QAAQ,IAAI5C,YAAhB,EAA8B;MAC5B,IAAI8C,SAAS,CAAC9C,YAAD,CAAb,EAA6B;QAC3B,MAAM,IAAI+C,KAAJ,CAAU,uBAAV,CAAN;MACD;;MACDD,SAAS,CAAC9C,YAAD,CAAT,GAA0B4C,QAA1B;IACD;;IACD,OAAOC,MAAP;EACD;;EAEDG,GAAG,CAACC,OAAD,EAAmC;IACpC,IAAIC,WAAW,GAAG,KAAK1F,KAAL,CAAWF,OAAX,CAAmB4F,WAArC;;IAEA,IAAI,OAAOA,WAAP,KAAuB,UAA3B,EAAuC;MACrCA,WAAW,GAAGzG,WAAW,CAAC0G,IAAZ,CAAiBD,WAAjB,EAA8B,KAAK1F,KAAnC,EAA0C,IAA1C,CAAd;IACD;;IAED,IAAI,OAAO0F,WAAP,KAAuB,QAA3B,EAAqC;MACnC,IAAI1D,GAAG,GAAG0D,WAAW,CAACD,OAAD,CAArB;;MACA,IAAI,OAAOzD,GAAP,KAAe,UAAnB,EAA+B;QAC7BA,GAAG,GAAG/C,WAAW,CAAC0G,IAAZ,CAAiB3D,GAAjB,EAAsB,KAAKhC,KAA3B,EAAkC,IAAlC,CAAN;MACD;;MACD,OAAOgC,GAAG,KAAK,KAAf;IACD;;IAED,IAAI,OAAO0D,WAAP,KAAuB,SAA3B,EAAsC;MACpC,OAAOA,WAAP;IACD;;IAED,OAAO,KAAP;EACD;;EAEDE,UAAU;IACR,KAAKvF,KAAL,CAAWwF,KAAX;IACA,OAAO,IAAP;EACD;;EAEDC,QAAQ,CAACC,IAAD,EAAc;IACpB,OAAO,KAAK1F,KAAL,CAAW2F,GAAX,CAAeD,IAAf,CAAP;EACD;;EAEDE,gBAAgB,CAACF,IAAD,EAAc;IAC5B,OAAO,KAAK1F,KAAL,CAAW6F,OAAX,CAAmBH,IAAnB,CAAP;EACD;;EAEDI,kBAAkB,CAACJ,IAAD,EAAc;IAC9B,OAAO,KAAK1F,KAAL,CAAW+F,SAAX,CAAqBL,IAArB,CAAP;EACD;;EAEDM,iBAAiB,CAACN,IAAD,EAAiB;IAChC,OAAO,KAAK1F,KAAL,CAAWiG,QAAX,CAAoBP,IAApB,CAAP;EACD;;EAEDQ,iBAAiB,CAACC,IAAD,EAAgBC,YAAhB,EAAyC;IACxD,IAAIC,EAAJ;IACA,IAAIC,EAAJ;;IACA,IAAIF,YAAY,IAAIA,YAAY,CAACG,QAAb,CAAsBJ,IAAtB,CAApB,EAAiD;MAC/C,MAAMK,KAAK,GAAG7H,GAAG,CAAC6H,KAAJ,CAAUJ,YAAV,CAAd;MACAC,EAAE,GAAG,IAAIG,KAAK,CAACH,EAAf;MACAC,EAAE,GAAG,IAAIE,KAAK,CAACF,EAAf;IACD,CAJD,MAIO;MACLD,EAAE,GAAG,CAAL;MACAC,EAAE,GAAG,CAAL;IACD;;IAED,OAAO;MAAED,EAAF;MAAMC;IAAN,CAAP;EACD;;EAEDG,wBAAwB,CAACf,IAAD,EAAc;IACpC,OAAO,KAAK1F,KAAL,CAAW0G,eAAX,CAA2BhB,IAA3B,CAAP;EACD;;EAEDiB,gBAAgB,CAACjB,IAAD,EAAc;IAC5B,MAAMkB,IAAI,GAAG,KAAKH,wBAAL,CAA8Bf,IAA9B,CAAb;IACA,MAAMmB,MAAM,GAAG,KAAKf,kBAAL,CAAwBJ,IAAxB,CAAf;IACA,MAAMoB,EAAE,GAAG,KAAKC,oBAAL,EAAX;IACA,MAAMC,EAAE,GAAG,KAAKC,uBAAL,EAAX;IACA,OAAOtI,GAAG,CAACuI,kBAAJ,CAAuBN,IAAvB,EAA6BI,EAAE,CAACG,QAAH,CAAYL,EAAZ,EAAgBK,QAAhB,CAAyBN,MAAzB,CAA7B,CAAP;EACD;;EAEDO,yBAAyB,CAAC1B,IAAD,EAAiB;IACxC,MAAMkB,IAAI,GAAG,KAAKH,wBAAL,CAA8Bf,IAA9B,CAAb;IACA,MAAMmB,MAAM,GAAG,KAAKf,kBAAL,CAAwBJ,IAAxB,CAAf;IACA,MAAMsB,EAAE,GAAG,KAAKC,uBAAL,EAAX;IACA,OAAOtI,GAAG,CAACuI,kBAAJ,CAAuBN,IAAvB,EAA6BI,EAAE,CAACG,QAAH,CAAYN,MAAZ,CAA7B,CAAP;EACD;;EAEDQ,OAAO,CAAC5H,UAAyC,EAA1C,EAA4C;IACjD,IAAI6H,IAAJ;;IACA,IAAI7H,OAAO,CAAC8H,eAAZ,EAA6B;MAC3B,MAAM/H,IAAI,GAAG,KAAKA,IAAlB;MACA,MAAMgI,KAAK,GAAGhI,IAAI,CAACiI,MAAL,KAAgBjI,IAAI,CAACkI,QAAL,EAAhB,GAAkC,CAAhD;MACAJ,IAAI,GAAG9H,IAAI,CAAC6H,OAAL,GAAeC,IAAf,CAAoBE,KAApB,CAAP;IACD,CAJD,MAIO;MACLF,IAAI,GAAG,KAAKX,gBAAL,CAAsB,KAAKtG,SAA3B,CAAP;IACD;;IAED,OAAO,KAAKV,KAAL,CAAWgI,YAAX,CAAwBL,IAAxB,CAAP;EACD;;EAEDL,uBAAuB;IACrB,MAAMzH,IAAI,GAAG,KAAKA,IAAlB;IACA,MAAMoI,GAAG,GAAGpI,IAAI,CAACiI,MAAL,KAAgBjI,IAAI,CAACqI,WAAL,EAAhB,GAAqC;MAAEC,CAAC,EAAE,CAAL;MAAQC,CAAC,EAAE;IAAX,CAAjD;IACA,OAAOpJ,GAAG,CAACqJ,eAAJ,GAAsBC,SAAtB,CAAgCL,GAAG,CAACE,CAApC,EAAuCF,GAAG,CAACG,CAA3C,CAAP;EACD;;EAEDhB,oBAAoB;IAClB,IAAIF,MAAM,GAAGlI,GAAG,CAACqJ,eAAJ,EAAb;IACA,MAAMxI,IAAI,GAAG,KAAKA,IAAlB;IACA,MAAMgI,KAAK,GAAGhI,IAAI,CAACiI,MAAL,KAAgBjI,IAAI,CAACkI,QAAL,EAAhB,GAAkC,CAAhD;;IACA,IAAIF,KAAJ,EAAW;MACT,MAAMF,IAAI,GAAG9H,IAAI,CAAC6H,OAAL,EAAb;MACA,MAAMa,EAAE,GAAGZ,IAAI,CAACa,KAAL,GAAa,CAAxB;MACA,MAAMC,EAAE,GAAGd,IAAI,CAACe,MAAL,GAAc,CAAzB;MACAxB,MAAM,GAAGA,MAAM,CAACoB,SAAP,CAAiBC,EAAjB,EAAqBE,EAArB,EAAyBE,MAAzB,CAAgCd,KAAhC,EAAuCS,SAAvC,CAAiD,CAACC,EAAlD,EAAsD,CAACE,EAAvD,CAAT;IACD;;IACD,OAAOvB,MAAP;EACD;;EAED0B,UAAU,CAAC7C,OAAgB,KAAKrF,SAAtB,EAA+B;IACvC;IACA;IACA;IACA;IACA;IACA,OAAO,KAAKmI,UAAL,CAAgB,QAAhB,EAA0B9C,IAA1B,CAAP;EACD;;EAED+C,WAAW,CACTC,QADS,EAET1F,KAFS,EAGTvD,UAA8C,EAHrC,EAGuC;IAEhD,IAAIA,OAAO,CAACkJ,QAAR,IAAoB,IAAxB,EAA8B;MAC5BlJ,OAAO,CAACkJ,QAAR,GAAmB,IAAIpK,SAAJ,EAAnB;IACD;;IAED,IAAIkB,OAAO,CAACwF,SAAR,IAAqB,IAAzB,EAA+B;MAC7BxF,OAAO,CAACwF,SAAR,GAAoB,KAAKA,SAAzB;IACD;;IAED,KAAKrF,IAAL,CAAUgJ,MAAV,CAAiBF,QAAjB,EAA2B1F,KAA3B,EAAkCvD,OAAlC;EACD;;EAEDoJ,aAAa,CAACC,MAAD,EAAwB;IACnC,OAAO,KAAKtJ,IAAL,CAAUuJ,MAAV,OAAuBD,MAAM,IAAI,IAAV,IAAkBA,MAAM,KAAK,KAAKzI,SAAzD,CAAP;EACD,CAnZ+B,CAqZhC;;;EAEU2I,gBAAgB,CACxBtD,IADwB,EAExBjG,UAAqC,EAFb,EAEe;IAEvC,MAAMqJ,MAAM,GAAIpD,IAAI,IAAI,KAAKtF,CAAL,CAAOsF,IAAP,EAAa,CAAb,CAAT,IAA6B,KAAKrF,SAAjD;IACAZ,OAAO,CAACwJ,OAAR,GAAkBH,MAAM,KAAK,KAAKzI,SAAlC;IACA,OAAOyI,MAAP;EACD;;EAEDI,SAAS,CAACxD,IAAD,EAAwBjG,UAAqC,EAA7D,EAA+D;IACtE,MAAMqJ,MAAM,GAAG,KAAKE,gBAAL,CAAsBtD,IAAtB,EAA4BjG,OAA5B,CAAf;IACA,KAAK0J,MAAL,CAAY,gBAAZ,EAA8B;MAC5BL,MAD4B;MAE5BrJ,OAF4B;MAG5B2J,IAAI,EAAE,IAHsB;MAI5B5J,IAAI,EAAE,KAAKA;IAJiB,CAA9B;;IAMA,IAAI,KAAK+D,UAAL,EAAJ,EAAuB;MACrB,KAAK4F,MAAL,CAAY,gBAAZ,EAA8B;QAC5BL,MAD4B;QAE5BrJ,OAF4B;QAG5B2J,IAAI,EAAE,IAHsB;QAI5BC,IAAI,EAAE,KAAK7J,IAJiB;QAK5BA,IAAI,EAAE,KAAKA;MALiB,CAA9B;IAOD,CARD,MAQO,IAAI,KAAK8D,UAAL,EAAJ,EAAuB;MAC5B,KAAK6F,MAAL,CAAY,gBAAZ,EAA8B;QAC5BL,MAD4B;QAE5BrJ,OAF4B;QAG5B2J,IAAI,EAAE,IAHsB;QAI5BjD,IAAI,EAAE,KAAK3G,IAJiB;QAK5BA,IAAI,EAAE,KAAKA;MALiB,CAA9B;IAOD;;IACD,OAAO,IAAP;EACD;;EAED8J,WAAW,CAAC5D,IAAD,EAAwBjG,UAAqC,EAA7D,EAA+D;IACxE,MAAMqJ,MAAM,GAAG,KAAKE,gBAAL,CAAsBtD,IAAtB,EAA4BjG,OAA5B,CAAf;IACA,KAAK0J,MAAL,CAAY,kBAAZ,EAAgC;MAC9BL,MAD8B;MAE9BrJ,OAF8B;MAG9B2J,IAAI,EAAE,IAHwB;MAI9B5J,IAAI,EAAE,KAAKA;IAJmB,CAAhC;;IAMA,IAAI,KAAK8D,UAAL,EAAJ,EAAuB;MACrB,KAAK6F,MAAL,CAAY,kBAAZ,EAAgC;QAC9BL,MAD8B;QAE9BrJ,OAF8B;QAG9B2J,IAAI,EAAE,IAHwB;QAI9BjD,IAAI,EAAE,KAAK3G,IAJmB;QAK9BA,IAAI,EAAE,KAAKA;MALmB,CAAhC;IAOD,CARD,MAQO,IAAI,KAAK+D,UAAL,EAAJ,EAAuB;MAC5B,KAAK4F,MAAL,CAAY,kBAAZ,EAAgC;QAC9BL,MAD8B;QAE9BrJ,OAF8B;QAG9B2J,IAAI,EAAE,IAHwB;QAI9BC,IAAI,EAAE,KAAK7J,IAJmB;QAK9BA,IAAI,EAAE,KAAKA;MALmB,CAAhC;IAOD;;IACD,OAAO,IAAP;EACD,CAtd+B,CAwdhC;;;EACA+J,iBAAiB,CAACT,MAAD,EAAkBrJ,OAAlB,EAAoD,CAAI,CAzdzC,CA2dhC;;;EAEA+J,eAAe,CACbV,MADa,EAEbhB,CAFa,EAGbC,CAHa,EAIbsB,IAJa,EAKbI,IALa,EAKU;IAEvB,MAAMjK,IAAI,GAAG,KAAKA,IAAlB;IACA,MAAMkK,MAAM,GAAG,KAAKC,QAAL,CAAc,MAAd,EAAsBb,MAAtB,CAAf;IACA,MAAMc,QAAQ,GAAGd,MAAM,CAACe,YAAP,CAAoB,eAApB,CAAjB;IACA,MAAMC,QAAQ,GAA0B;MAAEtK,IAAI,EAAEA,IAAI,CAACiD;IAAb,CAAxC;;IAEA,IAAImH,QAAQ,IAAI,IAAhB,EAAsB;MACpBE,QAAQ,CAAChB,MAAT,GAAkBc,QAAlB;IACD;;IAED,IAAIF,MAAM,IAAI,IAAd,EAAoB;MAClBI,QAAQ,CAACC,IAAT,GAAgBL,MAAhB;;MACA,IAAIlK,IAAI,CAACiI,MAAL,EAAJ,EAAmB;QACjB,IAAI,CAACjI,IAAI,CAACwK,OAAL,CAAaN,MAAb,CAAD,IAAyBE,QAAQ,IAAI,IAAzC,EAA+C;UAC7C;UACAE,QAAQ,CAACF,QAAT,GAAoB,KAAKK,WAAL,CAAiBnB,MAAjB,CAApB;QACD;MACF;IACF,CARD,MAQO,IAAIc,QAAQ,IAAI,IAAZ,IAAoB,KAAKvJ,SAAL,KAAmByI,MAA3C,EAAmD;MACxDgB,QAAQ,CAACF,QAAT,GAAoB,KAAKK,WAAL,CAAiBnB,MAAjB,CAApB;IACD;;IAED,OAAO,KAAKoB,qBAAL,CAA2BJ,QAA3B,EAAqChB,MAArC,EAA6ChB,CAA7C,EAAgDC,CAAhD,EAAmDsB,IAAnD,EAAyDI,IAAzD,CAAP;EACD;;EAESS,qBAAqB,CAC7BJ,QAD6B,EAE7BhB,MAF6B,EAG7BhB,CAH6B,EAI7BC,CAJ6B,EAK7BsB,IAL6B,EAM7BI,IAN6B,EAMN;IAEvB,MAAM7H,GAAG,GAAGyH,IAAI,CAACc,WAAL,MAAsB,KAAKxK,KAAL,CAAWF,OAAX,CAAmB2K,UAAnB,CAA8BC,QAAhE;;IACA,IAAIzI,GAAJ,EAAS;MACP,MAAM0I,IAAI,GAAG,OAAO1I,GAAP,KAAe,QAAf,GAA0BA,GAA1B,GAAgCA,GAAG,CAAC0I,IAAjD;MACA,MAAMC,IAAI,GAAG,OAAO3I,GAAP,KAAe,QAAf,GAA0B,EAA1B,GAA+BA,GAAG,CAAC2I,IAAJ,IAAY,EAAxD;MACA,MAAMC,QAAQ,GAAGzL,kBAAkB,CAACyL,QAApC;;MAEA,IAAIF,IAAJ,EAAU;QACR,MAAMG,EAAE,GAAGD,QAAQ,CAAC7E,GAAT,CAAa2E,IAAb,CAAX;;QACA,IAAIG,EAAE,IAAI,IAAV,EAAgB;UACd,OAAOD,QAAQ,CAACE,UAAT,CAAoBJ,IAApB,CAAP;QACD;;QAED,MAAMtF,MAAM,GAAGpG,WAAW,CAAC0G,IAAZ,CACbmF,EADa,EAEb,KAAK9K,KAFQ,EAGbmK,QAHa,EAIb,IAJa,EAKbhB,MALa,EAMb,IAAItK,KAAJ,CAAUsJ,CAAV,EAAaC,CAAb,CANa,EAObsB,IAPa,EAQbI,IARa,EASbc,IATa,CAAf;;QAYA,IAAIvF,MAAJ,EAAY;UACV,OAAOA,MAAP;QACD;MACF;IACF;;IAED,OAAO8E,QAAP;EACD;;EAEDa,yBAAyB,CAACb,QAAD,EAA4B;IACnD,MAAMtK,IAAI,GAAG,KAAKA,IAAlB;IACA,MAAMoL,IAAI,GAAG,KAAKvK,SAAlB;IACA,MAAMqJ,MAAM,GAAII,QAAkC,CAACC,IAAnD;IACA,IAAIH,QAAQ,GAAGE,QAAQ,CAAChB,MAAxB;IACA,IAAIA,MAAJ;;IACA,IAAIY,MAAM,IAAI,IAAV,IAAkBlK,IAAI,CAACiI,MAAL,EAAlB,IAAmCjI,IAAI,CAACwK,OAAL,CAAaN,MAAb,CAAvC,EAA6D;MAC3DZ,MAAM,GAAI,KAAa+B,YAAb,CAA0BnB,MAA1B,EAAkCE,QAAlC,KAA+CgB,IAAzD;IACD,CAFD,MAEO;MACL,IAAI,CAAChB,QAAL,EAAe;QACbA,QAAQ,GAAGE,QAAQ,CAACF,QAApB;MACD;;MACD,IAAI,CAACA,QAAD,IAAaF,MAAM,IAAI,IAA3B,EAAiC;QAC/BE,QAAQ,GAAG,UAAUF,MAAM,IAA3B;MACD;;MACDZ,MAAM,GAAG,KAAKgC,OAAL,CAAalB,QAAb,EAAuBgB,IAAvB,EAA6B,KAAK3F,SAAlC,CAAT;IACD;;IAED,OAAO6D,MAAP;EACD,CAxjB+B,CA0jBhC;;;EAEAiC,OAAO,CAACrF,IAAD,EAA4BjG,OAA5B,EAAyD;IAC9D,MAAMuL,MAAM,GAAG,OAAOtF,IAAP,KAAgB,QAAhB,GAA2B,KAAKoF,OAAL,CAAapF,IAAb,CAA3B,GAAgDA,IAA/D;;IACA,IAAIsF,MAAM,IAAI,IAAd,EAAoB;MAClB,MAAM,IAAI9F,KAAJ,CAAU,4BAAV,CAAN;IACD;;IAED,MAAM+F,MAAM,GAAGD,MAAM,CAACE,UAAtB;;IACA,MAAMC,MAAM,GAAG,MAAK;MAClB,IAAI,CAACF,MAAL,EAAa;QACXtM,GAAG,CAACyM,MAAJ,CAAWJ,MAAX;MACD;IACF,CAJD;;IAMA,MAAMK,OAAO,GAAGxM,MAAM,CAACyM,MAAP,CAAcN,MAAd,CAAhB;;IACA,IAAI,CAACC,MAAL,EAAa;MACXI,OAAO,CAACE,QAAR,CAAiB,KAAK5L,KAAL,CAAWyJ,IAAX,CAAgBoC,KAAjC;IACD;;IAED,MAAMC,UAAU,GAAGhM,OAAO,CAACiM,QAA3B;;IACAjM,OAAO,CAACiM,QAAR,GAAoBC,CAAD,IAAa;MAC9BR,MAAM;;MAEN,IAAIM,UAAJ,EAAgB;QACdA,UAAU,CAACE,CAAD,CAAV;MACD;IACF,CAND;;IAQA,OAAON,OAAO,CAACN,OAAR,CAAgBtL,OAAhB,CAAP;EACD;;EAEDmM,gBAAgB,CAAClG,IAAD,EAA4BjG,OAA5B,EAAyD;IACvE,MAAMuL,MAAM,GAAG,OAAOtF,IAAP,KAAgB,QAAhB,GAA2B,KAAKoF,OAAL,CAAapF,IAAb,CAA3B,GAAgDA,IAA/D;;IACA,IAAIsF,MAAM,IAAI,IAAd,EAAoB;MAClB,MAAM,IAAI9F,KAAJ,CAAU,4BAAV,CAAN;IACD;;IAED,MAAM+F,MAAM,GAAGD,MAAM,CAACE,UAAtB;;IACA,MAAMC,MAAM,GAAG,MAAK;MAClB,IAAI,CAACF,MAAL,EAAa;QACXtM,GAAG,CAACyM,MAAJ,CAAWJ,MAAX;MACD;IACF,CAJD;;IAMA,MAAMK,OAAO,GAAGxM,MAAM,CAACyM,MAAP,CAAcN,MAAd,CAAhB;;IACA,IAAI,CAACC,MAAL,EAAa;MACXI,OAAO,CAACE,QAAR,CAAiB,KAAK5L,KAAL,CAAWyJ,IAAX,CAAgBoC,KAAjC;IACD;;IAED,MAAMC,UAAU,GAAGhM,OAAO,CAACiM,QAA3B;;IACAjM,OAAO,CAACiM,QAAR,GAAoBC,CAAD,IAAa;MAC9BR,MAAM;;MAEN,IAAIM,UAAJ,EAAgB;QACdA,UAAU,CAACE,CAAD,CAAV;MACD;IACF,CAND;;IAQA,OAAON,OAAO,CAACO,gBAAR,CAAyBnM,OAAzB,CAAP;EACD;;EAQDoM,QAAQ,CAACvB,IAAD,EAAc;IACpB,MAAMwB,KAAK,GAAG,KAAKA,KAAnB;;IACA,IAAIA,KAAK,IAAI,IAAb,EAAmB;MACjB,OAAO,KAAP;IACD;;IAED,IAAIxB,IAAI,IAAI,IAAZ,EAAkB;MAChB,OAAO,IAAP;IACD;;IAED,OAAOwB,KAAK,CAACxB,IAAN,KAAeA,IAAtB;EACD;;EAIDyB,QAAQ,CAACrL,MAAD,EAA6C;IACnD,IAAI,CAAC,KAAKyE,GAAL,CAAS,cAAT,CAAL,EAA+B;MAC7B,OAAO,IAAP;IACD;;IACD,KAAKlD,WAAL;;IACA,IAAIvB,MAAJ,EAAY;MACV,MAAMoL,KAAK,GAAG3M,SAAS,CAAC6M,WAAV,CAAsBtL,MAAtB,IACVA,MADU,GAEV,IAAIvB,SAAJ,CAAcuB,MAAd,CAFJ;MAGA,KAAKoL,KAAL,GAAaA,KAAb;MACA,KAAKnM,KAAL,CAAWyE,EAAX,CAAc,YAAd,EAA4B,KAAK6H,SAAjC,EAA4C,IAA5C;MACA,KAAKtM,KAAL,CAAWyE,EAAX,CAAc,YAAd,EAA4B,KAAK8H,SAAjC,EAA4C,IAA5C;MACA,KAAKvM,KAAL,CAAWyE,EAAX,CAAc,cAAd,EAA8B,KAAKnC,WAAnC,EAAgD,IAAhD;MACA6J,KAAK,CAACpL,MAAN,CAAa;QAAE0I,IAAI,EAAE;MAAR,CAAb;MACA0C,KAAK,CAACK,KAAN;IACD;;IACD,OAAO,IAAP;EACD;;EAEDC,WAAW,CAAC3M,UAAmC,EAApC,EAAsC;IAC/C,IAAI,KAAKqM,KAAT,EAAgB;MACd,KAAKA,KAAL,CAAWlD,MAAX,CAAkBnJ,OAAlB;IACD;;IACD,OAAO,IAAP;EACD;;EAEDwC,WAAW;IACT,IAAI,KAAK6J,KAAT,EAAgB;MACd,KAAKA,KAAL,CAAWV,MAAX;MACA,KAAKzL,KAAL,CAAW0M,GAAX,CAAe,YAAf,EAA6B,KAAKJ,SAAlC,EAA6C,IAA7C;MACA,KAAKtM,KAAL,CAAW0M,GAAX,CAAe,YAAf,EAA6B,KAAKH,SAAlC,EAA6C,IAA7C;MACA,KAAKvM,KAAL,CAAW0M,GAAX,CAAe,cAAf,EAA+B,KAAKpK,WAApC,EAAiD,IAAjD;MACA,KAAK6J,KAAL,GAAa,IAAb;IACD;;IACD,OAAO,IAAP;EACD;;EAEDG,SAAS;IACP,IAAI,KAAKH,KAAT,EAAgB;MACd,KAAKA,KAAL,CAAWQ,IAAX;IACD;;IACD,OAAO,IAAP;EACD;;EAEDJ,SAAS;IACP,IAAI,KAAKJ,KAAT,EAAgB;MACd,KAAKA,KAAL,CAAWS,IAAX;IACD;;IACD,OAAO,IAAP;EACD;;EAESC,WAAW;IACnB,MAAMV,KAAK,GAAG,KAAKtM,IAAL,CAAUiN,QAAV,EAAd;IACA,KAAKV,QAAL,CAAcD,KAAd;IACA,OAAO,IAAP;EACD;;EAWD3C,MAAM,CACJmB,IADI,EAEJC,IAFI,EAEyB;IAE7B,KAAKmC,OAAL,CAAapC,IAAb,EAAmBC,IAAnB;IACA,KAAK5K,KAAL,CAAW+M,OAAX,CAAmBpC,IAAnB,EAAyBC,IAAzB;IACA,OAAO,IAAP;EACD;;EAQSoC,YAAY,CAAIhB,CAAJ,EAAU7D,CAAV,EAAsBC,CAAtB,EAAgC;IACpD,MAAMqB,IAAI,GAAG,IAAb,CADoD,CAClC;;IAClB,MAAM5J,IAAI,GAAG4J,IAAI,CAAC5J,IAAlB;;IACA,IAAIsI,CAAC,IAAI,IAAL,IAAaC,CAAC,IAAI,IAAtB,EAA4B;MAC1B,OAAO;QAAE4D,CAAF;QAAKvC,IAAL;QAAW5J;MAAX,CAAP;IACD;;IACD,OAAO;MAAEmM,CAAF;MAAK7D,CAAL;MAAQC,CAAR;MAAWqB,IAAX;MAAiB5J;IAAjB,CAAP;EACD;;EAEDoN,OAAO,CAACjB,CAAD,EAAuB7D,CAAvB,EAAkCC,CAAlC,EAA2C;IAChD,KAAKoB,MAAL,CAAY,YAAZ,EAA0B,KAAKwD,YAAL,CAAkBhB,CAAlB,EAAqB7D,CAArB,EAAwBC,CAAxB,CAA1B;EACD;;EAED8E,UAAU,CAAClB,CAAD,EAA6B7D,CAA7B,EAAwCC,CAAxC,EAAiD;IACzD,KAAKoB,MAAL,CAAY,eAAZ,EAA6B,KAAKwD,YAAL,CAAkBhB,CAAlB,EAAqB7D,CAArB,EAAwBC,CAAxB,CAA7B;EACD;;EAED+E,aAAa,CAACnB,CAAD,EAA6B7D,CAA7B,EAAwCC,CAAxC,EAAiD;IAC5D,KAAKoB,MAAL,CAAY,kBAAZ,EAAgC,KAAKwD,YAAL,CAAkBhB,CAAlB,EAAqB7D,CAArB,EAAwBC,CAAxB,CAAhC;EACD;;EAIDgF,WAAW,CAACpB,CAAD,EAA2B7D,CAA3B,EAAsCC,CAAtC,EAA+C;IACxD,IAAI,KAAKvI,IAAL,CAAUwN,KAAd,EAAqB;MACnB,KAAKC,wBAAL,GAAgC,KAAKzN,IAAL,CAAUwN,KAA1C;MACA,KAAKC,wBAAL,CAA8BC,UAA9B,CAAyC,OAAzC;IACD;;IAED,KAAK/D,MAAL,CAAY,gBAAZ,EAA8B,KAAKwD,YAAL,CAAkBhB,CAAlB,EAAqB7D,CAArB,EAAwBC,CAAxB,CAA9B;EACD;;EAEDoF,SAAS,CAACxB,CAAD,EAAyB7D,CAAzB,EAAoCC,CAApC,EAA6C;IACpD,KAAKoB,MAAL,CAAY,cAAZ,EAA4B,KAAKwD,YAAL,CAAkBhB,CAAlB,EAAqB7D,CAArB,EAAwBC,CAAxB,CAA5B;;IAEA,IAAI,KAAKkF,wBAAT,EAAmC;MACjC,KAAKA,wBAAL,CAA8BG,SAA9B,CAAwC,OAAxC,EAAiD;QAAE5N,IAAI,EAAE,KAAKA;MAAb,CAAjD;MACA,KAAKyN,wBAAL,GAAgC,IAAhC;IACD;EACF;;EAEDI,WAAW,CAAC1B,CAAD,EAA2B7D,CAA3B,EAAsCC,CAAtC,EAA+C;IACxD,KAAKoB,MAAL,CAAY,gBAAZ,EAA8B,KAAKwD,YAAL,CAAkBhB,CAAlB,EAAqB7D,CAArB,EAAwBC,CAAxB,CAA9B;EACD;;EAEDuF,WAAW,CAAC3B,CAAD,EAAyB;IAClC,KAAKxC,MAAL,CAAY,gBAAZ,EAA8B,KAAKwD,YAAL,CAAkBhB,CAAlB,CAA9B;EACD;;EAED4B,UAAU,CAAC5B,CAAD,EAAwB;IAChC,KAAKxC,MAAL,CAAY,eAAZ,EAA6B,KAAKwD,YAAL,CAAkBhB,CAAlB,CAA7B;EACD;;EAED6B,YAAY,CAAC7B,CAAD,EAA0B;IACpC,KAAKxC,MAAL,CAAY,iBAAZ,EAA+B,KAAKwD,YAAL,CAAkBhB,CAAlB,CAA/B;EACD;;EAED8B,YAAY,CAAC9B,CAAD,EAA0B;IACpC,KAAKxC,MAAL,CAAY,iBAAZ,EAA+B,KAAKwD,YAAL,CAAkBhB,CAAlB,CAA/B;EACD;;EAED+B,YAAY,CAAC/B,CAAD,EAA2B7D,CAA3B,EAAsCC,CAAtC,EAAiD4F,KAAjD,EAA8D;IACxE,KAAKxE,MAAL,CAAY,iBAAZ,EAA6B5H;MAC3BoM;IAD2B,GAExB,KAAKhB,YAAL,CAAkBhB,CAAlB,EAAqB7D,CAArB,EAAwBC,CAAxB,CAFwB,CAA7B;EAID;;EAED6F,aAAa,CAACjC,CAAD,EAA2BrB,IAA3B,EAAyCxC,CAAzC,EAAoDC,CAApD,EAA6D;IACxE,KAAKoB,MAAL,CAAY,kBAAZ,EAA8B5H;MAAI+I;IAAJ,GAAa,KAAKqC,YAAL,CAAkBhB,CAAlB,EAAqB7D,CAArB,EAAwBC,CAAxB,CAAb,CAA9B;IACA,KAAKoB,MAAL,CAAYmB,IAAZ,EAAgB/I,kBAAO,KAAKoL,YAAL,CAAkBhB,CAAlB,EAAqB7D,CAArB,EAAwBC,CAAxB,CAAP,CAAhB;EACD;;EAED8F,iBAAiB,CACflC,CADe,EAEf7C,MAFe,EAGfhB,CAHe,EAIfC,CAJe,EAIN,CACP;;EAEJ+F,gBAAgB,CACdnC,CADc,EAEd7C,MAFc,EAGdhB,CAHc,EAIdC,CAJc,EAIL,CACP;;EAEJgG,mBAAmB,CACjBpC,CADiB,EAEjB7C,MAFiB,EAGjBhB,CAHiB,EAIjBC,CAJiB,EAIR,CACP;;EAEJiG,gBAAgB,CAACrC,CAAD,EAA2B7D,CAA3B,EAAsCC,CAAtC,EAA+C,CAAI;;EAEnEkG,eAAe,CAACtC,CAAD,EAAyB;IACtC,MAAMhM,KAAK,GAAG,KAAKA,KAAnB;;IACA,IAAIA,KAAK,CAACgF,QAAN,CAAeuJ,OAAf,EAAJ,EAA8B;MAC5B;MACAvO,KAAK,CAACgF,QAAN,CAAewJ,QAAf,CAAwB,IAAxB;IACD;;IACD,MAAMnD,MAAM,GAAG,KAAKoD,cAAL,CAAoBzC,CAApB,EAAuB;MAAE0C,SAAS,EAAE;IAAb,CAAvB,CAAf;IACA,MAAMjF,IAAI,GAAGzJ,KAAK,CAACgF,QAAN,CAAe2J,cAAf,CAA8BtD,MAA9B,CAAb;;IACA,IAAI5B,IAAI,KAAK,IAAb,EAAmB;MACjB;IACD,CAVqC,CAYtC;;;IACA,KAAKqE,YAAL,CAAkB9B,CAAlB;;IACA,IAAI,CAACvC,IAAL,EAAW;MACT;IACD,CAhBqC,CAkBtC;;;IACAA,IAAI,CAACoE,YAAL,CAAkB7B,CAAlB;EACD;;AAl1B+B;AACfrM,oBAAsC;EACrDgD,YAAY,EAAE,IADuC;EAErDH,YAAY,EAAE,MAFuC;EAGrDD,QAAQ,EAAE,CAH2C;EAIrDnC,SAAS,EAAE,EAJ0C;EAKrDD,OAAO,EAAE;AAL4C,CAAtC;;AA07BnB,WAAiBR,QAAjB,EAAyB;EACVA,gBAAOD,WAAP;EACAC,gBAAOF,WAAP;AACd,CAHD,EAAiBE,QAAQ,KAARA,QAAQ,MAAzB;;AAKA,WAAiBA,QAAjB,EAAyB;EACVA,uBAAc,MAAMA,QAAQ,CAACgL,IAAI,EAAjC;;EAEb,SAAgBiE,UAAhB,CAA2BC,QAA3B,EAAwC;IACtC,IAAIA,QAAQ,IAAI,IAAhB,EAAsB;MACpB,OAAO,KAAP;IACD;;IAED,IAAIA,QAAQ,YAAYlP,QAAxB,EAAkC;MAChC,OAAO,IAAP;IACD;;IAED,MAAMmP,GAAG,GAAGD,QAAQ,CAAC1M,MAAM,CAACC,WAAR,CAApB;IACA,MAAMqH,IAAI,GAAGoF,QAAb;;IAEA,IACE,CAACC,GAAG,IAAI,IAAP,IAAeA,GAAG,KAAKnP,oBAAxB,KACA,OAAO8J,IAAI,CAAC9F,UAAZ,KAA2B,UAD3B,IAEA,OAAO8F,IAAI,CAAC7F,UAAZ,KAA2B,UAF3B,IAGA,OAAO6F,IAAI,CAAC3F,aAAZ,KAA8B,UAJhC,EAKE;MACA,OAAO,IAAP;IACD;;IAED,OAAO,KAAP;EACD;;EAtBenE,sBAAUiP,UAAV;AAuBjB,CA1BD,EAAiBjP,QAAQ,KAARA,QAAQ,MAAzB,E,CA4BA;AACA;;;AACA,WAAiBA,QAAjB,EAAyB;EACvB,SAAgB4C,QAAhB,CAAyBwM,KAAzB,EAAsC;IACpC,OAAO,UAAUC,IAAV,EAA0B;MAC/BA,IAAI,CAACjO,MAAL,CAAY;QAAEwB,QAAQ,EAAEwM;MAAZ,CAAZ;IACD,CAFD;EAGD;;EAJepP,oBAAQ4C,QAAR;;EAMhB,SAAgBnC,SAAhB,CAA0BD,OAA1B,EAAsD;IACpD,OAAO,UAAU6O,IAAV,EAA0B;MAC/BA,IAAI,CAACjO,MAAL,CAAY;QAAEX,SAAS,EAAED;MAAb,CAAZ;IACD,CAFD;EAGD;;EAJeR,qBAASS,SAAT;AAKjB,CAZD,EAAiBT,QAAQ,KAARA,QAAQ,MAAzB;;AAcA,WAAiBA,QAAjB,EAAyB;EAaVA,oBAAWR,QAAQ,CAACwM,MAAT,CAA4B;IAClD7B,IAAI,EAAE;EAD4C,CAA5B,CAAX;AAGd,CAhBD,EAAiBnK,QAAQ,KAARA,QAAQ,MAAzB","names":["Rectangle","Point","ArrayExt","ObjectExt","Dom","FunctionExt","Vector","Registry","ConnectionStrategy","View","Cache","Markup","ToolsView","AttrManager","FlagManager","CellView","constructor","cell","options","ensureOptions","graph","attr","flag","actions","bootstrap","cache","setContainer","ensureContainer","setup","$","container","data","init","getDefaults","defaults","config","getOptions","mergeActions","arr1","arr2","uniq","Array","isArray","ret","cloneDeep","events","documentEvents","others","Object","keys","forEach","key","val","raw","merge","Symbol","toStringTag","onRemove","removeTools","priority","rootSelector","getConstructor","getContainerTagName","isSvgElement","getContainerStyle","getContainerAttrs","id","shape","getContainerClassName","prefixClassName","createElement","undelegateEvents","delegateEvents","attrs","setAttrs","style","setStyle","className","addClass","isNodeView","isEdgeView","render","confirmUpdate","getBootstrapFlag","getFlag","hasAction","removeAction","handleAction","action","handle","additionalRemovedActions","removedFlags","push","on","onAttrsChange","getChangedFlag","updated","dirty","toolId","async","renderer","requestViewUpdate","parseJSONMarkup","markup","rootElem","result","selectors","Error","can","feature","interacting","call","cleanCache","clean","getCache","elem","get","getDataOfElement","getData","getMatrixOfElement","getMatrix","getShapeOfElement","getShape","getScaleOfElement","node","scalableNode","sx","sy","contains","scale","getBoundingRectOfElement","getBoundingRect","getBBoxOfElement","rect","matrix","rm","getRootRotatedMatrix","tm","getRootTranslatedMatrix","transformRectangle","multiply","getUnrotatedBBoxOfElement","getBBox","bbox","useCellGeometry","angle","isNode","getAngle","localToGraph","pos","getPosition","x","y","createSVGMatrix","translate","cx","width","cy","height","rotate","findMagnet","findByAttr","updateAttrs","rootNode","rootBBox","update","isEdgeElement","magnet","isEdge","prepareHighlight","partial","highlight","notify","view","edge","unhighlight","notifyUnhighlight","getEdgeTerminal","type","portId","findAttr","selector","getAttribute","terminal","port","hasPort","getSelector","customizeEdgeTerminal","getStrategy","connecting","strategy","name","args","registry","fn","onNotFound","getMagnetFromEdgeTerminal","root","findPortElem","findOne","animate","target","parent","parentNode","revert","remove","vTarget","create","appendTo","stage","onComplete","complete","e","animateTransform","hasTools","tools","addTools","isToolsView","hideTools","showTools","mount","updateTools","off","hide","show","renderTools","getTools","trigger","getEventArgs","onClick","onDblClick","onContextMenu","onMouseDown","model","cachedModelForMouseEvent","startBatch","onMouseUp","stopBatch","onMouseMove","onMouseOver","onMouseOut","onMouseEnter","onMouseLeave","onMouseWheel","delta","onCustomEvent","onMagnetMouseDown","onMagnetDblClick","onMagnetContextMenu","onLabelMouseDown","checkMouseleave","isAsync","dumpView","getEventTarget","fromPoint","findViewByElem","isCellView","instance","tag","value","ctor"],"sourceRoot":"","sources":["../../src/view/cell.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}