{"ast":null,"code":"import { getTickInterval } from '../util/time';\nexport default function calculateTimeTicks(cfg) {\n  var min = cfg.min,\n      max = cfg.max,\n      minTickInterval = cfg.minTickInterval;\n  var tickInterval = cfg.tickInterval;\n  var tickCount = cfg.tickCount; // 指定 tickInterval 后 tickCount 不生效，需要重新计算\n\n  if (tickInterval) {\n    tickCount = Math.ceil((max - min) / tickInterval);\n  } else {\n    tickInterval = getTickInterval(min, max, tickCount)[1];\n    var count = (max - min) / tickInterval;\n    var ratio = count / tickCount;\n\n    if (ratio > 1) {\n      tickInterval = tickInterval * Math.ceil(ratio);\n    } // 如果设置了最小间距，则使用最小间距\n\n\n    if (minTickInterval && tickInterval < minTickInterval) {\n      tickInterval = minTickInterval;\n    }\n  }\n\n  tickInterval = Math.max(Math.floor((max - min) / (Math.pow(2, 12) - 1)), tickInterval);\n  var ticks = [];\n\n  for (var i = min; i < max + tickInterval; i += tickInterval) {\n    ticks.push(i);\n  }\n\n  return ticks;\n}","map":{"version":3,"mappings":"AACA,SAASA,eAAT,QAAgC,cAAhC;AAEA,eAAc,SAAUC,kBAAV,CAA6BC,GAA7B,EAA6C;EACjD,OAAG,GAA2BA,GAAG,IAAjC;EAAA,IAAKC,GAAG,GAAsBD,GAAG,IAAjC;EAAA,IAAUE,eAAe,GAAKF,GAAG,gBAAjC;EACR,IAAIG,YAAY,GAAGH,GAAG,CAACG,YAAvB;EACA,IAAIC,SAAS,GAAGJ,GAAG,CAACI,SAApB,CAHyD,CAIzD;;EACA,IAAID,YAAJ,EAAkB;IAChBC,SAAS,GAAGC,IAAI,CAACC,IAAL,CAAU,CAACL,GAAG,GAAGM,GAAP,IAAcJ,YAAxB,CAAZ;EACD,CAFD,MAEO;IACLA,YAAY,GAAGL,eAAe,CAACS,GAAD,EAAMN,GAAN,EAAWG,SAAX,CAAf,CAAqC,CAArC,CAAf;IACA,IAAMI,KAAK,GAAG,CAACP,GAAG,GAAGM,GAAP,IAAcJ,YAA5B;IACA,IAAMM,KAAK,GAAGD,KAAK,GAAGJ,SAAtB;;IACA,IAAIK,KAAK,GAAG,CAAZ,EAAe;MACbN,YAAY,GAAGA,YAAY,GAAGE,IAAI,CAACC,IAAL,CAAUG,KAAV,CAA9B;IACD,CANI,CAOL;;;IACA,IAAIP,eAAe,IAAIC,YAAY,GAAGD,eAAtC,EAAuD;MACrDC,YAAY,GAAGD,eAAf;IACD;EACF;;EAEDC,YAAY,GAAGE,IAAI,CAACJ,GAAL,CAASI,IAAI,CAACK,KAAL,CAAW,CAACT,GAAG,GAAGM,GAAP,KAAeF,YAAK,EAAL,IAAU,CAAzB,CAAX,CAAT,EAAkDF,YAAlD,CAAf;EACA,IAAMQ,KAAK,GAAG,EAAd;;EACA,KAAK,IAAIC,CAAC,GAAGL,GAAb,EAAkBK,CAAC,GAAGX,GAAG,GAAGE,YAA5B,EAA0CS,CAAC,IAAIT,YAA/C,EAA6D;IAC3DQ,KAAK,CAACE,IAAN,CAAWD,CAAX;EACD;;EACD,OAAOD,KAAP;AACD","names":["getTickInterval","calculateTimeTicks","cfg","max","minTickInterval","tickInterval","tickCount","Math","ceil","min","count","ratio","floor","ticks","i","push"],"sourceRoot":"","sources":["../../src/tick-method/time.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}