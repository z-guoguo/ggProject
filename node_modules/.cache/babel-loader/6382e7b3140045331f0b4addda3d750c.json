{"ast":null,"code":"import { isString } from '@antv/util';\nimport { createDom, modifyCSS } from '@antv/dom-util';\nexport var BACKGROUND_STYLE = {\n  opacity: 0.5,\n  fill: '#000'\n};\nexport var ARROW_STYLE = {\n  opacity: 0.5,\n  fill: '#000',\n  r: 5\n};\nexport var TEXT_STYLE = {\n  fill: '#fff',\n  fontSize: 12\n};\n/**\n * 缩略趋势图\n */\n\nvar TimeBarTooltip =\n/** @class */\nfunction () {\n  function TimeBarTooltip(cfg) {\n    var _a = cfg.x,\n        x = _a === void 0 ? 0 : _a,\n        _b = cfg.y,\n        y = _b === void 0 ? 0 : _b,\n        container = cfg.container,\n        text = cfg.text,\n        _c = cfg.padding,\n        padding = _c === void 0 ? [4, 4, 4, 4] : _c,\n        _d = cfg.className,\n        className = _d === void 0 ? 'g6-component-timebar-tooltip' : _d,\n        _e = cfg.backgroundColor,\n        backgroundColor = _e === void 0 ? '#000' : _e,\n        _f = cfg.textColor,\n        textColor = _f === void 0 ? '#fff' : _f,\n        _g = cfg.opacity,\n        opacity = _g === void 0 ? 0.8 : _g,\n        _h = cfg.fontSize,\n        fontSize = _h === void 0 ? 12 : _h;\n    this.container = container;\n    this.className = className;\n    this.backgroundColor = backgroundColor;\n    this.textColor = textColor;\n    this.x = x;\n    this.y = y;\n    this.text = text;\n    this.padding = padding;\n    this.opacity = opacity;\n    this.fontSize = fontSize;\n    this.render();\n  }\n  /**\n   * 首次渲染\n   * @private\n   */\n\n\n  TimeBarTooltip.prototype.render = function () {\n    var self = this;\n    var className = self.className,\n        x = self.x,\n        y = self.y,\n        backgroundColor = self.backgroundColor,\n        textColor = self.textColor,\n        text = self.text,\n        padding = self.padding,\n        opacity = self.opacity,\n        fontSize = self.fontSize;\n    var parentNode = self.container;\n    var container = createDom(\"<div class='\".concat(className, \"' style=\\\"position: absolute; width: fit-content; height: fit-content; opacity: \").concat(opacity, \"\\\"></div>\"));\n\n    if (isString(parentNode)) {\n      parentNode = document.getElementById(parentNode);\n    }\n\n    parentNode.appendChild(container);\n    self.parentHeight = parentNode.offsetHeight;\n    self.parentWidth = parentNode.offsetWidth;\n    modifyCSS(container, {\n      visibility: 'hidden',\n      top: 0,\n      left: 0\n    });\n    var background = createDom(\"\\n      <div style='position: absolute; white-space:nowrap; background-color: \".concat(backgroundColor, \"; font-size: \").concat(fontSize, \"px; border-radius: 4px; width: fit-content; height: fit-content; color: \").concat(textColor, \"; padding: \").concat(padding[0], \"px \").concat(padding[1], \"px \").concat(padding[2], \"px \").concat(padding[3], \"px'></div>\"));\n    background.innerHTML = text;\n    container.appendChild(background);\n    self.backgroundDOM = background;\n    var arrow = createDom(\"<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid \".concat(backgroundColor, \"'></div>\"));\n    container.appendChild(arrow);\n    self.arrowDOM = arrow;\n    self.container = container;\n  };\n\n  TimeBarTooltip.prototype.show = function (cfg) {\n    var self = this;\n    var text = cfg.text,\n        x = cfg.x,\n        y = cfg.y,\n        clientX = cfg.clientX,\n        clientY = cfg.clientY;\n    self.backgroundDOM.innerHTML = text;\n    var backgroundWidth = self.backgroundDOM.offsetWidth;\n    var backgroundHeight = self.backgroundDOM.offsetHeight;\n    var arrowWidth = self.arrowDOM.offsetWidth;\n    var arrowHeight = self.arrowDOM.offsetHeight;\n    modifyCSS(self.container, {\n      top: \"\".concat(-backgroundHeight - arrowHeight, \"px\"),\n      left: \"\".concat(x, \"px\"),\n      visibility: 'visible'\n    });\n    modifyCSS(self.backgroundDOM, {\n      marginLeft: \"\".concat(-backgroundWidth / 2, \"px\")\n    });\n    modifyCSS(self.arrowDOM, {\n      marginLeft: \"\".concat(-arrowWidth / 2, \"px\"),\n      top: \"\".concat(backgroundHeight, \"px\")\n    });\n    var left = x - backgroundWidth / 2;\n    var right = x + backgroundWidth / 2;\n\n    if (left < 0) {\n      modifyCSS(self.backgroundDOM, {\n        marginLeft: \"\".concat(-backgroundWidth / 2 - left, \"px\")\n      });\n    } else if (right > self.parentWidth) {\n      modifyCSS(self.backgroundDOM, {\n        marginLeft: \"\".concat(-backgroundWidth / 2 - right + self.parentWidth + 12, \"px\")\n      });\n    }\n  };\n\n  TimeBarTooltip.prototype.hide = function () {\n    modifyCSS(this.container, {\n      top: 0,\n      left: 0,\n      visibility: 'hidden'\n    });\n  };\n\n  return TimeBarTooltip;\n}();\n\nexport default TimeBarTooltip;","map":{"version":3,"names":["isString","createDom","modifyCSS","BACKGROUND_STYLE","opacity","fill","ARROW_STYLE","r","TEXT_STYLE","fontSize","TimeBarTooltip","cfg","_a","x","_b","y","container","text","_c","padding","_d","className","_e","backgroundColor","_f","textColor","_g","_h","render","prototype","self","parentNode","concat","document","getElementById","appendChild","parentHeight","offsetHeight","parentWidth","offsetWidth","visibility","top","left","background","innerHTML","backgroundDOM","arrow","arrowDOM","show","clientX","clientY","backgroundWidth","backgroundHeight","arrowWidth","arrowHeight","marginLeft","right","hide"],"sources":["/Users/wawalike/Desktop/ggProject/node_modules/@antv/g6-plugin/es/timeBar/timeBarTooltip.js"],"sourcesContent":["import { isString } from '@antv/util';\nimport { createDom, modifyCSS } from '@antv/dom-util';\nexport var BACKGROUND_STYLE = {\n  opacity: 0.5,\n  fill: '#000'\n};\nexport var ARROW_STYLE = {\n  opacity: 0.5,\n  fill: '#000',\n  r: 5\n};\nexport var TEXT_STYLE = {\n  fill: '#fff',\n  fontSize: 12\n};\n/**\n * 缩略趋势图\n */\n\nvar TimeBarTooltip =\n/** @class */\nfunction () {\n  function TimeBarTooltip(cfg) {\n    var _a = cfg.x,\n        x = _a === void 0 ? 0 : _a,\n        _b = cfg.y,\n        y = _b === void 0 ? 0 : _b,\n        container = cfg.container,\n        text = cfg.text,\n        _c = cfg.padding,\n        padding = _c === void 0 ? [4, 4, 4, 4] : _c,\n        _d = cfg.className,\n        className = _d === void 0 ? 'g6-component-timebar-tooltip' : _d,\n        _e = cfg.backgroundColor,\n        backgroundColor = _e === void 0 ? '#000' : _e,\n        _f = cfg.textColor,\n        textColor = _f === void 0 ? '#fff' : _f,\n        _g = cfg.opacity,\n        opacity = _g === void 0 ? 0.8 : _g,\n        _h = cfg.fontSize,\n        fontSize = _h === void 0 ? 12 : _h;\n    this.container = container;\n    this.className = className;\n    this.backgroundColor = backgroundColor;\n    this.textColor = textColor;\n    this.x = x;\n    this.y = y;\n    this.text = text;\n    this.padding = padding;\n    this.opacity = opacity;\n    this.fontSize = fontSize;\n    this.render();\n  }\n  /**\n   * 首次渲染\n   * @private\n   */\n\n\n  TimeBarTooltip.prototype.render = function () {\n    var self = this;\n    var className = self.className,\n        x = self.x,\n        y = self.y,\n        backgroundColor = self.backgroundColor,\n        textColor = self.textColor,\n        text = self.text,\n        padding = self.padding,\n        opacity = self.opacity,\n        fontSize = self.fontSize;\n    var parentNode = self.container;\n    var container = createDom(\"<div class='\".concat(className, \"' style=\\\"position: absolute; width: fit-content; height: fit-content; opacity: \").concat(opacity, \"\\\"></div>\"));\n\n    if (isString(parentNode)) {\n      parentNode = document.getElementById(parentNode);\n    }\n\n    parentNode.appendChild(container);\n    self.parentHeight = parentNode.offsetHeight;\n    self.parentWidth = parentNode.offsetWidth;\n    modifyCSS(container, {\n      visibility: 'hidden',\n      top: 0,\n      left: 0\n    });\n    var background = createDom(\"\\n      <div style='position: absolute; white-space:nowrap; background-color: \".concat(backgroundColor, \"; font-size: \").concat(fontSize, \"px; border-radius: 4px; width: fit-content; height: fit-content; color: \").concat(textColor, \"; padding: \").concat(padding[0], \"px \").concat(padding[1], \"px \").concat(padding[2], \"px \").concat(padding[3], \"px'></div>\"));\n    background.innerHTML = text;\n    container.appendChild(background);\n    self.backgroundDOM = background;\n    var arrow = createDom(\"<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid \".concat(backgroundColor, \"'></div>\"));\n    container.appendChild(arrow);\n    self.arrowDOM = arrow;\n    self.container = container;\n  };\n\n  TimeBarTooltip.prototype.show = function (cfg) {\n    var self = this;\n    var text = cfg.text,\n        x = cfg.x,\n        y = cfg.y,\n        clientX = cfg.clientX,\n        clientY = cfg.clientY;\n    self.backgroundDOM.innerHTML = text;\n    var backgroundWidth = self.backgroundDOM.offsetWidth;\n    var backgroundHeight = self.backgroundDOM.offsetHeight;\n    var arrowWidth = self.arrowDOM.offsetWidth;\n    var arrowHeight = self.arrowDOM.offsetHeight;\n    modifyCSS(self.container, {\n      top: \"\".concat(-backgroundHeight - arrowHeight, \"px\"),\n      left: \"\".concat(x, \"px\"),\n      visibility: 'visible'\n    });\n    modifyCSS(self.backgroundDOM, {\n      marginLeft: \"\".concat(-backgroundWidth / 2, \"px\")\n    });\n    modifyCSS(self.arrowDOM, {\n      marginLeft: \"\".concat(-arrowWidth / 2, \"px\"),\n      top: \"\".concat(backgroundHeight, \"px\")\n    });\n    var left = x - backgroundWidth / 2;\n    var right = x + backgroundWidth / 2;\n\n    if (left < 0) {\n      modifyCSS(self.backgroundDOM, {\n        marginLeft: \"\".concat(-backgroundWidth / 2 - left, \"px\")\n      });\n    } else if (right > self.parentWidth) {\n      modifyCSS(self.backgroundDOM, {\n        marginLeft: \"\".concat(-backgroundWidth / 2 - right + self.parentWidth + 12, \"px\")\n      });\n    }\n  };\n\n  TimeBarTooltip.prototype.hide = function () {\n    modifyCSS(this.container, {\n      top: 0,\n      left: 0,\n      visibility: 'hidden'\n    });\n  };\n\n  return TimeBarTooltip;\n}();\n\nexport default TimeBarTooltip;"],"mappings":"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"},"metadata":{},"sourceType":"module"}