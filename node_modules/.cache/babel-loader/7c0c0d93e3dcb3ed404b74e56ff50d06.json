{"ast":null,"code":"import { Dom, Vector } from '../../util';\nimport { Registry } from '../registry';\nimport * as patterns from './main';\nexport class Grid {\n  constructor() {\n    this.patterns = {};\n    this.root = Vector.create(Dom.createSvgDocument(), {\n      width: '100%',\n      height: '100%'\n    }, [Dom.createSvgElement('defs')]).node;\n  }\n\n  add(id, elem) {\n    const firstChild = this.root.childNodes[0];\n\n    if (firstChild) {\n      firstChild.appendChild(elem);\n    }\n\n    this.patterns[id] = elem;\n    Vector.create('rect', {\n      width: '100%',\n      height: '100%',\n      fill: `url(#${id})`\n    }).appendTo(this.root);\n  }\n\n  get(id) {\n    return this.patterns[id];\n  }\n\n  has(id) {\n    return this.patterns[id] != null;\n  }\n\n}\n\n(function (Grid) {\n  Grid.presets = patterns;\n  Grid.registry = Registry.create({\n    type: 'grid'\n  });\n  Grid.registry.register(Grid.presets, true);\n})(Grid || (Grid = {}));","map":{"version":3,"mappings":"AAAA,SAASA,GAAT,EAAcC,MAAd,QAA4B,YAA5B;AAEA,SAASC,QAAT,QAAyB,aAAzB;AACA,OAAO,KAAKC,QAAZ,MAA0B,QAA1B;AAEA,OAAM,MAAOC,IAAP,CAAW;EAIfC;IACE,KAAKF,QAAL,GAAgB,EAAhB;IACA,KAAKG,IAAL,GAAYL,MAAM,CAACM,MAAP,CACVP,GAAG,CAACQ,iBAAJ,EADU,EAEV;MACEC,KAAK,EAAE,MADT;MAEEC,MAAM,EAAE;IAFV,CAFU,EAMV,CAACV,GAAG,CAACW,gBAAJ,CAAqB,MAArB,CAAD,CANU,EAOVC,IAPF;EAQD;;EAEDC,GAAG,CAACC,EAAD,EAAaC,IAAb,EAA0B;IAC3B,MAAMC,UAAU,GAAG,KAAKV,IAAL,CAAUW,UAAV,CAAqB,CAArB,CAAnB;;IACA,IAAID,UAAJ,EAAgB;MACdA,UAAU,CAACE,WAAX,CAAuBH,IAAvB;IACD;;IAED,KAAKZ,QAAL,CAAcW,EAAd,IAAoBC,IAApB;IAEAd,MAAM,CAACM,MAAP,CAAc,MAAd,EAAsB;MACpBE,KAAK,EAAE,MADa;MAEpBC,MAAM,EAAE,MAFY;MAGpBS,IAAI,EAAE,QAAQL,EAAE;IAHI,CAAtB,EAIGM,QAJH,CAIY,KAAKd,IAJjB;EAKD;;EAEDe,GAAG,CAACP,EAAD,EAAW;IACZ,OAAO,KAAKX,QAAL,CAAcW,EAAd,CAAP;EACD;;EAEDQ,GAAG,CAACR,EAAD,EAAW;IACZ,OAAO,KAAKX,QAAL,CAAcW,EAAd,KAAqB,IAA5B;EACD;;AArCc;;AAmEjB,WAAiBV,IAAjB,EAAqB;EACNA,eAAUD,QAAV;EACAC,gBAAWF,QAAQ,CAACK,MAAT,CAA2C;IACjEgB,IAAI,EAAE;EAD2D,CAA3C,CAAX;EAIbnB,cAASoB,QAAT,CAAkBpB,YAAlB,EAA2B,IAA3B;AACD,CAPD,EAAiBA,IAAI,KAAJA,IAAI,MAArB","names":["Dom","Vector","Registry","patterns","Grid","constructor","root","create","createSvgDocument","width","height","createSvgElement","node","add","id","elem","firstChild","childNodes","appendChild","fill","appendTo","get","has","type","register"],"sourceRoot":"","sources":["../../../src/registry/grid/index.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}