{"ast":null,"code":"/**\n * 调用 gpuDetector.webgl 判断当前浏览器是否支持 webgl。（支持 gpgpu 的浏览器一定也支持 webgl）\n */\nexport var gpuDetector = function gpuDetector() {\n  if (typeof window === 'undefined' || typeof document === 'undefined') return {};\n  return {\n    canvas: !!window.CanvasRenderingContext2D,\n    webgl: function () {\n      try {\n        var canvas = document.createElement('canvas');\n        return !!(window.WebGLRenderingContext && (canvas.getContext('webgl') || canvas.getContext('experimental-webgl')));\n      } catch (e) {\n        return false;\n      }\n    }(),\n    workers: !!window.Worker,\n    fileapi: window.File && window.FileReader && window.FileList && window.Blob,\n    getWebGLErrorMessage: function getWebGLErrorMessage() {\n      var element = document.createElement('div');\n      element.id = 'webgl-error-message';\n      element.style.fontFamily = 'monospace';\n      element.style.fontSize = '13px';\n      element.style.fontWeight = 'normal';\n      element.style.textAlign = 'center';\n      element.style.background = '#fff';\n      element.style.color = '#000';\n      element.style.padding = '1.5em';\n      element.style.width = '400px';\n      element.style.margin = '5em auto 0';\n\n      if (!this.webgl) {\n        element.innerHTML = window.WebGLRenderingContext ? ['Your graphics card does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" rel=\"external nofollow\" rel=\"external nofollow\" style=\"color:#000\">WebGL</a>.<br />', 'Find out how to get it <a href=\"http://get.webgl.org/\" rel=\"external nofollow\" rel=\"external nofollow\" style=\"color:#000\">here</a>.'].join('\\n') : ['Your browser does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" rel=\"external nofollow\" rel=\"external nofollow\" style=\"color:#000\">WebGL</a>.<br/>', 'Find out how to get it <a href=\"http://get.webgl.org/\" rel=\"external nofollow\" rel=\"external nofollow\" style=\"color:#000\">here</a>.'].join('\\n');\n      }\n\n      return element;\n    },\n    addGetWebGLMessage: function addGetWebGLMessage(parameters) {\n      parameters = parameters || {};\n      var parent = parameters.parent !== undefined ? parameters.parent : document.body;\n      var id = parameters.id !== undefined ? parameters.id : 'oldie';\n      var element = gpuDetector().getWebGLErrorMessage();\n      element.id = id;\n      parent.appendChild(element);\n    }\n  };\n};","map":{"version":3,"names":["gpuDetector","window","document","canvas","CanvasRenderingContext2D","webgl","createElement","WebGLRenderingContext","getContext","e","workers","Worker","fileapi","File","FileReader","FileList","Blob","getWebGLErrorMessage","element","id","style","fontFamily","fontSize","fontWeight","textAlign","background","color","padding","width","margin","innerHTML","join","addGetWebGLMessage","parameters","parent","undefined","body","appendChild"],"sources":["/Users/wawalike/Desktop/ggProject/node_modules/@antv/g6-pc/es/util/gpu.js"],"sourcesContent":["/**\n * 调用 gpuDetector.webgl 判断当前浏览器是否支持 webgl。（支持 gpgpu 的浏览器一定也支持 webgl）\n */\nexport var gpuDetector = function gpuDetector() {\n  if (typeof window === 'undefined' || typeof document === 'undefined') return {};\n  return {\n    canvas: !!window.CanvasRenderingContext2D,\n    webgl: function () {\n      try {\n        var canvas = document.createElement('canvas');\n        return !!(window.WebGLRenderingContext && (canvas.getContext('webgl') || canvas.getContext('experimental-webgl')));\n      } catch (e) {\n        return false;\n      }\n    }(),\n    workers: !!window.Worker,\n    fileapi: window.File && window.FileReader && window.FileList && window.Blob,\n    getWebGLErrorMessage: function getWebGLErrorMessage() {\n      var element = document.createElement('div');\n      element.id = 'webgl-error-message';\n      element.style.fontFamily = 'monospace';\n      element.style.fontSize = '13px';\n      element.style.fontWeight = 'normal';\n      element.style.textAlign = 'center';\n      element.style.background = '#fff';\n      element.style.color = '#000';\n      element.style.padding = '1.5em';\n      element.style.width = '400px';\n      element.style.margin = '5em auto 0';\n\n      if (!this.webgl) {\n        element.innerHTML = window.WebGLRenderingContext ? ['Your graphics card does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" rel=\"external nofollow\" rel=\"external nofollow\" style=\"color:#000\">WebGL</a>.<br />', 'Find out how to get it <a href=\"http://get.webgl.org/\" rel=\"external nofollow\" rel=\"external nofollow\" style=\"color:#000\">here</a>.'].join('\\n') : ['Your browser does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" rel=\"external nofollow\" rel=\"external nofollow\" style=\"color:#000\">WebGL</a>.<br/>', 'Find out how to get it <a href=\"http://get.webgl.org/\" rel=\"external nofollow\" rel=\"external nofollow\" style=\"color:#000\">here</a>.'].join('\\n');\n      }\n\n      return element;\n    },\n    addGetWebGLMessage: function addGetWebGLMessage(parameters) {\n      parameters = parameters || {};\n      var parent = parameters.parent !== undefined ? parameters.parent : document.body;\n      var id = parameters.id !== undefined ? parameters.id : 'oldie';\n      var element = gpuDetector().getWebGLErrorMessage();\n      element.id = id;\n      parent.appendChild(element);\n    }\n  };\n};"],"mappings":"AAAA;AACA;AACA;AACA,OAAO,IAAIA,WAAW,GAAG,SAASA,WAAT,GAAuB;EAC9C,IAAI,OAAOC,MAAP,KAAkB,WAAlB,IAAiC,OAAOC,QAAP,KAAoB,WAAzD,EAAsE,OAAO,EAAP;EACtE,OAAO;IACLC,MAAM,EAAE,CAAC,CAACF,MAAM,CAACG,wBADZ;IAELC,KAAK,EAAE,YAAY;MACjB,IAAI;QACF,IAAIF,MAAM,GAAGD,QAAQ,CAACI,aAAT,CAAuB,QAAvB,CAAb;QACA,OAAO,CAAC,EAAEL,MAAM,CAACM,qBAAP,KAAiCJ,MAAM,CAACK,UAAP,CAAkB,OAAlB,KAA8BL,MAAM,CAACK,UAAP,CAAkB,oBAAlB,CAA/D,CAAF,CAAR;MACD,CAHD,CAGE,OAAOC,CAAP,EAAU;QACV,OAAO,KAAP;MACD;IACF,CAPM,EAFF;IAULC,OAAO,EAAE,CAAC,CAACT,MAAM,CAACU,MAVb;IAWLC,OAAO,EAAEX,MAAM,CAACY,IAAP,IAAeZ,MAAM,CAACa,UAAtB,IAAoCb,MAAM,CAACc,QAA3C,IAAuDd,MAAM,CAACe,IAXlE;IAYLC,oBAAoB,EAAE,SAASA,oBAAT,GAAgC;MACpD,IAAIC,OAAO,GAAGhB,QAAQ,CAACI,aAAT,CAAuB,KAAvB,CAAd;MACAY,OAAO,CAACC,EAAR,GAAa,qBAAb;MACAD,OAAO,CAACE,KAAR,CAAcC,UAAd,GAA2B,WAA3B;MACAH,OAAO,CAACE,KAAR,CAAcE,QAAd,GAAyB,MAAzB;MACAJ,OAAO,CAACE,KAAR,CAAcG,UAAd,GAA2B,QAA3B;MACAL,OAAO,CAACE,KAAR,CAAcI,SAAd,GAA0B,QAA1B;MACAN,OAAO,CAACE,KAAR,CAAcK,UAAd,GAA2B,MAA3B;MACAP,OAAO,CAACE,KAAR,CAAcM,KAAd,GAAsB,MAAtB;MACAR,OAAO,CAACE,KAAR,CAAcO,OAAd,GAAwB,OAAxB;MACAT,OAAO,CAACE,KAAR,CAAcQ,KAAd,GAAsB,OAAtB;MACAV,OAAO,CAACE,KAAR,CAAcS,MAAd,GAAuB,YAAvB;;MAEA,IAAI,CAAC,KAAKxB,KAAV,EAAiB;QACfa,OAAO,CAACY,SAAR,GAAoB7B,MAAM,CAACM,qBAAP,GAA+B,CAAC,wMAAD,EAA2M,qIAA3M,EAAkVwB,IAAlV,CAAuV,IAAvV,CAA/B,GAA8X,CAAC,iMAAD,EAAoM,qIAApM,EAA2UA,IAA3U,CAAgV,IAAhV,CAAlZ;MACD;;MAED,OAAOb,OAAP;IACD,CA9BI;IA+BLc,kBAAkB,EAAE,SAASA,kBAAT,CAA4BC,UAA5B,EAAwC;MAC1DA,UAAU,GAAGA,UAAU,IAAI,EAA3B;MACA,IAAIC,MAAM,GAAGD,UAAU,CAACC,MAAX,KAAsBC,SAAtB,GAAkCF,UAAU,CAACC,MAA7C,GAAsDhC,QAAQ,CAACkC,IAA5E;MACA,IAAIjB,EAAE,GAAGc,UAAU,CAACd,EAAX,KAAkBgB,SAAlB,GAA8BF,UAAU,CAACd,EAAzC,GAA8C,OAAvD;MACA,IAAID,OAAO,GAAGlB,WAAW,GAAGiB,oBAAd,EAAd;MACAC,OAAO,CAACC,EAAR,GAAaA,EAAb;MACAe,MAAM,CAACG,WAAP,CAAmBnB,OAAnB;IACD;EAtCI,CAAP;AAwCD,CA1CM"},"metadata":{},"sourceType":"module"}