{"ast":null,"code":"import { Widget } from '../common';\nimport { Dom } from '../../util';\nimport { Angle, Point } from '../../geometry';\nexport class Knob extends Widget {\n  get node() {\n    return this.cell;\n  }\n\n  get metadata() {\n    const meta = this.cell.prop('knob');\n\n    if (Array.isArray(meta)) {\n      if (this.options.index != null) {\n        return meta[this.options.index];\n      }\n\n      return null;\n    }\n\n    return meta;\n  }\n\n  init(options) {\n    this.options = Object.assign({}, options);\n    this.render();\n    this.startListening();\n  }\n\n  startListening() {\n    this.delegateEvents({\n      mousedown: 'onMouseDown',\n      touchstart: 'onMouseDown'\n    });\n    this.model.on('*', this.update, this);\n    this.graph.on('scale', this.update, this);\n    this.graph.on('translate', this.update, this);\n    this.model.on('reseted', this.remove, this);\n    this.node.on('removed', this.remove, this);\n    this.view.on('node:resize:mousedown', this.onTransform, this);\n    this.view.on('node:rotate:mousedown', this.onTransform, this);\n    this.view.on('node:resize:mouseup', this.onTransformed, this);\n    this.view.on('node:rotate:mouseup', this.onTransformed, this);\n    this.view.on('cell:knob:mousedown', this.onKnobMouseDown, this);\n    this.view.on('cell:knob:mouseup', this.onKnobMouseUp, this);\n    super.startListening();\n  }\n\n  stopListening() {\n    this.undelegateEvents();\n    this.model.off('*', this.update, this);\n    this.graph.off('scale', this.update, this);\n    this.graph.off('translate', this.update, this);\n    this.model.off('reseted', this.remove, this);\n    this.node.off('removed', this.remove, this);\n    this.view.off('node:resize:mousedown', this.onTransform, this);\n    this.view.off('node:rotate:mousedown', this.onTransform, this);\n    this.view.off('node:resize:mouseup', this.onTransformed, this);\n    this.view.off('node:rotate:mouseup', this.onTransformed, this);\n    this.view.off('cell:knob:mousedown', this.onKnobMouseDown, this);\n    this.view.off('cell:knob:mouseup', this.onKnobMouseUp, this);\n    super.stopListening();\n  }\n\n  render() {\n    this.container = document.createElement('div');\n    Dom.addClass(this.container, this.prefixClassName('widget-knob'));\n\n    if (this.options.className) {\n      Dom.addClass(this.container, this.options.className);\n    }\n\n    this.view.addClass(Private.KNOB);\n    this.graph.container.appendChild(this.container);\n    this.update();\n    return this;\n  }\n\n  remove() {\n    this.view.removeClass(Private.KNOB);\n    return super.remove();\n  }\n\n  update() {\n    if (this.metadata) {\n      const {\n        update,\n        position\n      } = this.metadata;\n      const args = {\n        knob: this,\n        cell: this.cell,\n        node: this.node\n      };\n\n      if (position) {\n        const pos = position.call(this.graph, Object.assign({}, args));\n\n        if (pos) {\n          const ctm = this.graph.matrix();\n          const bbox = this.node.getBBox();\n          const angle = Angle.normalize(this.node.getAngle());\n          const local = Point.create(pos);\n\n          if (angle !== 0) {\n            local.rotate(-angle, {\n              x: bbox.width / 2,\n              y: bbox.height / 2\n            });\n          }\n\n          local.translate(bbox).scale(ctm.a, ctm.d).translate(ctm.e, ctm.f);\n          this.container.style.left = `${local.x}px`;\n          this.container.style.top = `${local.y}px`;\n        }\n      }\n\n      if (update) {\n        update.call(this.graph, Object.assign({}, args));\n      }\n    }\n  }\n\n  hide() {\n    this.container.style.display = 'none';\n  }\n\n  show() {\n    this.container.style.display = '';\n  }\n\n  onTransform() {\n    this.hide();\n  }\n\n  onTransformed() {\n    this.show();\n  }\n\n  onKnobMouseDown({\n    knob\n  }) {\n    if (this.cid !== knob.cid) {\n      this.hide();\n    }\n  }\n\n  onKnobMouseUp() {\n    this.show();\n  }\n\n  notify(name, evt) {\n    if (this.view) {\n      const e = this.view.normalizeEvent(evt);\n      const localPoint = this.graph.snapToGrid(e.clientX, e.clientY);\n      this.view.notify(`cell:${name}`, {\n        e,\n        view: this.view,\n        node: this.node,\n        cell: this.cell,\n        x: localPoint.x,\n        y: localPoint.y,\n        knob: this\n      });\n\n      if (this.cell.isNode()) {\n        this.view.notify(`node:${name}`, {\n          e,\n          view: this.view,\n          node: this.node,\n          cell: this.cell,\n          x: localPoint.x,\n          y: localPoint.y,\n          knob: this\n        });\n      } else if (this.cell.isEdge()) {\n        this.view.notify(`edge:${name}`, {\n          e,\n          view: this.view,\n          edge: this.cell,\n          cell: this.cell,\n          x: localPoint.x,\n          y: localPoint.y,\n          knob: this\n        });\n      }\n    }\n  }\n\n  onMouseDown(e) {\n    e.stopPropagation();\n    this.setEventData(e, {\n      knobbing: false,\n      originX: e.clientX,\n      originY: e.clientY,\n      clientX: e.clientX,\n      clientY: e.clientY\n    });\n    this.graph.view.undelegateEvents();\n    this.delegateDocumentEvents(Private.documentEvents, e.data);\n\n    if (this.metadata && this.metadata.onMouseDown) {\n      this.metadata.onMouseDown.call(this.graph, {\n        e,\n        data: this.getEventData(e),\n        knob: this,\n        cell: this.cell,\n        node: this.node\n      });\n    }\n\n    this.notify('knob:mousedown', e);\n  }\n\n  onMouseMove(e) {\n    const data = this.getEventData(e);\n    const view = this.graph.findViewByCell(this.node);\n\n    if (!data.knobbing) {\n      data.knobbing = true;\n\n      if (view) {\n        view.addClass(Private.KNOBBING);\n        this.notify('knob', e);\n      }\n\n      this.model.startBatch('knob', {\n        cid: this.cid\n      });\n    }\n\n    data.clientX = e.clientX;\n    data.clientY = e.clientY;\n\n    if (this.metadata && this.metadata.onMouseMove) {\n      const ctm = this.graph.matrix();\n      const dx = (e.clientX - data.originX) / ctm.a;\n      const dy = (e.clientY - data.originY) / ctm.d;\n      const angle = this.node.getAngle();\n      const delta = new Point(dx, dy).rotate(angle);\n      this.metadata.onMouseMove.call(this.graph, {\n        e,\n        data,\n        deltaX: delta.x,\n        deltaY: delta.y,\n        knob: this,\n        cell: this.cell,\n        node: this.node\n      });\n    }\n\n    this.notify('knobbing', e);\n    this.notify('knob:mousemove', e);\n  }\n\n  onMouseUp(e) {\n    this.undelegateDocumentEvents();\n    this.graph.view.delegateEvents();\n    const data = this.getEventData(e);\n    const view = this.graph.findViewByCell(this.node);\n\n    if (data.knobbing) {\n      if (view) {\n        view.removeClass(Private.KNOBBING);\n      }\n\n      if (this.metadata && this.metadata.onMouseUp) {\n        this.metadata.onMouseUp.call(this.graph, {\n          e,\n          data,\n          knob: this,\n          cell: this.cell,\n          node: this.node\n        });\n      }\n\n      this.model.stopBatch('knob', {\n        cid: this.cid\n      });\n      this.notify('knobbed', e);\n    }\n\n    this.notify('knob:mouseup', e);\n  }\n\n}\nvar Private;\n\n(function (Private) {\n  Private.KNOB = 'has-widget-knob';\n  Private.KNOBBING = 'node-knobbing';\n  Private.documentEvents = {\n    mousemove: 'onMouseMove',\n    touchmove: 'onMouseMove',\n    mouseup: 'onMouseUp',\n    touchend: 'onMouseUp'\n  };\n})(Private || (Private = {}));","map":{"version":3,"mappings":"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","names":["Widget","Dom","Angle","Point","Knob","node","cell","metadata","meta","prop","Array","isArray","options","index","init","Object","render","startListening","delegateEvents","mousedown","touchstart","model","on","update","graph","remove","view","onTransform","onTransformed","onKnobMouseDown","onKnobMouseUp","stopListening","undelegateEvents","off","container","document","createElement","addClass","prefixClassName","className","Private","KNOB","appendChild","removeClass","position","args","knob","pos","call","ctm","matrix","bbox","getBBox","angle","normalize","getAngle","local","create","rotate","x","width","y","height","translate","scale","a","d","e","f","style","left","top","hide","display","show","cid","notify","name","evt","normalizeEvent","localPoint","snapToGrid","clientX","clientY","isNode","isEdge","edge","onMouseDown","stopPropagation","setEventData","knobbing","originX","originY","delegateDocumentEvents","documentEvents","data","getEventData","onMouseMove","findViewByCell","KNOBBING","startBatch","dx","dy","delta","deltaX","deltaY","onMouseUp","undelegateDocumentEvents","stopBatch","mousemove","touchmove","mouseup","touchend"],"sourceRoot":"","sources":["../../../src/addon/knob/index.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}