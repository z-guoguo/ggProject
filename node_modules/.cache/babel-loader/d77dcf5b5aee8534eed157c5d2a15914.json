{"ast":null,"code":"/**\n * @fileoverview 圆\n * @author dxq613@gmail.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport ShapeBase from './base';\nimport { distance } from '../util/util';\n\nvar Circle =\n/** @class */\nfunction (_super) {\n  __extends(Circle, _super);\n\n  function Circle() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Circle.prototype.getDefaultAttrs = function () {\n    var attrs = _super.prototype.getDefaultAttrs.call(this);\n\n    return __assign(__assign({}, attrs), {\n      x: 0,\n      y: 0,\n      r: 0\n    });\n  };\n\n  Circle.prototype.isInStrokeOrPath = function (x, y, isStroke, isFill, lineWidth) {\n    var attrs = this.attr();\n    var cx = attrs.x;\n    var cy = attrs.y;\n    var r = attrs.r;\n    var halfLineWidth = lineWidth / 2;\n    var absDistance = distance(cx, cy, x, y); // 直接用距离，如果同时存在边和填充时，可以减少两次计算\n\n    if (isFill && isStroke) {\n      return absDistance <= r + halfLineWidth;\n    }\n\n    if (isFill) {\n      return absDistance <= r;\n    }\n\n    if (isStroke) {\n      return absDistance >= r - halfLineWidth && absDistance <= r + halfLineWidth;\n    }\n\n    return false;\n  };\n\n  Circle.prototype.createPath = function (context) {\n    var attrs = this.attr();\n    var cx = attrs.x;\n    var cy = attrs.y;\n    var r = attrs.r;\n    context.beginPath();\n    context.arc(cx, cy, r, 0, Math.PI * 2, false);\n    context.closePath();\n  };\n\n  return Circle;\n}(ShapeBase);\n\nexport default Circle;","map":{"version":3,"mappings":"AAAA;;;;;AAKA,OAAOA,SAAP,MAAsB,QAAtB;AACA,SAASC,QAAT,QAAyB,cAAzB;;AAEA;AAAA;AAAA;EAAqBC;;EAArB;;EAwCC;;EAvCCC;IACE,IAAMC,KAAK,GAAGC,iBAAMC,eAAN,CAAqBC,IAArB,CAAqB,IAArB,CAAd;;IACA,6BACKH,KADL,GACU;MACRI,CAAC,EAAE,CADK;MAERC,CAAC,EAAE,CAFK;MAGRC,CAAC,EAAE;IAHK,CADV;EAMD,CARD;;EAUAP,8CAAiBK,CAAjB,EAAoBC,CAApB,EAAuBE,QAAvB,EAAiCC,MAAjC,EAAyCC,SAAzC,EAAkD;IAChD,IAAMT,KAAK,GAAG,KAAKU,IAAL,EAAd;IACA,IAAMC,EAAE,GAAGX,KAAK,CAACI,CAAjB;IACA,IAAMQ,EAAE,GAAGZ,KAAK,CAACK,CAAjB;IACA,IAAMC,CAAC,GAAGN,KAAK,CAACM,CAAhB;IACA,IAAMO,aAAa,GAAGJ,SAAS,GAAG,CAAlC;IACA,IAAMK,WAAW,GAAGjB,QAAQ,CAACc,EAAD,EAAKC,EAAL,EAASR,CAAT,EAAYC,CAAZ,CAA5B,CANgD,CAOhD;;IACA,IAAIG,MAAM,IAAID,QAAd,EAAwB;MACtB,OAAOO,WAAW,IAAIR,CAAC,GAAGO,aAA1B;IACD;;IACD,IAAIL,MAAJ,EAAY;MACV,OAAOM,WAAW,IAAIR,CAAtB;IACD;;IACD,IAAIC,QAAJ,EAAc;MACZ,OAAOO,WAAW,IAAIR,CAAC,GAAGO,aAAnB,IAAoCC,WAAW,IAAIR,CAAC,GAAGO,aAA9D;IACD;;IACD,OAAO,KAAP;EACD,CAlBD;;EAoBAd,wCAAWgB,OAAX,EAAkB;IAChB,IAAMf,KAAK,GAAG,KAAKU,IAAL,EAAd;IACA,IAAMC,EAAE,GAAGX,KAAK,CAACI,CAAjB;IACA,IAAMQ,EAAE,GAAGZ,KAAK,CAACK,CAAjB;IACA,IAAMC,CAAC,GAAGN,KAAK,CAACM,CAAhB;IACAS,OAAO,CAACC,SAAR;IACAD,OAAO,CAACE,GAAR,CAAYN,EAAZ,EAAgBC,EAAhB,EAAoBN,CAApB,EAAuB,CAAvB,EAA0BY,IAAI,CAACC,EAAL,GAAU,CAApC,EAAuC,KAAvC;IACAJ,OAAO,CAACK,SAAR;EACD,CARD;;EASF;AAAC,CAxCD,CAAqBxB,SAArB;;AA0CA,eAAeG,MAAf","names":["ShapeBase","distance","__extends","Circle","attrs","_super","getDefaultAttrs","call","x","y","r","isStroke","isFill","lineWidth","attr","cx","cy","halfLineWidth","absDistance","context","beginPath","arc","Math","PI","closePath"],"sourceRoot":"","sources":["../../src/shape/circle.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}