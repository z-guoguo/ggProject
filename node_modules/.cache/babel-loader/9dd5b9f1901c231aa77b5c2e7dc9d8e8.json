{"ast":null,"code":"import { fixedBase } from '@antv/util';\n\nfunction snapMultiple(v, base, snapType) {\n  var div;\n\n  if (snapType === 'ceil') {\n    div = Math.ceil(v / base);\n  } else if (snapType === 'floor') {\n    div = Math.floor(v / base);\n  } else {\n    div = Math.round(v / base);\n  }\n\n  return div * base;\n}\n\nexport default function intervalTicks(min, max, interval) {\n  // 变成 interval 的倍数\n  var minTick = snapMultiple(min, interval, 'floor');\n  var maxTick = snapMultiple(max, interval, 'ceil'); // 统一小数位数\n\n  minTick = fixedBase(minTick, interval);\n  maxTick = fixedBase(maxTick, interval);\n  var ticks = []; // https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Errors/Invalid_array_length\n\n  var availableInterval = Math.max((maxTick - minTick) / (Math.pow(2, 12) - 1), interval);\n\n  for (var i = minTick; i <= maxTick; i = i + availableInterval) {\n    var tickValue = fixedBase(i, availableInterval); // 防止浮点数加法出现问题\n\n    ticks.push(tickValue);\n  }\n\n  return {\n    min: minTick,\n    max: maxTick,\n    ticks: ticks\n  };\n}","map":{"version":3,"mappings":"AACA,SAASA,SAAT,QAA0B,YAA1B;;AAEA,SAASC,YAAT,CAAsBC,CAAtB,EAAyBC,IAAzB,EAA+BC,QAA/B,EAAuC;EACrC,IAAIC,GAAJ;;EACA,IAAID,QAAQ,KAAK,MAAjB,EAAyB;IACvBC,GAAG,GAAGC,IAAI,CAACC,IAAL,CAAUL,CAAC,GAAGC,IAAd,CAAN;EACD,CAFD,MAEO,IAAIC,QAAQ,KAAK,OAAjB,EAA0B;IAC/BC,GAAG,GAAGC,IAAI,CAACE,KAAL,CAAWN,CAAC,GAAGC,IAAf,CAAN;EACD,CAFM,MAEA;IACLE,GAAG,GAAGC,IAAI,CAACG,KAAL,CAAWP,CAAC,GAAGC,IAAf,CAAN;EACD;;EACD,OAAOE,GAAG,GAAGF,IAAb;AACD;;AAED,eAAc,SAAUO,aAAV,CAAwBC,GAAxB,EAA6BC,GAA7B,EAAkCC,QAAlC,EAA0C;EACtD;EACA,IAAIC,OAAO,GAAGb,YAAY,CAACU,GAAD,EAAME,QAAN,EAAgB,OAAhB,CAA1B;EACA,IAAIE,OAAO,GAAGd,YAAY,CAACW,GAAD,EAAMC,QAAN,EAAgB,MAAhB,CAA1B,CAHsD,CAItD;;EACAC,OAAO,GAAGd,SAAS,CAACc,OAAD,EAAUD,QAAV,CAAnB;EACAE,OAAO,GAAGf,SAAS,CAACe,OAAD,EAAUF,QAAV,CAAnB;EACA,IAAMG,KAAK,GAAG,EAAd,CAPsD,CAQtD;;EACA,IAAMC,iBAAiB,GAAGX,IAAI,CAACM,GAAL,CAAS,CAACG,OAAO,GAAGD,OAAX,KAAuBR,YAAK,EAAL,IAAU,CAAjC,CAAT,EAA8CO,QAA9C,CAA1B;;EACA,KAAK,IAAIK,CAAC,GAAGJ,OAAb,EAAsBI,CAAC,IAAIH,OAA3B,EAAoCG,CAAC,GAAGA,CAAC,GAAGD,iBAA5C,EAA+D;IAC7D,IAAME,SAAS,GAAGnB,SAAS,CAACkB,CAAD,EAAID,iBAAJ,CAA3B,CAD6D,CACV;;IACnDD,KAAK,CAACI,IAAN,CAAWD,SAAX;EACD;;EACD,OAAO;IACLR,GAAG,EAAEG,OADA;IAELF,GAAG,EAAEG,OAFA;IAGLC,KAAK;EAHA,CAAP;AAKD","names":["fixedBase","snapMultiple","v","base","snapType","div","Math","ceil","floor","round","intervalTicks","min","max","interval","minTick","maxTick","ticks","availableInterval","i","tickValue","push"],"sourceRoot":"","sources":["../../src/util/interval.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}