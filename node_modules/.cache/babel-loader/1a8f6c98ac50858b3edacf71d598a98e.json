{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { isArray, isNil, clone } from '@antv/util';\nimport Global from '../global';\nimport Shape from './shape';\nimport { shapeBase } from './shapeBase';\nvar singleCombo = {\n  itemType: 'combo',\n  // 单个图形的类型\n  shapeType: 'single-combo',\n\n  /**\n   * Combo 标题文本相对图形的位置，默认为 top\n   * 位置包括： top, bottom, left, right, center\n   * @type {String}\n   */\n  labelPosition: 'top',\n\n  /**\n   * 标题文本相对偏移，当 labelPosition 不为 center 时有效\n   * @type {Number}\n   */\n  refX: Global.comboLabel.refX,\n  refY: Global.comboLabel.refY,\n  options: {\n    style: {\n      stroke: Global.defaultCombo.style.stroke,\n      fill: Global.defaultCombo.style.fill,\n      lineWidth: Global.defaultCombo.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.comboLabel.style.fill,\n        fontSize: Global.comboLabel.style.fontSize,\n        fontFamily: Global.windowFontFamily\n      }\n    },\n    stateStyles: __assign({}, Global.comboStateStyles),\n    collapsedSubstituteIcon: {\n      show: false,\n      img: 'https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ'\n    }\n  },\n\n  /**\n   * 获取 Combo 宽高\n   * @internal 返回 Combo 的大小，以 [width, height] 的方式维护\n   * @param  {Object} cfg Combo 的配置项\n   * @return {Array} 宽高\n   */\n  getSize: function getSize(cfg) {\n    var size = clone(cfg.size || this.options.size || Global.defaultCombo.size); // size 是数组，若长度为 1，则补长度为 2\n\n    if (isArray(size) && size.length === 1) {\n      size = [size[0], size[0]];\n    } // size 为数字，则转换为数组\n\n\n    if (!isArray(size)) {\n      size = [size, size];\n    }\n\n    return size;\n  },\n  // 私有方法，不希望扩展的 Combo 复写这个方法\n  getLabelStyleByPosition: function getLabelStyleByPosition(cfg, labelCfg) {\n    var labelPosition = labelCfg.position || this.labelPosition;\n    var cfgStyle = cfg.style;\n    var padding = cfg.padding || this.options.padding;\n    if (isArray(padding)) padding = padding[0];\n    var refX = labelCfg.refX,\n        refY = labelCfg.refY; // 考虑 refX 和 refY = 0 的场景，不用用 labelCfg.refX || Global.nodeLabel.refX\n\n    if (isNil(refX)) {\n      refX = this.refX; // 不居中时的偏移量\n    }\n\n    if (isNil(refY)) {\n      refY = this.refY; // 不居中时的偏移量\n    }\n\n    var size = this.getSize(cfg);\n    var r = Math.max(cfgStyle.r, size[0] / 2) || size[0] / 2;\n    var dis = r + padding;\n    var style;\n\n    switch (labelPosition) {\n      case 'top':\n        style = {\n          x: 0,\n          y: -dis - refY,\n          textBaseline: 'bottom',\n          textAlign: 'center'\n        };\n        break;\n\n      case 'bottom':\n        style = {\n          x: 0,\n          y: dis + refY,\n          textBaseline: 'bottom',\n          textAlign: 'center'\n        };\n        break;\n\n      case 'left':\n        style = {\n          x: -dis + refX,\n          y: 0,\n          textAlign: 'left'\n        };\n        break;\n\n      case 'center':\n        style = {\n          x: 0,\n          y: 0,\n          text: cfg.label,\n          textAlign: 'center'\n        };\n        break;\n\n      default:\n        style = {\n          x: dis + refX,\n          y: 0,\n          textAlign: 'right'\n        };\n        break;\n    }\n\n    style.text = cfg.label;\n    return style;\n  },\n  drawShape: function drawShape(cfg, group) {\n    var shapeType = this.shapeType; // || this.type，都已经加了 shapeType\n\n    var style = this.getShapeStyle(cfg);\n    var shape = group.addShape(shapeType, {\n      attrs: style,\n      draggable: true,\n      name: 'combo-shape'\n    });\n    return shape;\n  },\n  updateCollapsedIcon: function updateCollapsedIcon(cfg, item, keyShapeStyle) {\n    var collapsed = cfg.collapsed,\n        _a = cfg.collapsedSubstituteIcon,\n        collapsedSubstituteIcon = _a === void 0 ? {} : _a;\n    var subsitututeIconConfig = Object.assign({}, this.options.collapsedSubstituteIcon, collapsedSubstituteIcon);\n    var show = subsitututeIconConfig.show,\n        img = subsitututeIconConfig.img,\n        width = subsitututeIconConfig.width,\n        height = subsitututeIconConfig.height;\n    var group = item.getContainer();\n    var collapsedIconShape = group.find(function (ele) {\n      return ele.get('name') === 'combo-collapsed-substitute-icon';\n    });\n    var iconShapeExist = collapsedIconShape && !collapsedIconShape.destroyed;\n\n    if (collapsed && show) {\n      if (iconShapeExist) {\n        collapsedIconShape.show();\n      } else {\n        var sizeAttr = {\n          width: width || keyShapeStyle.r * 2 || keyShapeStyle.width,\n          height: height || keyShapeStyle.r * 2 || keyShapeStyle.height\n        };\n        group.addShape('image', {\n          attrs: __assign({\n            img: img,\n            x: -sizeAttr.width / 2,\n            y: -sizeAttr.height / 2\n          }, sizeAttr),\n          name: 'combo-collapsed-substitute-icon',\n          draggable: true\n        });\n      }\n    } else if (iconShapeExist) {\n      collapsedIconShape.hide();\n    }\n  },\n  updateShape: function updateShape(cfg, item, keyShapeStyle) {\n    var _this = this;\n\n    var keyShape = item.get('keyShape');\n    var itemAnimate = item.get('animate');\n    var animate = itemAnimate && (cfg.animate === undefined ? this.options.animate : cfg.animate);\n\n    if (animate && keyShape.animate) {\n      // 更新到展开状态，先将 collapsedIcon 隐藏。否则在动画完成后再出现 collapsedIcon\n      if (!cfg.collapsed) {\n        this.updateCollapsedIcon(cfg, item, keyShapeStyle);\n      }\n\n      keyShape.animate(keyShapeStyle, {\n        duration: 200,\n        easing: 'easeLinear',\n        callback: function callback() {\n          if (cfg.collapsed) {\n            _this.updateCollapsedIcon(cfg, item, keyShapeStyle);\n          }\n        }\n      });\n    } else {\n      keyShape.attr(__assign({}, keyShapeStyle));\n      this.updateCollapsedIcon(cfg, item, keyShapeStyle);\n    }\n\n    this.updateLabel(cfg, item); // special for some types of nodes\n  }\n};\n\nvar singleComboDef = __assign(__assign({}, shapeBase), singleCombo);\n\nShape.registerCombo('single-combo', singleComboDef);","map":{"version":3,"names":["__assign","isArray","isNil","clone","Global","Shape","shapeBase","singleCombo","itemType","shapeType","labelPosition","refX","comboLabel","refY","options","style","stroke","defaultCombo","fill","lineWidth","labelCfg","fontSize","fontFamily","windowFontFamily","stateStyles","comboStateStyles","collapsedSubstituteIcon","show","img","getSize","cfg","size","length","getLabelStyleByPosition","position","cfgStyle","padding","r","Math","max","dis","x","y","textBaseline","textAlign","text","label","drawShape","group","getShapeStyle","shape","addShape","attrs","draggable","name","updateCollapsedIcon","item","keyShapeStyle","collapsed","_a","subsitututeIconConfig","Object","assign","width","height","getContainer","collapsedIconShape","find","ele","get","iconShapeExist","destroyed","sizeAttr","hide","updateShape","_this","keyShape","itemAnimate","animate","undefined","duration","easing","callback","attr","updateLabel","singleComboDef","registerCombo"],"sources":["/Users/wawalike/Desktop/ggProject/node_modules/@antv/g6-core/es/element/combo.js"],"sourcesContent":["import { __assign } from \"tslib\";\nimport { isArray, isNil, clone } from '@antv/util';\nimport Global from '../global';\nimport Shape from './shape';\nimport { shapeBase } from './shapeBase';\nvar singleCombo = {\n  itemType: 'combo',\n  // 单个图形的类型\n  shapeType: 'single-combo',\n\n  /**\n   * Combo 标题文本相对图形的位置，默认为 top\n   * 位置包括： top, bottom, left, right, center\n   * @type {String}\n   */\n  labelPosition: 'top',\n\n  /**\n   * 标题文本相对偏移，当 labelPosition 不为 center 时有效\n   * @type {Number}\n   */\n  refX: Global.comboLabel.refX,\n  refY: Global.comboLabel.refY,\n  options: {\n    style: {\n      stroke: Global.defaultCombo.style.stroke,\n      fill: Global.defaultCombo.style.fill,\n      lineWidth: Global.defaultCombo.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.comboLabel.style.fill,\n        fontSize: Global.comboLabel.style.fontSize,\n        fontFamily: Global.windowFontFamily\n      }\n    },\n    stateStyles: __assign({}, Global.comboStateStyles),\n    collapsedSubstituteIcon: {\n      show: false,\n      img: 'https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ'\n    }\n  },\n\n  /**\n   * 获取 Combo 宽高\n   * @internal 返回 Combo 的大小，以 [width, height] 的方式维护\n   * @param  {Object} cfg Combo 的配置项\n   * @return {Array} 宽高\n   */\n  getSize: function getSize(cfg) {\n    var size = clone(cfg.size || this.options.size || Global.defaultCombo.size); // size 是数组，若长度为 1，则补长度为 2\n\n    if (isArray(size) && size.length === 1) {\n      size = [size[0], size[0]];\n    } // size 为数字，则转换为数组\n\n\n    if (!isArray(size)) {\n      size = [size, size];\n    }\n\n    return size;\n  },\n  // 私有方法，不希望扩展的 Combo 复写这个方法\n  getLabelStyleByPosition: function getLabelStyleByPosition(cfg, labelCfg) {\n    var labelPosition = labelCfg.position || this.labelPosition;\n    var cfgStyle = cfg.style;\n    var padding = cfg.padding || this.options.padding;\n    if (isArray(padding)) padding = padding[0];\n    var refX = labelCfg.refX,\n        refY = labelCfg.refY; // 考虑 refX 和 refY = 0 的场景，不用用 labelCfg.refX || Global.nodeLabel.refX\n\n    if (isNil(refX)) {\n      refX = this.refX; // 不居中时的偏移量\n    }\n\n    if (isNil(refY)) {\n      refY = this.refY; // 不居中时的偏移量\n    }\n\n    var size = this.getSize(cfg);\n    var r = Math.max(cfgStyle.r, size[0] / 2) || size[0] / 2;\n    var dis = r + padding;\n    var style;\n\n    switch (labelPosition) {\n      case 'top':\n        style = {\n          x: 0,\n          y: -dis - refY,\n          textBaseline: 'bottom',\n          textAlign: 'center'\n        };\n        break;\n\n      case 'bottom':\n        style = {\n          x: 0,\n          y: dis + refY,\n          textBaseline: 'bottom',\n          textAlign: 'center'\n        };\n        break;\n\n      case 'left':\n        style = {\n          x: -dis + refX,\n          y: 0,\n          textAlign: 'left'\n        };\n        break;\n\n      case 'center':\n        style = {\n          x: 0,\n          y: 0,\n          text: cfg.label,\n          textAlign: 'center'\n        };\n        break;\n\n      default:\n        style = {\n          x: dis + refX,\n          y: 0,\n          textAlign: 'right'\n        };\n        break;\n    }\n\n    style.text = cfg.label;\n    return style;\n  },\n  drawShape: function drawShape(cfg, group) {\n    var shapeType = this.shapeType; // || this.type，都已经加了 shapeType\n\n    var style = this.getShapeStyle(cfg);\n    var shape = group.addShape(shapeType, {\n      attrs: style,\n      draggable: true,\n      name: 'combo-shape'\n    });\n    return shape;\n  },\n  updateCollapsedIcon: function updateCollapsedIcon(cfg, item, keyShapeStyle) {\n    var collapsed = cfg.collapsed,\n        _a = cfg.collapsedSubstituteIcon,\n        collapsedSubstituteIcon = _a === void 0 ? {} : _a;\n    var subsitututeIconConfig = Object.assign({}, this.options.collapsedSubstituteIcon, collapsedSubstituteIcon);\n    var show = subsitututeIconConfig.show,\n        img = subsitututeIconConfig.img,\n        width = subsitututeIconConfig.width,\n        height = subsitututeIconConfig.height;\n    var group = item.getContainer();\n    var collapsedIconShape = group.find(function (ele) {\n      return ele.get('name') === 'combo-collapsed-substitute-icon';\n    });\n    var iconShapeExist = collapsedIconShape && !collapsedIconShape.destroyed;\n\n    if (collapsed && show) {\n      if (iconShapeExist) {\n        collapsedIconShape.show();\n      } else {\n        var sizeAttr = {\n          width: width || keyShapeStyle.r * 2 || keyShapeStyle.width,\n          height: height || keyShapeStyle.r * 2 || keyShapeStyle.height\n        };\n        group.addShape('image', {\n          attrs: __assign({\n            img: img,\n            x: -sizeAttr.width / 2,\n            y: -sizeAttr.height / 2\n          }, sizeAttr),\n          name: 'combo-collapsed-substitute-icon',\n          draggable: true\n        });\n      }\n    } else if (iconShapeExist) {\n      collapsedIconShape.hide();\n    }\n  },\n  updateShape: function updateShape(cfg, item, keyShapeStyle) {\n    var _this = this;\n\n    var keyShape = item.get('keyShape');\n    var itemAnimate = item.get('animate');\n    var animate = itemAnimate && (cfg.animate === undefined ? this.options.animate : cfg.animate);\n\n    if (animate && keyShape.animate) {\n      // 更新到展开状态，先将 collapsedIcon 隐藏。否则在动画完成后再出现 collapsedIcon\n      if (!cfg.collapsed) {\n        this.updateCollapsedIcon(cfg, item, keyShapeStyle);\n      }\n\n      keyShape.animate(keyShapeStyle, {\n        duration: 200,\n        easing: 'easeLinear',\n        callback: function callback() {\n          if (cfg.collapsed) {\n            _this.updateCollapsedIcon(cfg, item, keyShapeStyle);\n          }\n        }\n      });\n    } else {\n      keyShape.attr(__assign({}, keyShapeStyle));\n      this.updateCollapsedIcon(cfg, item, keyShapeStyle);\n    }\n\n    this.updateLabel(cfg, item); // special for some types of nodes\n  }\n};\n\nvar singleComboDef = __assign(__assign({}, shapeBase), singleCombo);\n\nShape.registerCombo('single-combo', singleComboDef);"],"mappings":"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"},"metadata":{},"sourceType":"module"}