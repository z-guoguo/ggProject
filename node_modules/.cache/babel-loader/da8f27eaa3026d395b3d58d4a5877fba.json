{"ast":null,"code":"/**\n * @fileoverview dom\n * @author dengfuping_develop@163.com\n */\nimport { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\n\nvar Dom =\n/** @class */\nfunction (_super) {\n  __extends(Dom, _super);\n\n  function Dom() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'dom';\n    _this.canFill = false;\n    _this.canStroke = false;\n    return _this;\n  }\n\n  Dom.prototype.createPath = function (context, targetAttrs) {\n    var attrs = this.attr();\n    var el = this.get('el');\n    each(targetAttrs || attrs, function (value, attr) {\n      if (SVG_ATTR_MAP[attr]) {\n        el.setAttribute(SVG_ATTR_MAP[attr], value);\n      }\n    });\n\n    if (typeof attrs['html'] === 'function') {\n      var element = attrs['html'].call(this, attrs);\n\n      if (element instanceof Element || element instanceof HTMLDocument) {\n        var children = el.childNodes;\n\n        for (var i = children.length - 1; i >= 0; i--) {\n          el.removeChild(children[i]);\n        }\n\n        el.appendChild(element); // append to el if it's an element\n      } else {\n        el.innerHTML = element; // set innerHTML\n      }\n    } else {\n      el.innerHTML = attrs['html']; // set innerHTML\n    }\n  };\n\n  return Dom;\n}(ShapeBase);\n\nexport default Dom;","map":{"version":3,"mappings":"AAAA;;;;;AAKA,SAASA,IAAT,QAAqB,YAArB;AACA,SAASC,YAAT,QAA6B,aAA7B;AACA,OAAOC,SAAP,MAAsB,QAAtB;;AAEA;AAAA;AAAA;EAAkBC;;EAAlB;IAAA;;IACEC,aAAe,KAAf;IACAA,gBAAmB,KAAnB;IACAA,kBAAqB,KAArB;;EAyBD;;EAvBCC,qCAAWC,OAAX,EAAoBC,WAApB,EAA+B;IAC7B,IAAMC,KAAK,GAAG,KAAKC,IAAL,EAAd;IACA,IAAMC,EAAE,GAAG,KAAKC,GAAL,CAAS,IAAT,CAAX;IACAX,IAAI,CAACO,WAAW,IAAIC,KAAhB,EAAuB,UAACI,KAAD,EAAQH,IAAR,EAAY;MACrC,IAAIR,YAAY,CAACQ,IAAD,CAAhB,EAAwB;QACtBC,EAAE,CAACG,YAAH,CAAgBZ,YAAY,CAACQ,IAAD,CAA5B,EAAoCG,KAApC;MACD;IACF,CAJG,CAAJ;;IAKA,IAAI,OAAOJ,KAAK,CAAC,MAAD,CAAZ,KAAyB,UAA7B,EAAyC;MACvC,IAAMM,OAAO,GAAGN,KAAK,CAAC,MAAD,CAAL,CAAcO,IAAd,CAAmB,IAAnB,EAAyBP,KAAzB,CAAhB;;MACA,IAAIM,OAAO,YAAYE,OAAnB,IAA8BF,OAAO,YAAYG,YAArD,EAAmE;QACjE,IAAMC,QAAQ,GAAGR,EAAE,CAACS,UAApB;;QACA,KAAK,IAAIC,CAAC,GAAGF,QAAQ,CAACG,MAAT,GAAkB,CAA/B,EAAkCD,CAAC,IAAI,CAAvC,EAA0CA,CAAC,EAA3C,EAA+C;UAC7CV,EAAE,CAACY,WAAH,CAAeJ,QAAQ,CAACE,CAAD,CAAvB;QACD;;QACDV,EAAE,CAACa,WAAH,CAAeT,OAAf,EALiE,CAKxC;MAC1B,CAND,MAMO;QACLJ,EAAE,CAACc,SAAH,GAAeV,OAAf,CADK,CACmB;MACzB;IACF,CAXD,MAWO;MACLJ,EAAE,CAACc,SAAH,GAAehB,KAAK,CAAC,MAAD,CAApB,CADK,CACyB;IAC/B;EACF,CAtBD;;EAuBF;AAAC,CA5BD,CAAkBN,SAAlB;;AA8BA,eAAeG,GAAf","names":["each","SVG_ATTR_MAP","ShapeBase","__extends","_this","Dom","context","targetAttrs","attrs","attr","el","get","value","setAttribute","element","call","Element","HTMLDocument","children","childNodes","i","length","removeChild","appendChild","innerHTML"],"sourceRoot":"","sources":["../../src/shape/dom.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}