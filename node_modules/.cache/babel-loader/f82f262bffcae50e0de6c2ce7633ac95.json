{"ast":null,"code":"import { ArrayExt } from '../../../util';\nconst OPEN = 1;\nconst CLOSE = 2;\nexport class SortedSet {\n  constructor() {\n    this.items = [];\n    this.hash = {};\n    this.values = {};\n  }\n\n  add(item, value) {\n    if (this.hash[item]) {\n      // item removal\n      this.items.splice(this.items.indexOf(item), 1);\n    } else {\n      this.hash[item] = OPEN;\n    }\n\n    this.values[item] = value;\n    const index = ArrayExt.sortedIndexBy(this.items, item, key => this.values[key]);\n    this.items.splice(index, 0, item);\n  }\n\n  pop() {\n    const item = this.items.shift();\n\n    if (item) {\n      this.hash[item] = CLOSE;\n    }\n\n    return item;\n  }\n\n  isOpen(item) {\n    return this.hash[item] === OPEN;\n  }\n\n  isClose(item) {\n    return this.hash[item] === CLOSE;\n  }\n\n  isEmpty() {\n    return this.items.length === 0;\n  }\n\n}","map":{"version":3,"mappings":"AAAA,SAASA,QAAT,QAAyB,eAAzB;AAEA,MAAMC,IAAI,GAAG,CAAb;AACA,MAAMC,KAAK,GAAG,CAAd;AAEA,OAAM,MAAOC,SAAP,CAAgB;EAKpBC;IACE,KAAKC,KAAL,GAAa,EAAb;IACA,KAAKC,IAAL,GAAY,EAAZ;IACA,KAAKC,MAAL,GAAc,EAAd;EACD;;EAEDC,GAAG,CAACC,IAAD,EAAeC,KAAf,EAA4B;IAC7B,IAAI,KAAKJ,IAAL,CAAUG,IAAV,CAAJ,EAAqB;MACnB;MACA,KAAKJ,KAAL,CAAWM,MAAX,CAAkB,KAAKN,KAAL,CAAWO,OAAX,CAAmBH,IAAnB,CAAlB,EAA4C,CAA5C;IACD,CAHD,MAGO;MACL,KAAKH,IAAL,CAAUG,IAAV,IAAkBR,IAAlB;IACD;;IAED,KAAKM,MAAL,CAAYE,IAAZ,IAAoBC,KAApB;IAEA,MAAMG,KAAK,GAAGb,QAAQ,CAACc,aAAT,CACZ,KAAKT,KADO,EAEZI,IAFY,EAGXM,GAAD,IAAS,KAAKR,MAAL,CAAYQ,GAAZ,CAHG,CAAd;IAMA,KAAKV,KAAL,CAAWM,MAAX,CAAkBE,KAAlB,EAAyB,CAAzB,EAA4BJ,IAA5B;EACD;;EAEDO,GAAG;IACD,MAAMP,IAAI,GAAG,KAAKJ,KAAL,CAAWY,KAAX,EAAb;;IACA,IAAIR,IAAJ,EAAU;MACR,KAAKH,IAAL,CAAUG,IAAV,IAAkBP,KAAlB;IACD;;IACD,OAAOO,IAAP;EACD;;EAEDS,MAAM,CAACT,IAAD,EAAa;IACjB,OAAO,KAAKH,IAAL,CAAUG,IAAV,MAAoBR,IAA3B;EACD;;EAEDkB,OAAO,CAACV,IAAD,EAAa;IAClB,OAAO,KAAKH,IAAL,CAAUG,IAAV,MAAoBP,KAA3B;EACD;;EAEDkB,OAAO;IACL,OAAO,KAAKf,KAAL,CAAWgB,MAAX,KAAsB,CAA7B;EACD;;AAhDmB","names":["ArrayExt","OPEN","CLOSE","SortedSet","constructor","items","hash","values","add","item","value","splice","indexOf","index","sortedIndexBy","key","pop","shift","isOpen","isClose","isEmpty","length"],"sourceRoot":"","sources":["../../../../src/registry/router/manhattan/sorted-set.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}