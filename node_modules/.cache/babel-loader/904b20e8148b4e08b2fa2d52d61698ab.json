{"ast":null,"code":"/**\n * 基于 G 的按钮组件\n */\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { deepMix } from '@antv/util';\nimport { PLAY_PAUSE_BTN } from './constant';\n\nvar Button =\n/** @class */\nfunction () {\n  function Button(cfg) {\n    this.config = deepMix({}, cfg);\n    this.init();\n  }\n\n  Button.prototype.update = function (cfg) {\n    this.config = deepMix({}, this.config, cfg);\n    this.updateElement();\n    this.renderMarker();\n  };\n\n  Button.prototype.init = function () {\n    this.initElement();\n    this.renderMarker();\n  };\n\n  Button.prototype.initElement = function () {\n    var _a = this.config,\n        group = _a.group,\n        style = _a.style;\n    var _b = style.scale,\n        scale = _b === void 0 ? 1 : _b,\n        _c = style.offsetX,\n        offsetX = _c === void 0 ? 0 : _c,\n        _d = style.offsetY,\n        offsetY = _d === void 0 ? 0 : _d;\n    var x = this.config.x + offsetX;\n    var y = this.config.y + offsetY;\n    var buttonGroup = group.addGroup({\n      name: PLAY_PAUSE_BTN\n    });\n    this.startMarkerGroup = buttonGroup.addGroup({\n      name: PLAY_PAUSE_BTN\n    });\n    this.circle = group.addShape('circle', {\n      attrs: __assign({\n        x: x,\n        y: y,\n        r: this.config.r * scale\n      }, style),\n      name: PLAY_PAUSE_BTN\n    });\n    this.startMarker = this.startMarkerGroup.addShape('path', {\n      attrs: {\n        path: this.getStartMarkerPath(x, y, scale),\n        fill: style.stroke || '#aaa'\n      },\n      name: 'start-marker'\n    });\n    this.pauseMarkerGroup = buttonGroup.addGroup({\n      name: PLAY_PAUSE_BTN\n    });\n    var width = 0.25 * this.config.r * scale;\n    var height = 0.5 * this.config.r * Math.sqrt(3) * scale;\n    this.pauseLeftMarker = this.pauseMarkerGroup.addShape('rect', {\n      attrs: {\n        x: x - 0.375 * this.config.r * scale,\n        y: y - height / 2,\n        width: width,\n        height: height,\n        fill: style.stroke || '#aaa',\n        lineWidth: 0\n      }\n    });\n    this.pauseRightMarker = this.pauseMarkerGroup.addShape('rect', {\n      attrs: {\n        x: x + 1 / 8 * this.config.r * scale,\n        y: y - height / 2,\n        width: width,\n        height: height,\n        fill: style.stroke || '#aaa',\n        lineWidth: 0\n      }\n    });\n  };\n\n  Button.prototype.updateElement = function () {\n    var _a = this.config.style,\n        _b = _a.scale,\n        scale = _b === void 0 ? 1 : _b,\n        _c = _a.offsetX,\n        offsetX = _c === void 0 ? 0 : _c,\n        _d = _a.offsetY,\n        offsetY = _d === void 0 ? 0 : _d;\n    var x = this.config.x + offsetX;\n    var y = this.config.y + offsetY;\n    this.circle.attr('x', x);\n    this.circle.attr('y', y);\n    this.circle.attr('r', this.config.r * scale);\n    this.startMarker.attr('path', this.getStartMarkerPath(x, y, scale));\n    var width = 0.25 * this.config.r * scale;\n    var height = 0.5 * this.config.r * Math.sqrt(3) * scale;\n    this.pauseLeftMarker.attr('x', x - (1 / 4 + 1 / 8) * this.config.r * scale);\n    this.pauseLeftMarker.attr('y', y - height / 2);\n    this.pauseLeftMarker.attr('width', width);\n    this.pauseLeftMarker.attr('height', height);\n    this.pauseRightMarker.attr('x', x + 1 / 8 * this.config.r * scale);\n    this.pauseRightMarker.attr('y', y - height / 2);\n    this.pauseRightMarker.attr('width', width);\n    this.pauseRightMarker.attr('height', height);\n  };\n\n  Button.prototype.renderMarker = function () {\n    if (this.config.isPlay) {\n      this.startMarkerGroup.hide();\n      this.pauseMarkerGroup.show();\n    } else {\n      this.startMarkerGroup.show();\n      this.pauseMarkerGroup.hide();\n    }\n  };\n  /** 获取播放键 marker path */\n\n\n  Button.prototype.getStartMarkerPath = function (x, y, scale) {\n    var sideLength = 0.5 * this.config.r * Math.sqrt(3) * scale;\n    return [['M', x - sideLength / Math.sqrt(3) / 2, y - sideLength / 2], ['L', x + sideLength / Math.sqrt(3), y], ['L', x - sideLength / Math.sqrt(3) / 2, y + sideLength / 2]];\n  };\n\n  return Button;\n}();\n\nexport default Button;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","deepMix","PLAY_PAUSE_BTN","Button","cfg","config","init","update","updateElement","renderMarker","initElement","_a","group","style","_b","scale","_c","offsetX","_d","offsetY","x","y","buttonGroup","addGroup","name","startMarkerGroup","circle","addShape","attrs","r","startMarker","path","getStartMarkerPath","fill","stroke","pauseMarkerGroup","width","height","Math","sqrt","pauseLeftMarker","lineWidth","pauseRightMarker","attr","isPlay","hide","show","sideLength"],"sources":["/Users/wawalike/Desktop/ggProject/node_modules/@antv/g6-plugin/es/timeBar/timeButton.js"],"sourcesContent":["/**\n * 基于 G 的按钮组件\n */\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { deepMix } from '@antv/util';\nimport { PLAY_PAUSE_BTN } from './constant';\n\nvar Button =\n/** @class */\nfunction () {\n  function Button(cfg) {\n    this.config = deepMix({}, cfg);\n    this.init();\n  }\n\n  Button.prototype.update = function (cfg) {\n    this.config = deepMix({}, this.config, cfg);\n    this.updateElement();\n    this.renderMarker();\n  };\n\n  Button.prototype.init = function () {\n    this.initElement();\n    this.renderMarker();\n  };\n\n  Button.prototype.initElement = function () {\n    var _a = this.config,\n        group = _a.group,\n        style = _a.style;\n    var _b = style.scale,\n        scale = _b === void 0 ? 1 : _b,\n        _c = style.offsetX,\n        offsetX = _c === void 0 ? 0 : _c,\n        _d = style.offsetY,\n        offsetY = _d === void 0 ? 0 : _d;\n    var x = this.config.x + offsetX;\n    var y = this.config.y + offsetY;\n    var buttonGroup = group.addGroup({\n      name: PLAY_PAUSE_BTN\n    });\n    this.startMarkerGroup = buttonGroup.addGroup({\n      name: PLAY_PAUSE_BTN\n    });\n    this.circle = group.addShape('circle', {\n      attrs: __assign({\n        x: x,\n        y: y,\n        r: this.config.r * scale\n      }, style),\n      name: PLAY_PAUSE_BTN\n    });\n    this.startMarker = this.startMarkerGroup.addShape('path', {\n      attrs: {\n        path: this.getStartMarkerPath(x, y, scale),\n        fill: style.stroke || '#aaa'\n      },\n      name: 'start-marker'\n    });\n    this.pauseMarkerGroup = buttonGroup.addGroup({\n      name: PLAY_PAUSE_BTN\n    });\n    var width = 0.25 * this.config.r * scale;\n    var height = 0.5 * this.config.r * Math.sqrt(3) * scale;\n    this.pauseLeftMarker = this.pauseMarkerGroup.addShape('rect', {\n      attrs: {\n        x: x - 0.375 * this.config.r * scale,\n        y: y - height / 2,\n        width: width,\n        height: height,\n        fill: style.stroke || '#aaa',\n        lineWidth: 0\n      }\n    });\n    this.pauseRightMarker = this.pauseMarkerGroup.addShape('rect', {\n      attrs: {\n        x: x + 1 / 8 * this.config.r * scale,\n        y: y - height / 2,\n        width: width,\n        height: height,\n        fill: style.stroke || '#aaa',\n        lineWidth: 0\n      }\n    });\n  };\n\n  Button.prototype.updateElement = function () {\n    var _a = this.config.style,\n        _b = _a.scale,\n        scale = _b === void 0 ? 1 : _b,\n        _c = _a.offsetX,\n        offsetX = _c === void 0 ? 0 : _c,\n        _d = _a.offsetY,\n        offsetY = _d === void 0 ? 0 : _d;\n    var x = this.config.x + offsetX;\n    var y = this.config.y + offsetY;\n    this.circle.attr('x', x);\n    this.circle.attr('y', y);\n    this.circle.attr('r', this.config.r * scale);\n    this.startMarker.attr('path', this.getStartMarkerPath(x, y, scale));\n    var width = 0.25 * this.config.r * scale;\n    var height = 0.5 * this.config.r * Math.sqrt(3) * scale;\n    this.pauseLeftMarker.attr('x', x - (1 / 4 + 1 / 8) * this.config.r * scale);\n    this.pauseLeftMarker.attr('y', y - height / 2);\n    this.pauseLeftMarker.attr('width', width);\n    this.pauseLeftMarker.attr('height', height);\n    this.pauseRightMarker.attr('x', x + 1 / 8 * this.config.r * scale);\n    this.pauseRightMarker.attr('y', y - height / 2);\n    this.pauseRightMarker.attr('width', width);\n    this.pauseRightMarker.attr('height', height);\n  };\n\n  Button.prototype.renderMarker = function () {\n    if (this.config.isPlay) {\n      this.startMarkerGroup.hide();\n      this.pauseMarkerGroup.show();\n    } else {\n      this.startMarkerGroup.show();\n      this.pauseMarkerGroup.hide();\n    }\n  };\n  /** 获取播放键 marker path */\n\n\n  Button.prototype.getStartMarkerPath = function (x, y, scale) {\n    var sideLength = 0.5 * this.config.r * Math.sqrt(3) * scale;\n    return [['M', x - sideLength / Math.sqrt(3) / 2, y - sideLength / 2], ['L', x + sideLength / Math.sqrt(3), y], ['L', x - sideLength / Math.sqrt(3) / 2, y + sideLength / 2]];\n  };\n\n  return Button;\n}();\n\nexport default Button;"],"mappings":"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"},"metadata":{},"sourceType":"module"}