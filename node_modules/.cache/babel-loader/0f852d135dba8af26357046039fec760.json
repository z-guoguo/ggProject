{"ast":null,"code":"/**\n * @fileoverview defs\n * @author dengfuping_develop@163.com\n */\nimport { uniqueId } from '@antv/util';\nimport Gradient from './gradient';\nimport Shadow from './shadow';\nimport Arrow from './arrow';\nimport Clip from './clip';\nimport Pattern from './pattern';\nimport { createSVGElement } from '../util/dom';\n\nvar Defs =\n/** @class */\nfunction () {\n  function Defs(canvas) {\n    var el = createSVGElement('defs');\n    var id = uniqueId('defs_');\n    el.id = id;\n    canvas.appendChild(el);\n    this.children = [];\n    this.defaultArrow = {};\n    this.el = el;\n    this.canvas = canvas;\n  }\n\n  Defs.prototype.find = function (type, attr) {\n    var children = this.children;\n    var result = null;\n\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].match(type, attr)) {\n        result = children[i].id;\n        break;\n      }\n    }\n\n    return result;\n  };\n\n  Defs.prototype.findById = function (id) {\n    var children = this.children;\n    var flag = null;\n\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].id === id) {\n        flag = children[i];\n        break;\n      }\n    }\n\n    return flag;\n  };\n\n  Defs.prototype.add = function (item) {\n    this.children.push(item);\n    item.canvas = this.canvas;\n    item.parent = this;\n  };\n\n  Defs.prototype.getDefaultArrow = function (attrs, name) {\n    var stroke = attrs.stroke || attrs.strokeStyle;\n\n    if (this.defaultArrow[stroke]) {\n      return this.defaultArrow[stroke].id;\n    }\n\n    var arrow = new Arrow(attrs, name);\n    this.defaultArrow[stroke] = arrow;\n    this.el.appendChild(arrow.el);\n    this.add(arrow);\n    return arrow.id;\n  };\n\n  Defs.prototype.addGradient = function (cfg) {\n    var gradient = new Gradient(cfg);\n    this.el.appendChild(gradient.el);\n    this.add(gradient);\n    return gradient.id;\n  };\n\n  Defs.prototype.addArrow = function (attrs, name) {\n    var arrow = new Arrow(attrs, name);\n    this.el.appendChild(arrow.el);\n    this.add(arrow);\n    return arrow.id;\n  };\n\n  Defs.prototype.addShadow = function (cfg) {\n    var shadow = new Shadow(cfg);\n    this.el.appendChild(shadow.el);\n    this.add(shadow);\n    return shadow.id;\n  };\n\n  Defs.prototype.addPattern = function (cfg) {\n    var pattern = new Pattern(cfg);\n    this.el.appendChild(pattern.el);\n    this.add(pattern);\n    return pattern.id;\n  };\n\n  Defs.prototype.addClip = function (cfg) {\n    var clip = new Clip(cfg);\n    this.el.appendChild(clip.el);\n    this.add(clip);\n    return clip.id;\n  };\n\n  return Defs;\n}();\n\nexport default Defs;","map":{"version":3,"mappings":"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","names":["uniqueId","Gradient","Shadow","Arrow","Clip","Pattern","createSVGElement","canvas","el","id","appendChild","children","defaultArrow","Defs","type","attr","result","i","length","match","flag","item","push","parent","attrs","name","stroke","strokeStyle","arrow","add","cfg","gradient","shadow","pattern","clip"],"sourceRoot":"","sources":["../../src/defs/index.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}