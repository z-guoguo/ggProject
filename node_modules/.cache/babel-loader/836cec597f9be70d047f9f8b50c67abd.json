{"ast":null,"code":"/**\n * 创建DOM 节点\n * @param  {String} str Dom 字符串\n * @return {HTMLElement}  DOM 节点\n */\nvar TABLE;\nvar TABLE_TR;\nvar FRAGMENT_REG;\nvar CONTAINERS;\n\nfunction initConstants() {\n  TABLE = document.createElement('table');\n  TABLE_TR = document.createElement('tr');\n  FRAGMENT_REG = /^\\s*<(\\w+|!)[^>]*>/;\n  CONTAINERS = {\n    tr: document.createElement('tbody'),\n    tbody: TABLE,\n    thead: TABLE,\n    tfoot: TABLE,\n    td: TABLE_TR,\n    th: TABLE_TR,\n    '*': document.createElement('div')\n  };\n}\n\nexport default function createDom(str) {\n  if (!TABLE) {\n    initConstants();\n  }\n\n  var name = FRAGMENT_REG.test(str) && RegExp.$1;\n\n  if (!name || !(name in CONTAINERS)) {\n    name = '*';\n  }\n\n  var container = CONTAINERS[name];\n  str = typeof str === 'string' ? str.replace(/(^\\s*)|(\\s*$)/g, '') : str;\n  container.innerHTML = '' + str;\n  var dom = container.childNodes[0];\n\n  if (dom && container.contains(dom)) {\n    container.removeChild(dom);\n  }\n\n  return dom;\n}","map":{"version":3,"mappings":"AAAA;;;;;AAMA,IAAIA,KAAJ;AACA,IAAIC,QAAJ;AACA,IAAIC,YAAJ;AACA,IAAIC,UAAJ;;AAKA,SAASC,aAAT,GAAsB;EACpBJ,KAAK,GAAGK,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAR;EACAL,QAAQ,GAAGI,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAX;EACAJ,YAAY,GAAG,oBAAf;EACAC,UAAU,GAAG;IACXI,EAAE,EAAEF,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CADO;IAEXE,KAAK,EAAER,KAFI;IAGXS,KAAK,EAAET,KAHI;IAIXU,KAAK,EAAEV,KAJI;IAKXW,EAAE,EAAEV,QALO;IAMXW,EAAE,EAAEX,QANO;IAOX,KAAKI,QAAQ,CAACC,aAAT,CAAuB,KAAvB;EAPM,CAAb;AASD;;AAED,eAAc,SAAUO,SAAV,CAAoBC,GAApB,EAA8B;EAC1C,IAAI,CAACd,KAAL,EAAY;IACVI,aAAa;EACd;;EACD,IAAIW,IAAI,GAAGb,YAAY,CAACc,IAAb,CAAkBF,GAAlB,KAA0BG,MAAM,CAACC,EAA5C;;EACA,IAAI,CAACH,IAAD,IAAS,EAAEA,IAAI,IAAIZ,UAAV,CAAb,EAAoC;IAClCY,IAAI,GAAG,GAAP;EACD;;EACD,IAAMI,SAAS,GAAGhB,UAAU,CAACY,IAAD,CAA5B;EACAD,GAAG,GAAG,OAAOA,GAAP,KAAe,QAAf,GAA0BA,GAAG,CAACM,OAAJ,CAAY,gBAAZ,EAA8B,EAA9B,CAA1B,GAA8DN,GAApE;EACAK,SAAS,CAACE,SAAV,GAAsB,KAAKP,GAA3B;EACA,IAAMQ,GAAG,GAAGH,SAAS,CAACI,UAAV,CAAqB,CAArB,CAAZ;;EACA,IAAID,GAAG,IAAIH,SAAS,CAACK,QAAV,CAAmBF,GAAnB,CAAX,EAAoC;IAClCH,SAAS,CAACM,WAAV,CAAsBH,GAAtB;EACD;;EACD,OAAOA,GAAP;AACD","names":["TABLE","TABLE_TR","FRAGMENT_REG","CONTAINERS","initConstants","document","createElement","tr","tbody","thead","tfoot","td","th","createDom","str","name","test","RegExp","$1","container","replace","innerHTML","dom","childNodes","contains","removeChild"],"sourceRoot":"","sources":["../src/create-dom.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}