{"ast":null,"code":"import { snapToGrid as snap } from '../geometry/util';\nimport { normalize } from '../registry/marker/util';\nimport { Config } from './config';\nexport var Util;\n\n(function (Util) {\n  Util.snapToGrid = snap;\n  Util.normalizeMarker = normalize;\n\n  function prefix(suffix) {\n    return `${Config.prefixCls}-${suffix}`;\n  }\n\n  Util.prefix = prefix;\n})(Util || (Util = {}));\n\n(function (Util) {\n  function makeTree(parent, options, parentNode, collector = []) {\n    const children = typeof options.children === 'function' ? options.children(parent) : parent[options.children || 'children'];\n\n    if (!parentNode) {\n      parentNode = options.createNode(parent); // eslint-disable-line\n\n      collector.push(parentNode);\n    }\n\n    if (Array.isArray(children)) {\n      children.forEach(child => {\n        const node = options.createNode(child);\n        const edge = options.createEdge(parentNode, node);\n        collector.push(node, edge);\n        this.makeTree(child, options, node, collector);\n      });\n    }\n\n    return collector;\n  }\n\n  Util.makeTree = makeTree;\n})(Util || (Util = {}));","map":{"version":3,"mappings":"AACA,SAASA,UAAU,IAAIC,IAAvB,QAAmC,kBAAnC;AACA,SAASC,SAAT,QAA0B,yBAA1B;AAIA,SAASC,MAAT,QAAuB,UAAvB;AAEA,OAAM,IAAWC,IAAX;;AAAN,WAAiBA,IAAjB,EAAqB;EACNA,kBAAaH,IAAb;EACAG,uBAAkBF,SAAlB;;EAEb,SAAgBG,MAAhB,CAAuBC,MAAvB,EAAqC;IACnC,OAAO,GAAGH,MAAM,CAACI,SAAS,IAAID,MAAM,EAApC;EACD;;EAFeF,cAAMC,MAAN;AAGjB,CAPD,EAAiBD,IAAI,KAAJA,IAAI,MAArB;;AASA,WAAiBA,IAAjB,EAAqB;EAWnB,SAAgBI,QAAhB,CACEC,MADF,EAEEC,OAFF,EAGEC,UAHF,EAIEC,YAAoB,EAJtB,EAIwB;IAEtB,MAAMC,QAAQ,GACZ,OAAOH,OAAO,CAACG,QAAf,KAA4B,UAA5B,GACIH,OAAO,CAACG,QAAR,CAAiBJ,MAAjB,CADJ,GAEIA,MAAM,CAACC,OAAO,CAACG,QAAR,IAAoB,UAArB,CAHZ;;IAKA,IAAI,CAACF,UAAL,EAAiB;MACfA,UAAU,GAAGD,OAAO,CAACI,UAAR,CAAmBL,MAAnB,CAAb,CADe,CACyB;;MACxCG,SAAS,CAACG,IAAV,CAAeJ,UAAf;IACD;;IAED,IAAIK,KAAK,CAACC,OAAN,CAAcJ,QAAd,CAAJ,EAA6B;MAC3BA,QAAQ,CAACK,OAAT,CAAkBC,KAAD,IAAoB;QACnC,MAAMC,IAAI,GAAGV,OAAO,CAACI,UAAR,CAAmBK,KAAnB,CAAb;QACA,MAAME,IAAI,GAAGX,OAAO,CAACY,UAAR,CAAmBX,UAAnB,EAA+BS,IAA/B,CAAb;QACAR,SAAS,CAACG,IAAV,CAAeK,IAAf,EAAqBC,IAArB;QACA,KAAKb,QAAL,CAAcW,KAAd,EAAqBT,OAArB,EAA8BU,IAA9B,EAAoCR,SAApC;MACD,CALD;IAMD;;IAED,OAAOA,SAAP;EACD;;EA1BeR,gBAAQI,QAAR;AA2BjB,CAtCD,EAAiBJ,IAAI,KAAJA,IAAI,MAArB","names":["snapToGrid","snap","normalize","Config","Util","prefix","suffix","prefixCls","makeTree","parent","options","parentNode","collector","children","createNode","push","Array","isArray","forEach","child","node","edge","createEdge"],"sourceRoot":"","sources":["../../src/global/util.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}