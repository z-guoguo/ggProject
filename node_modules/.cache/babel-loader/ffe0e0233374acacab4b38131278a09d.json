{"ast":null,"code":"\"use strict\"; // \"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n}); // var rankUtil = require(\"./util\");\n// var longestPath = rankUtil.longestPathWithLayer;\n// var feasibleTree = require(\"./feasible-tree\").feasibleTreeWithLayer;\n// var networkSimplex = require(\"./network-simplex\");\n\nvar util_1 = require(\"./util\");\n\nvar feasible_tree_1 = require(\"./feasible-tree\");\n\nvar network_simplex_1 = __importDefault(require(\"./network-simplex\"));\n/*\n * Assigns a rank to each node in the input graph that respects the \"minlen\"\n * constraint specified on edges between nodes.\n *\n * This basic structure is derived from Gansner, et al., \"A Technique for\n * Drawing Directed Graphs.\"\n *\n * Pre-conditions:\n *\n *    1. Graph must be a connected DAG\n *    2. Graph nodes must be objects\n *    3. Graph edges must have \"weight\" and \"minlen\" attributes\n *\n * Post-conditions:\n *\n *    1. Graph nodes will have a \"rank\" attribute based on the results of the\n *       algorithm. Ranks can start at any index (including negative), we'll\n *       fix them up later.\n */\n\n\nvar rank = function (g) {\n  switch (g.graph().ranker) {\n    case \"network-simplex\":\n      networkSimplexRanker(g);\n      break;\n\n    case \"tight-tree\":\n      tightTreeRanker(g);\n      break;\n\n    case \"longest-path\":\n      longestPathRanker(g);\n      break;\n    // default: networkSimplexRanker(g);\n\n    default:\n      tightTreeRanker(g);\n  }\n}; // A fast and simple ranker, but results are far from optimal.\n\n\nvar longestPathRanker = util_1.longestPath;\n\nvar tightTreeRanker = function (g) {\n  (0, util_1.longestPathWithLayer)(g);\n  (0, feasible_tree_1.feasibleTreeWithLayer)(g);\n};\n\nvar networkSimplexRanker = function (g) {\n  (0, network_simplex_1.default)(g);\n};\n\nexports.default = rank;","map":{"version":3,"mappings":"cAAA;;;;;;;;;;IAEA;AACA;AACA;AACA;;AAEA;;AACA;;AACA;AAGA;;;;;;;;;;;;;;;;;;;;;AAmBA,IAAMA,IAAI,GAAG,UAACC,CAAD,EAAS;EACpB,QAAOA,CAAC,CAACC,KAAF,GAAUC,MAAjB;IACA,KAAK,iBAAL;MAAwBC,oBAAoB,CAACH,CAAD,CAApB;MAAyB;;IACjD,KAAK,YAAL;MAAmBI,eAAe,CAACJ,CAAD,CAAf;MAAoB;;IACvC,KAAK,cAAL;MAAqBK,iBAAiB,CAACL,CAAD,CAAjB;MAAsB;IAC3C;;IACA;MAASI,eAAe,CAACJ,CAAD,CAAf;EALT;AAOD,CARD,C,CAUA;;;AACA,IAAMK,iBAAiB,GAAGC,kBAA1B;;AAEA,IAAMF,eAAe,GAAG,UAACJ,CAAD,EAAS;EAC/B,iCAAqBA,CAArB;EACA,2CAAaA,CAAb;AACD,CAHD;;AAKA,IAAMG,oBAAoB,GAAG,UAACH,CAAD,EAAS;EACpC,+BAAeA,CAAf;AACD,CAFD;;AAIAO,kBAAeR,IAAf","names":["rank","g","graph","ranker","networkSimplexRanker","tightTreeRanker","longestPathRanker","util_1","exports"],"sourceRoot":"","sources":["../../../../../src/layout/dagre/src/rank/index.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}