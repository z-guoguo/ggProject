{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { Util } from '../global';\nimport { ObjectExt } from '../util';\nimport { Edge as StandardEdge } from '../shape/standard/edge';\nexport var Options;\n\n(function (Options) {\n  function parseOptionGroup(graph, arg, options) {\n    const result = {};\n    Object.keys(options || {}).forEach(key => {\n      const val = options[key];\n      result[key] = typeof val === 'function' ? val.call(graph, arg) : val;\n    });\n    return result;\n  }\n\n  Options.parseOptionGroup = parseOptionGroup;\n})(Options || (Options = {}));\n\n(function (Options) {\n  function get(options) {\n    const {\n      grid,\n      panning,\n      selecting,\n      embedding,\n      snapline,\n      resizing,\n      rotating,\n      knob,\n      clipboard,\n      history,\n      scroller,\n      minimap,\n      keyboard,\n      mousewheel\n    } = options,\n          others = __rest(options // size\n    // ----\n    , [\"grid\", \"panning\", \"selecting\", \"embedding\", \"snapline\", \"resizing\", \"rotating\", \"knob\", \"clipboard\", \"history\", \"scroller\", \"minimap\", \"keyboard\", \"mousewheel\"]); // size\n    // ----\n\n\n    const container = options.container;\n\n    if (container != null) {\n      if (others.width == null) {\n        others.width = container.clientWidth;\n      }\n\n      if (others.height == null) {\n        others.height = container.clientHeight;\n      }\n    } else {\n      throw new Error(`Ensure the container of the graph is specified and valid`);\n    }\n\n    const result = ObjectExt.merge({}, Options.defaults, others); // grid\n    // ----\n\n    const defaultGrid = {\n      size: 10,\n      visible: false\n    };\n\n    if (typeof grid === 'number') {\n      result.grid = {\n        size: grid,\n        visible: false\n      };\n    } else if (typeof grid === 'boolean') {\n      result.grid = Object.assign(Object.assign({}, defaultGrid), {\n        visible: grid\n      });\n    } else {\n      result.grid = Object.assign(Object.assign({}, defaultGrid), grid);\n    } // booleas\n    // -------\n\n\n    const booleas = ['panning', 'selecting', 'embedding', 'snapline', 'resizing', 'rotating', 'knob', 'clipboard', 'history', 'scroller', 'minimap', 'keyboard', 'mousewheel'];\n    booleas.forEach(key => {\n      const val = options[key];\n\n      if (typeof val === 'boolean') {\n        result[key].enabled = val;\n      } else {\n        result[key] = Object.assign(Object.assign({}, result[key]), val);\n      }\n    }); // background\n    // ----------\n\n    if (result.background && result.scroller.enabled && result.scroller.background == null) {\n      result.scroller.background = result.background;\n      delete result.background;\n    }\n\n    return result;\n  }\n\n  Options.get = get;\n})(Options || (Options = {}));\n\n(function (Options) {\n  Options.defaults = {\n    x: 0,\n    y: 0,\n    grid: {\n      size: 10,\n      visible: false\n    },\n    scaling: {\n      min: 0.01,\n      max: 16\n    },\n    background: false,\n    highlighting: {\n      default: {\n        name: 'stroke',\n        args: {\n          padding: 3\n        }\n      },\n      nodeAvailable: {\n        name: 'className',\n        args: {\n          className: Util.prefix('available-node')\n        }\n      },\n      magnetAvailable: {\n        name: 'className',\n        args: {\n          className: Util.prefix('available-magnet')\n        }\n      }\n    },\n    connecting: {\n      snap: false,\n      multi: true,\n      // TODO: Unannotation the next line when the `multi` option was removed in the next major version.\n      // allowMulti: true,\n      dangling: true,\n      // TODO: Unannotation the next line when the `dangling` option was removed in the next major version.\n      // allowBlank: true,\n      allowLoop: true,\n      allowNode: true,\n      allowEdge: false,\n      allowPort: true,\n      highlight: false,\n      anchor: 'center',\n      edgeAnchor: 'ratio',\n      connectionPoint: 'boundary',\n      strategy: null,\n      router: 'normal',\n      connector: 'normal',\n\n      validateConnection({\n        type,\n        sourceView,\n        targetView\n      }) {\n        const view = type === 'target' ? targetView : sourceView;\n        return view != null;\n      },\n\n      createEdge() {\n        return new StandardEdge();\n      }\n\n    },\n    transforming: {\n      clearAll: true,\n      clearOnBlankMouseDown: true\n    },\n    resizing: {\n      enabled: false,\n      minWidth: 0,\n      minHeight: 0,\n      maxWidth: Number.MAX_SAFE_INTEGER,\n      maxHeight: Number.MAX_SAFE_INTEGER,\n      orthogonal: true,\n      restricted: false,\n      autoScroll: true,\n      preserveAspectRatio: false,\n      allowReverse: true\n    },\n    rotating: {\n      enabled: false,\n      grid: 15\n    },\n    translating: {\n      restrict: false\n    },\n    knob: {\n      enabled: false,\n      clearAll: true,\n      clearOnBlankMouseDown: true\n    },\n    embedding: {\n      enabled: false,\n      findParent: 'bbox',\n      frontOnly: true,\n      validate: () => true\n    },\n    selecting: {\n      enabled: false,\n      rubberband: false,\n      rubberNode: true,\n      rubberEdge: false,\n      pointerEvents: 'auto',\n      multiple: true,\n      multipleSelectionModifiers: ['ctrl', 'meta'],\n      movable: true,\n      strict: false,\n      useCellGeometry: false,\n      selectCellOnMoved: false,\n      selectNodeOnMoved: false,\n      selectEdgeOnMoved: false,\n      content: null,\n      handles: null\n    },\n    panning: {\n      enabled: false,\n      eventTypes: ['leftMouseDown']\n    },\n    snapline: {\n      enabled: false\n    },\n    clipboard: {\n      enabled: false\n    },\n    history: {\n      enabled: false\n    },\n    scroller: {\n      enabled: false\n    },\n    keyboard: {\n      enabled: false\n    },\n    mousewheel: {\n      enabled: false,\n      factor: 1.2,\n      zoomAtMousePosition: true\n    },\n    async: false,\n    frozen: false,\n    sorting: 'exact',\n    moveThreshold: 0,\n    clickThreshold: 0,\n    magnetThreshold: 0,\n    preventDefaultDblClick: true,\n    preventDefaultMouseDown: false,\n    preventDefaultContextMenu: true,\n    preventDefaultBlankAction: true,\n    interacting: {\n      edgeLabelMovable: false\n    },\n    guard: () => false\n  };\n})(Options || (Options = {}));","map":{"version":3,"mappings":"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","names":["Util","ObjectExt","Edge","StandardEdge","Options","parseOptionGroup","graph","arg","options","result","Object","keys","forEach","key","val","call","get","grid","panning","selecting","embedding","snapline","resizing","rotating","knob","clipboard","history","scroller","minimap","keyboard","mousewheel","others","container","width","clientWidth","height","clientHeight","Error","merge","defaultGrid","size","visible","booleas","enabled","background","x","y","scaling","min","max","highlighting","default","name","args","padding","nodeAvailable","className","prefix","magnetAvailable","connecting","snap","multi","dangling","allowLoop","allowNode","allowEdge","allowPort","highlight","anchor","edgeAnchor","connectionPoint","strategy","router","connector","validateConnection","type","sourceView","targetView","view","createEdge","transforming","clearAll","clearOnBlankMouseDown","minWidth","minHeight","maxWidth","Number","MAX_SAFE_INTEGER","maxHeight","orthogonal","restricted","autoScroll","preserveAspectRatio","allowReverse","translating","restrict","findParent","frontOnly","validate","rubberband","rubberNode","rubberEdge","pointerEvents","multiple","multipleSelectionModifiers","movable","strict","useCellGeometry","selectCellOnMoved","selectNodeOnMoved","selectEdgeOnMoved","content","handles","eventTypes","factor","zoomAtMousePosition","async","frozen","sorting","moveThreshold","clickThreshold","magnetThreshold","preventDefaultDblClick","preventDefaultMouseDown","preventDefaultContextMenu","preventDefaultBlankAction","interacting","edgeLabelMovable","guard"],"sourceRoot":"","sources":["../../src/graph/options.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}