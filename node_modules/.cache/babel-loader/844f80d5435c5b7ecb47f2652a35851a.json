{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nvar ALLOW_EVENTS = ['shift', 'ctrl', 'alt', 'control', 'meta'];\nexport default {\n  getDefaultCfg: function getDefaultCfg() {\n    return {\n      direction: 'both',\n      enableOptimize: false,\n      zoomKey: 'ctrl',\n      // scroll-canvas 可滚动的扩展范围，默认为 0，即最多可以滚动一屏的位置\n      // 当设置的值大于 0 时，即滚动可以超过一屏\n      // 当设置的值小于 0 时，相当于缩小了可滚动范围\n      // 具体实例可参考：https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*IFfoS67_HssAAAAAAAAAAAAAARQnAQ\n      scalableRange: 0\n    };\n  },\n  getEvents: function getEvents() {\n    if (!this.zoomKey || ALLOW_EVENTS.indexOf(this.zoomKey) === -1) this.zoomKey = 'ctrl';\n    return {\n      wheel: 'onWheel'\n    };\n  },\n  onWheel: function onWheel(ev) {\n    var _this = this;\n\n    var graph = this.graph;\n    var zoomKeys = Array.isArray(this.zoomKey) ? [].concat(this.zoomKey) : [this.zoomKey];\n    if (zoomKeys.includes('control')) zoomKeys.push('ctrl');\n    var keyDown = zoomKeys.some(function (ele) {\n      return ev[\"\".concat(ele, \"Key\")];\n    });\n\n    if (keyDown) {\n      var canvas = graph.get('canvas');\n      var point = canvas.getPointByClient(ev.clientX, ev.clientY);\n      var ratio = graph.getZoom();\n\n      if (ev.wheelDelta > 0) {\n        ratio = ratio + ratio * 0.05;\n      } else {\n        ratio = ratio - ratio * 0.05;\n      }\n\n      graph.zoomTo(ratio, {\n        x: point.x,\n        y: point.y\n      });\n    } else {\n      var dx = ev.deltaX || ev.movementX;\n      var dy = ev.deltaY || ev.movementY;\n      if (!dy && navigator.userAgent.indexOf('Firefox') > -1) dy = -ev.wheelDelta * 125 / 3;\n      var width = this.graph.get('width');\n      var height = this.graph.get('height');\n      var graphCanvasBBox = this.graph.get('canvas').getCanvasBBox();\n      var expandWidth = this.scalableRange;\n      var expandHeight = this.scalableRange; // 若 scalableRange 是 0~1 的小数，则作为比例考虑\n\n      if (expandWidth < 1 && expandWidth > -1) {\n        expandWidth = width * expandWidth;\n        expandHeight = height * expandHeight;\n      }\n\n      var minX = graphCanvasBBox.minX,\n          maxX = graphCanvasBBox.maxX,\n          minY = graphCanvasBBox.minY,\n          maxY = graphCanvasBBox.maxY;\n\n      if (dx > 0) {\n        if (maxX < -expandWidth) {\n          dx = 0;\n        } else if (maxX - dx < -expandWidth) {\n          dx = maxX + expandWidth;\n        }\n      } else if (dx < 0) {\n        if (minX > width + expandWidth) {\n          dx = 0;\n        } else if (minX - dx > width + expandWidth) {\n          dx = minX - (width + expandWidth);\n        }\n      }\n\n      if (dy > 0) {\n        if (maxY < -expandHeight) {\n          dy = 0;\n        } else if (maxY - dy < -expandHeight) {\n          dy = maxY + expandHeight;\n        }\n      } else if (dy < 0) {\n        if (minY > height + expandHeight) {\n          dy = 0;\n        } else if (minY - dy > height + expandHeight) {\n          dy = minY - (height + expandHeight);\n        }\n      }\n\n      if (this.get('direction') === 'x') {\n        dy = 0;\n      } else if (this.get('direction') === 'y') {\n        dx = 0;\n      }\n\n      graph.translate(-dx, -dy);\n    }\n\n    ev.preventDefault(); // hide the shapes when the zoom ratio is smaller than optimizeZoom\n    // hide the shapes when zoomming\n\n    var enableOptimize = this.get('enableOptimize');\n\n    if (enableOptimize) {\n      var optimizeZoom_1 = this.get('optimizeZoom');\n      var optimized = this.get('optimized');\n      var nodes_1 = graph.getNodes();\n      var edges_1 = graph.getEdges();\n      var nodesLength_1 = nodes_1.length;\n      var edgesLength_1 = edges_1.length; // hiding\n\n      if (!optimized) {\n        for (var n = 0; n < nodesLength_1; n++) {\n          var node = nodes_1[n];\n\n          if (!node.destroyed) {\n            var children = node.get('group').get('children');\n            var childrenLength = children.length;\n\n            for (var c = 0; c < childrenLength; c++) {\n              var shape = children[c];\n\n              if (!shape.destoryed && !shape.get('isKeyShape')) {\n                shape.set('ori-visibility', shape.get('ori-visibility') || shape.get('visible'));\n                shape.hide();\n              }\n            }\n          }\n        }\n\n        for (var edgeIndex = 0; edgeIndex < edgesLength_1; edgeIndex++) {\n          var edge = edges_1[edgeIndex];\n          var children = edge.get('group').get('children');\n          var childrenLength = children.length;\n\n          for (var c = 0; c < childrenLength; c++) {\n            var shape = children[c];\n            shape.set('ori-visibility', shape.get('ori-visibility') || shape.get('visible'));\n            shape.hide();\n          }\n        }\n\n        this.set('optimized', true);\n      } // showing after 100ms\n\n\n      clearTimeout(this.get('timeout'));\n      var timeout = setTimeout(function () {\n        var currentZoom = graph.getZoom();\n\n        var curOptimized = _this.get('optimized');\n\n        if (curOptimized) {\n          _this.set('optimized', false);\n\n          for (var n = 0; n < nodesLength_1; n++) {\n            var node = nodes_1[n];\n            var children = node.get('group').get('children');\n            var childrenLength = children.length;\n\n            if (currentZoom < optimizeZoom_1) {\n              var keyShape = node.getKeyShape();\n              var oriVis = keyShape.get('ori-visibility');\n              if (oriVis) keyShape.show();\n            } else {\n              for (var c = 0; c < childrenLength; c++) {\n                var shape = children[c];\n                var oriVis = shape.get('ori-visibility');\n\n                if (!shape.get('visible') && oriVis) {\n                  if (oriVis) shape.show();\n                }\n              }\n            }\n          }\n\n          for (var edgeIndex = 0; edgeIndex < edgesLength_1; edgeIndex++) {\n            var edge = edges_1[edgeIndex];\n            var children = edge.get('group').get('children');\n            var childrenLength = children.length;\n\n            if (currentZoom < optimizeZoom_1) {\n              var keyShape = edge.getKeyShape();\n              var oriVis = keyShape.get('ori-visibility');\n              if (oriVis) keyShape.show();\n            } else {\n              for (var c = 0; c < childrenLength; c++) {\n                var shape = children[c];\n\n                if (!shape.get('visible')) {\n                  var oriVis = shape.get('ori-visibility');\n                  if (oriVis) shape.show();\n                }\n              }\n            }\n          }\n        }\n      }, 100);\n      this.set('timeout', timeout);\n    }\n  }\n};","map":{"version":3,"names":["ALLOW_EVENTS","getDefaultCfg","direction","enableOptimize","zoomKey","scalableRange","getEvents","indexOf","wheel","onWheel","ev","_this","graph","zoomKeys","Array","isArray","concat","includes","push","keyDown","some","ele","canvas","get","point","getPointByClient","clientX","clientY","ratio","getZoom","wheelDelta","zoomTo","x","y","dx","deltaX","movementX","dy","deltaY","movementY","navigator","userAgent","width","height","graphCanvasBBox","getCanvasBBox","expandWidth","expandHeight","minX","maxX","minY","maxY","translate","preventDefault","optimizeZoom_1","optimized","nodes_1","getNodes","edges_1","getEdges","nodesLength_1","length","edgesLength_1","n","node","destroyed","children","childrenLength","c","shape","destoryed","set","hide","edgeIndex","edge","clearTimeout","timeout","setTimeout","currentZoom","curOptimized","keyShape","getKeyShape","oriVis","show"],"sources":["/Users/wawalike/Desktop/ggProject/node_modules/@antv/g6-pc/es/behavior/scroll-canvas.js"],"sourcesContent":["var ALLOW_EVENTS = ['shift', 'ctrl', 'alt', 'control', 'meta'];\nexport default {\n  getDefaultCfg: function getDefaultCfg() {\n    return {\n      direction: 'both',\n      enableOptimize: false,\n      zoomKey: 'ctrl',\n      // scroll-canvas 可滚动的扩展范围，默认为 0，即最多可以滚动一屏的位置\n      // 当设置的值大于 0 时，即滚动可以超过一屏\n      // 当设置的值小于 0 时，相当于缩小了可滚动范围\n      // 具体实例可参考：https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*IFfoS67_HssAAAAAAAAAAAAAARQnAQ\n      scalableRange: 0\n    };\n  },\n  getEvents: function getEvents() {\n    if (!this.zoomKey || ALLOW_EVENTS.indexOf(this.zoomKey) === -1) this.zoomKey = 'ctrl';\n    return {\n      wheel: 'onWheel'\n    };\n  },\n  onWheel: function onWheel(ev) {\n    var _this = this;\n\n    var graph = this.graph;\n    var zoomKeys = Array.isArray(this.zoomKey) ? [].concat(this.zoomKey) : [this.zoomKey];\n    if (zoomKeys.includes('control')) zoomKeys.push('ctrl');\n    var keyDown = zoomKeys.some(function (ele) {\n      return ev[\"\".concat(ele, \"Key\")];\n    });\n\n    if (keyDown) {\n      var canvas = graph.get('canvas');\n      var point = canvas.getPointByClient(ev.clientX, ev.clientY);\n      var ratio = graph.getZoom();\n\n      if (ev.wheelDelta > 0) {\n        ratio = ratio + ratio * 0.05;\n      } else {\n        ratio = ratio - ratio * 0.05;\n      }\n\n      graph.zoomTo(ratio, {\n        x: point.x,\n        y: point.y\n      });\n    } else {\n      var dx = ev.deltaX || ev.movementX;\n      var dy = ev.deltaY || ev.movementY;\n      if (!dy && navigator.userAgent.indexOf('Firefox') > -1) dy = -ev.wheelDelta * 125 / 3;\n      var width = this.graph.get('width');\n      var height = this.graph.get('height');\n      var graphCanvasBBox = this.graph.get('canvas').getCanvasBBox();\n      var expandWidth = this.scalableRange;\n      var expandHeight = this.scalableRange; // 若 scalableRange 是 0~1 的小数，则作为比例考虑\n\n      if (expandWidth < 1 && expandWidth > -1) {\n        expandWidth = width * expandWidth;\n        expandHeight = height * expandHeight;\n      }\n\n      var minX = graphCanvasBBox.minX,\n          maxX = graphCanvasBBox.maxX,\n          minY = graphCanvasBBox.minY,\n          maxY = graphCanvasBBox.maxY;\n\n      if (dx > 0) {\n        if (maxX < -expandWidth) {\n          dx = 0;\n        } else if (maxX - dx < -expandWidth) {\n          dx = maxX + expandWidth;\n        }\n      } else if (dx < 0) {\n        if (minX > width + expandWidth) {\n          dx = 0;\n        } else if (minX - dx > width + expandWidth) {\n          dx = minX - (width + expandWidth);\n        }\n      }\n\n      if (dy > 0) {\n        if (maxY < -expandHeight) {\n          dy = 0;\n        } else if (maxY - dy < -expandHeight) {\n          dy = maxY + expandHeight;\n        }\n      } else if (dy < 0) {\n        if (minY > height + expandHeight) {\n          dy = 0;\n        } else if (minY - dy > height + expandHeight) {\n          dy = minY - (height + expandHeight);\n        }\n      }\n\n      if (this.get('direction') === 'x') {\n        dy = 0;\n      } else if (this.get('direction') === 'y') {\n        dx = 0;\n      }\n\n      graph.translate(-dx, -dy);\n    }\n\n    ev.preventDefault(); // hide the shapes when the zoom ratio is smaller than optimizeZoom\n    // hide the shapes when zoomming\n\n    var enableOptimize = this.get('enableOptimize');\n\n    if (enableOptimize) {\n      var optimizeZoom_1 = this.get('optimizeZoom');\n      var optimized = this.get('optimized');\n      var nodes_1 = graph.getNodes();\n      var edges_1 = graph.getEdges();\n      var nodesLength_1 = nodes_1.length;\n      var edgesLength_1 = edges_1.length; // hiding\n\n      if (!optimized) {\n        for (var n = 0; n < nodesLength_1; n++) {\n          var node = nodes_1[n];\n\n          if (!node.destroyed) {\n            var children = node.get('group').get('children');\n            var childrenLength = children.length;\n\n            for (var c = 0; c < childrenLength; c++) {\n              var shape = children[c];\n\n              if (!shape.destoryed && !shape.get('isKeyShape')) {\n                shape.set('ori-visibility', shape.get('ori-visibility') || shape.get('visible'));\n                shape.hide();\n              }\n            }\n          }\n        }\n\n        for (var edgeIndex = 0; edgeIndex < edgesLength_1; edgeIndex++) {\n          var edge = edges_1[edgeIndex];\n          var children = edge.get('group').get('children');\n          var childrenLength = children.length;\n\n          for (var c = 0; c < childrenLength; c++) {\n            var shape = children[c];\n            shape.set('ori-visibility', shape.get('ori-visibility') || shape.get('visible'));\n            shape.hide();\n          }\n        }\n\n        this.set('optimized', true);\n      } // showing after 100ms\n\n\n      clearTimeout(this.get('timeout'));\n      var timeout = setTimeout(function () {\n        var currentZoom = graph.getZoom();\n\n        var curOptimized = _this.get('optimized');\n\n        if (curOptimized) {\n          _this.set('optimized', false);\n\n          for (var n = 0; n < nodesLength_1; n++) {\n            var node = nodes_1[n];\n            var children = node.get('group').get('children');\n            var childrenLength = children.length;\n\n            if (currentZoom < optimizeZoom_1) {\n              var keyShape = node.getKeyShape();\n              var oriVis = keyShape.get('ori-visibility');\n              if (oriVis) keyShape.show();\n            } else {\n              for (var c = 0; c < childrenLength; c++) {\n                var shape = children[c];\n                var oriVis = shape.get('ori-visibility');\n\n                if (!shape.get('visible') && oriVis) {\n                  if (oriVis) shape.show();\n                }\n              }\n            }\n          }\n\n          for (var edgeIndex = 0; edgeIndex < edgesLength_1; edgeIndex++) {\n            var edge = edges_1[edgeIndex];\n            var children = edge.get('group').get('children');\n            var childrenLength = children.length;\n\n            if (currentZoom < optimizeZoom_1) {\n              var keyShape = edge.getKeyShape();\n              var oriVis = keyShape.get('ori-visibility');\n              if (oriVis) keyShape.show();\n            } else {\n              for (var c = 0; c < childrenLength; c++) {\n                var shape = children[c];\n\n                if (!shape.get('visible')) {\n                  var oriVis = shape.get('ori-visibility');\n                  if (oriVis) shape.show();\n                }\n              }\n            }\n          }\n        }\n      }, 100);\n      this.set('timeout', timeout);\n    }\n  }\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}