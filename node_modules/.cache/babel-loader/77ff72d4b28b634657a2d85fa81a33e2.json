{"ast":null,"code":"var isBetween = function (value, min, max) {\n  return value >= min && value <= max;\n};\n\nexport default function getLineIntersect(p0, p1, p2, p3) {\n  var tolerance = 0.001;\n  var E = {\n    x: p2.x - p0.x,\n    y: p2.y - p0.y\n  };\n  var D0 = {\n    x: p1.x - p0.x,\n    y: p1.y - p0.y\n  };\n  var D1 = {\n    x: p3.x - p2.x,\n    y: p3.y - p2.y\n  };\n  var kross = D0.x * D1.y - D0.y * D1.x;\n  var sqrKross = kross * kross;\n  var sqrLen0 = D0.x * D0.x + D0.y * D0.y;\n  var sqrLen1 = D1.x * D1.x + D1.y * D1.y;\n  var point = null;\n\n  if (sqrKross > tolerance * sqrLen0 * sqrLen1) {\n    var s = (E.x * D1.y - E.y * D1.x) / kross;\n    var t = (E.x * D0.y - E.y * D0.x) / kross;\n\n    if (isBetween(s, 0, 1) && isBetween(t, 0, 1)) {\n      point = {\n        x: p0.x + s * D0.x,\n        y: p0.y + s * D0.y\n      };\n    }\n  }\n\n  return point;\n}\n;","map":{"version":3,"mappings":"AAaA,IAAMA,SAAS,GAAG,UAACC,KAAD,EAAgBC,GAAhB,EAA6BC,GAA7B,EAAwC;EAAK,YAAK,IAAID,GAAT,IAAgBD,KAAK,IAAIE,GAAzB;AAA4B,CAA3F;;AAGA,eAAc,SAAUC,gBAAV,CAA2BC,EAA3B,EAAsCC,EAAtC,EAAiDC,EAAjD,EAA4DC,EAA5D,EAAqE;EACjF,IAAMC,SAAS,GAAG,KAAlB;EACA,IAAMC,CAAC,GAAU;IACfC,CAAC,EAAEJ,EAAE,CAACI,CAAH,GAAON,EAAE,CAACM,CADE;IAEfC,CAAC,EAAEL,EAAE,CAACK,CAAH,GAAOP,EAAE,CAACO;EAFE,CAAjB;EAIA,IAAMC,EAAE,GAAU;IAChBF,CAAC,EAAEL,EAAE,CAACK,CAAH,GAAON,EAAE,CAACM,CADG;IAEhBC,CAAC,EAAEN,EAAE,CAACM,CAAH,GAAOP,EAAE,CAACO;EAFG,CAAlB;EAIA,IAAME,EAAE,GAAU;IAChBH,CAAC,EAAEH,EAAE,CAACG,CAAH,GAAOJ,EAAE,CAACI,CADG;IAEhBC,CAAC,EAAEJ,EAAE,CAACI,CAAH,GAAOL,EAAE,CAACK;EAFG,CAAlB;EAIA,IAAMG,KAAK,GAAWF,EAAE,CAACF,CAAH,GAAOG,EAAE,CAACF,CAAV,GAAcC,EAAE,CAACD,CAAH,GAAOE,EAAE,CAACH,CAA9C;EACA,IAAMK,QAAQ,GAAWD,KAAK,GAAGA,KAAjC;EACA,IAAME,OAAO,GAAWJ,EAAE,CAACF,CAAH,GAAOE,EAAE,CAACF,CAAV,GAAcE,EAAE,CAACD,CAAH,GAAOC,EAAE,CAACD,CAAhD;EACA,IAAMM,OAAO,GAAWJ,EAAE,CAACH,CAAH,GAAOG,EAAE,CAACH,CAAV,GAAcG,EAAE,CAACF,CAAH,GAAOE,EAAE,CAACF,CAAhD;EACA,IAAIO,KAAK,GAAiB,IAA1B;;EACA,IAAIH,QAAQ,GAAGP,SAAS,GAAGQ,OAAZ,GAAsBC,OAArC,EAA8C;IAC5C,IAAME,CAAC,GAAG,CAACV,CAAC,CAACC,CAAF,GAAMG,EAAE,CAACF,CAAT,GAAaF,CAAC,CAACE,CAAF,GAAME,EAAE,CAACH,CAAvB,IAA4BI,KAAtC;IACA,IAAMM,CAAC,GAAG,CAACX,CAAC,CAACC,CAAF,GAAME,EAAE,CAACD,CAAT,GAAaF,CAAC,CAACE,CAAF,GAAMC,EAAE,CAACF,CAAvB,IAA4BI,KAAtC;;IACA,IAAIf,SAAS,CAACoB,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAT,IAAsBpB,SAAS,CAACqB,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAnC,EAA8C;MAC5CF,KAAK,GAAG;QACNR,CAAC,EAAEN,EAAE,CAACM,CAAH,GAAOS,CAAC,GAAGP,EAAE,CAACF,CADX;QAENC,CAAC,EAAEP,EAAE,CAACO,CAAH,GAAOQ,CAAC,GAAGP,EAAE,CAACD;MAFX,CAAR;IAID;EACF;;EACD,OAAOO,KAAP;AACD;AAAA","names":["isBetween","value","min","max","getLineIntersect","p0","p1","p2","p3","tolerance","E","x","y","D0","D1","kross","sqrKross","sqrLen0","sqrLen1","point","s","t"],"sourceRoot":"","sources":["../src/get-line-intersect.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}