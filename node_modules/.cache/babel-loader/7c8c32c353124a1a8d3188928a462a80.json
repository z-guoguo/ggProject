{"ast":null,"code":"var DEFAULT_TRIGGER = 'ctrl';\nvar ALLOW_EVENTS = ['shift', 'ctrl', 'alt', 'control'];\nvar DEFAULT_COMBINED_KEY = '1';\nexport default {\n  getDefaultCfg: function getDefaultCfg() {\n    return {\n      trigger: DEFAULT_TRIGGER,\n      combinedKey: DEFAULT_COMBINED_KEY,\n      functionName: 'fitView',\n      functionParams: []\n    };\n  },\n  getEvents: function getEvents() {\n    // 检测输入是否合法\n    if (!(ALLOW_EVENTS.indexOf(this.trigger.toLowerCase()) > -1)) {\n      this.trigger = DEFAULT_TRIGGER;\n      console.warn(\"Behavior shortcuts-fit-view \\u7684 trigger \\u53C2\\u6570 '\".concat(this.trigger, \"' \\u4E0D\\u5408\\u6CD5\\uFF0C\\u8BF7\\u8F93\\u5165 'drag'\\u3001'shift'\\u3001'ctrl' \\u6216 'alt'\"));\n    }\n\n    if (this.combinedKey === this.trigger) {\n      this.combinedKey = undefined;\n    }\n\n    return {\n      keyup: 'onKeyUp',\n      keydown: 'onKeyDown'\n    };\n  },\n  onKeyDown: function onKeyDown(e) {\n    var code = e.key;\n\n    if (!code) {\n      return;\n    }\n\n    var triggerLowerCase = this.trigger.toLowerCase();\n    var codeLowerCase = code.toLowerCase(); // 按住 control 键时，允许用户设置 trigger 为 ctrl\n\n    if (!this.triggerKeydown) {\n      if (codeLowerCase === triggerLowerCase || codeLowerCase === 'control' && triggerLowerCase === 'ctrl' || codeLowerCase === 'ctrl' && triggerLowerCase === 'control') {\n        this.triggerKeydown = true;\n      } else {\n        this.triggerKeydown = false;\n      }\n    }\n\n    var graph = this.graph;\n\n    if (!graph[this.functionName]) {\n      console.warn(\"Behavior shortcuts-fit-view \\u7684 functionName \\u53C2\\u6570 '\".concat(this.functionName, \"' \\u4E0D\\u5408\\u6CD5\\uFF0C\\u5B83\\u4E0D\\u662F Graph \\u7684\\u4E00\\u4E2A\\u51FD\\u6570\\u540D\"));\n      return {};\n    } // 未配置 combinedKey，直接 fitView\n\n\n    if (this.triggerKeydown && !this.combinedKey) {\n      if (this.functionParams && this.functionParams.length) graph[this.functionName].apply(graph, this.functionParams);else graph[this.functionName]();\n      return;\n    }\n\n    var combinedKeyLowerCase = this.combinedKey.toLowerCase();\n\n    if (this.triggerKeydown) {\n      if (codeLowerCase === combinedKeyLowerCase || codeLowerCase === 'control' && combinedKeyLowerCase === 'ctrl' || codeLowerCase === 'ctrl' && combinedKeyLowerCase === 'control') {\n        if (this.functionParams && this.functionParams.length) graph[this.functionName].apply(graph, this.functionParams);else graph[this.functionName]();\n      }\n    }\n  },\n  onKeyUp: function onKeyUp() {\n    if (this.brush) {\n      // 清除所有选中状态后，设置拖得动状态为false，并清除框选的brush\n      this.brush.remove(true);\n      this.brush = null;\n      this.dragging = false;\n    }\n\n    this.triggerKeydown = false;\n  }\n};","map":{"version":3,"names":["DEFAULT_TRIGGER","ALLOW_EVENTS","DEFAULT_COMBINED_KEY","getDefaultCfg","trigger","combinedKey","functionName","functionParams","getEvents","indexOf","toLowerCase","console","warn","concat","undefined","keyup","keydown","onKeyDown","e","code","key","triggerLowerCase","codeLowerCase","triggerKeydown","graph","length","apply","combinedKeyLowerCase","onKeyUp","brush","remove","dragging"],"sources":["/Users/wawalike/Desktop/ggProject/node_modules/@antv/g6-pc/es/behavior/shortcuts-call.js"],"sourcesContent":["var DEFAULT_TRIGGER = 'ctrl';\nvar ALLOW_EVENTS = ['shift', 'ctrl', 'alt', 'control'];\nvar DEFAULT_COMBINED_KEY = '1';\nexport default {\n  getDefaultCfg: function getDefaultCfg() {\n    return {\n      trigger: DEFAULT_TRIGGER,\n      combinedKey: DEFAULT_COMBINED_KEY,\n      functionName: 'fitView',\n      functionParams: []\n    };\n  },\n  getEvents: function getEvents() {\n    // 检测输入是否合法\n    if (!(ALLOW_EVENTS.indexOf(this.trigger.toLowerCase()) > -1)) {\n      this.trigger = DEFAULT_TRIGGER;\n      console.warn(\"Behavior shortcuts-fit-view \\u7684 trigger \\u53C2\\u6570 '\".concat(this.trigger, \"' \\u4E0D\\u5408\\u6CD5\\uFF0C\\u8BF7\\u8F93\\u5165 'drag'\\u3001'shift'\\u3001'ctrl' \\u6216 'alt'\"));\n    }\n\n    if (this.combinedKey === this.trigger) {\n      this.combinedKey = undefined;\n    }\n\n    return {\n      keyup: 'onKeyUp',\n      keydown: 'onKeyDown'\n    };\n  },\n  onKeyDown: function onKeyDown(e) {\n    var code = e.key;\n\n    if (!code) {\n      return;\n    }\n\n    var triggerLowerCase = this.trigger.toLowerCase();\n    var codeLowerCase = code.toLowerCase(); // 按住 control 键时，允许用户设置 trigger 为 ctrl\n\n    if (!this.triggerKeydown) {\n      if (codeLowerCase === triggerLowerCase || codeLowerCase === 'control' && triggerLowerCase === 'ctrl' || codeLowerCase === 'ctrl' && triggerLowerCase === 'control') {\n        this.triggerKeydown = true;\n      } else {\n        this.triggerKeydown = false;\n      }\n    }\n\n    var graph = this.graph;\n\n    if (!graph[this.functionName]) {\n      console.warn(\"Behavior shortcuts-fit-view \\u7684 functionName \\u53C2\\u6570 '\".concat(this.functionName, \"' \\u4E0D\\u5408\\u6CD5\\uFF0C\\u5B83\\u4E0D\\u662F Graph \\u7684\\u4E00\\u4E2A\\u51FD\\u6570\\u540D\"));\n      return {};\n    } // 未配置 combinedKey，直接 fitView\n\n\n    if (this.triggerKeydown && !this.combinedKey) {\n      if (this.functionParams && this.functionParams.length) graph[this.functionName].apply(graph, this.functionParams);else graph[this.functionName]();\n      return;\n    }\n\n    var combinedKeyLowerCase = this.combinedKey.toLowerCase();\n\n    if (this.triggerKeydown) {\n      if (codeLowerCase === combinedKeyLowerCase || codeLowerCase === 'control' && combinedKeyLowerCase === 'ctrl' || codeLowerCase === 'ctrl' && combinedKeyLowerCase === 'control') {\n        if (this.functionParams && this.functionParams.length) graph[this.functionName].apply(graph, this.functionParams);else graph[this.functionName]();\n      }\n    }\n  },\n  onKeyUp: function onKeyUp() {\n    if (this.brush) {\n      // 清除所有选中状态后，设置拖得动状态为false，并清除框选的brush\n      this.brush.remove(true);\n      this.brush = null;\n      this.dragging = false;\n    }\n\n    this.triggerKeydown = false;\n  }\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}