{"ast":null,"code":"import { ObjectExt } from '../../util';\nexport const stroke = {\n  qualify: ObjectExt.isPlainObject,\n\n  set(stroke, {\n    view\n  }) {\n    const cell = view.cell;\n    const options = Object.assign({}, stroke);\n\n    if (cell.isEdge() && options.type === 'linearGradient') {\n      const edgeView = view;\n      const source = edgeView.sourcePoint;\n      const target = edgeView.targetPoint;\n      options.id = `gradient-${options.type}-${cell.id}`;\n      options.attrs = Object.assign(Object.assign({}, options.attrs), {\n        x1: source.x,\n        y1: source.y,\n        x2: target.x,\n        y2: target.y,\n        gradientUnits: 'userSpaceOnUse'\n      });\n      view.graph.defs.remove(options.id);\n    }\n\n    return `url(#${view.graph.defineGradient(options)})`;\n  }\n\n};","map":{"version":3,"mappings":"AAAA,SAASA,SAAT,QAA0B,YAA1B;AAKA,OAAO,MAAMC,MAAM,GAAoB;EACrCC,OAAO,EAAEF,SAAS,CAACG,aADkB;;EAErCC,GAAG,CAACH,MAAD,EAAc;IAAEI;EAAF,CAAd,EAAsB;IACvB,MAAMC,IAAI,GAAGD,IAAI,CAACC,IAAlB;IACA,MAAMC,OAAO,GAAGC,kBAAKP,MAAL,CAAhB;;IAEA,IAAIK,IAAI,CAACG,MAAL,MAAiBF,OAAO,CAACG,IAAR,KAAiB,gBAAtC,EAAwD;MACtD,MAAMC,QAAQ,GAAGN,IAAjB;MACA,MAAMO,MAAM,GAAGD,QAAQ,CAACE,WAAxB;MACA,MAAMC,MAAM,GAAGH,QAAQ,CAACI,WAAxB;MAEAR,OAAO,CAACS,EAAR,GAAa,YAAYT,OAAO,CAACG,IAAI,IAAIJ,IAAI,CAACU,EAAE,EAAhD;MACAT,OAAO,CAACU,KAAR,GAAaT,gCACRD,OAAO,CAACU,KADA,GACK;QAChBC,EAAE,EAAEN,MAAM,CAACO,CADK;QAEhBC,EAAE,EAAER,MAAM,CAACS,CAFK;QAGhBC,EAAE,EAAER,MAAM,CAACK,CAHK;QAIhBI,EAAE,EAAET,MAAM,CAACO,CAJK;QAKhBG,aAAa,EAAE;MALC,CADL,CAAb;MASAnB,IAAI,CAACoB,KAAL,CAAWC,IAAX,CAAgBC,MAAhB,CAAuBpB,OAAO,CAACS,EAA/B;IACD;;IAED,OAAO,QAAQX,IAAI,CAACoB,KAAL,CAAWG,cAAX,CAA0BrB,OAA1B,CAAkC,GAAjD;EACD;;AAzBoC,CAAhC","names":["ObjectExt","stroke","qualify","isPlainObject","set","view","cell","options","Object","isEdge","type","edgeView","source","sourcePoint","target","targetPoint","id","attrs","x1","x","y1","y","x2","y2","gradientUnits","graph","defs","remove","defineGradient"],"sourceRoot":"","sources":["../../../src/registry/attr/stroke.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}