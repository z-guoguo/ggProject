{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport { mat4, vec3 } from 'gl-matrix';\n/**\n * 保存相机状态，便于后续在多个 Landmark 间移动\n */\n\nvar Landmark = /*#__PURE__*/function () {\n  function Landmark(name, c) {\n    _classCallCheck(this, Landmark);\n\n    this.name = void 0;\n    this.matrix = void 0;\n    this.right = void 0;\n    this.up = void 0;\n    this.forward = void 0;\n    this.position = void 0;\n    this.focalPoint = void 0;\n    this.distanceVector = void 0;\n    this.distance = void 0;\n    this.dollyingStep = void 0;\n    this.azimuth = 0;\n    this.elevation = 0;\n    this.roll = 0;\n    this.relAzimuth = 0;\n    this.relElevation = 0;\n    this.relRoll = 0;\n    this.name = name;\n    this.matrix = mat4.clone(c.matrix);\n    this.right = vec3.clone(c.right);\n    this.up = vec3.clone(c.up);\n    this.forward = vec3.clone(c.forward);\n    this.position = vec3.clone(c.position);\n    this.focalPoint = vec3.clone(c.focalPoint);\n    this.distanceVector = vec3.clone(c.distanceVector);\n    this.azimuth = c.azimuth;\n    this.elevation = c.elevation;\n    this.roll = c.roll;\n    this.relAzimuth = c.relAzimuth;\n    this.relElevation = c.relElevation;\n    this.relRoll = c.relRoll;\n    this.dollyingStep = c.dollyingStep;\n    this.distance = c.distance;\n  }\n\n  _createClass(Landmark, [{\n    key: \"getPosition\",\n    value: function getPosition() {\n      return this.position;\n    }\n  }, {\n    key: \"getFocalPoint\",\n    value: function getFocalPoint() {\n      return this.focalPoint;\n    }\n  }, {\n    key: \"getRoll\",\n    value: function getRoll() {\n      return this.roll;\n    }\n  }, {\n    key: \"retrieve\",\n    value: function retrieve(c) {\n      c.matrix = mat4.copy(c.matrix, this.matrix);\n      c.right = vec3.copy(c.right, this.right);\n      c.up = vec3.copy(c.up, this.up);\n      c.forward = vec3.copy(c.forward, this.forward);\n      c.position = vec3.copy(c.position, this.position);\n      c.focalPoint = vec3.copy(c.focalPoint, this.focalPoint);\n      c.distanceVector = vec3.copy(c.distanceVector, this.distanceVector);\n      c.azimuth = this.azimuth;\n      c.elevation = this.elevation;\n      c.roll = this.roll;\n      c.relAzimuth = this.relAzimuth;\n      c.relElevation = this.relElevation;\n      c.relRoll = this.relRoll;\n      c.dollyingStep = this.dollyingStep;\n      c.distance = this.distance;\n    }\n  }]);\n\n  return Landmark;\n}();\n\nexport { Landmark as default };","map":{"version":3,"mappings":"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","names":["mat4","vec3","Landmark","name","c","_classCallCheck","matrix","right","up","forward","position","focalPoint","distanceVector","distance","dollyingStep","azimuth","elevation","roll","relAzimuth","relElevation","relRoll","clone","copy"],"sources":["../../src/camera/Landmark.ts"],"sourcesContent":["import { mat4, vec3 } from 'gl-matrix';\nimport { Camera } from './Camera';\n\n/**\n * 保存相机状态，便于后续在多个 Landmark 间移动\n */\nexport default class Landmark {\n  public name: string;\n\n  private matrix: mat4;\n  private right: vec3;\n  private up: vec3;\n  private forward: vec3;\n  private position: vec3;\n  private focalPoint: vec3;\n  private distanceVector: vec3;\n  private distance: number;\n  private dollyingStep: number;\n  private azimuth = 0;\n  private elevation = 0;\n  private roll = 0;\n  private relAzimuth = 0;\n  private relElevation = 0;\n  private relRoll = 0;\n\n  constructor(name: string, c: Camera) {\n    this.name = name;\n\n    this.matrix = mat4.clone(c.matrix);\n    this.right = vec3.clone(c.right);\n    this.up = vec3.clone(c.up);\n    this.forward = vec3.clone(c.forward);\n    this.position = vec3.clone(c.position);\n    this.focalPoint = vec3.clone(c.focalPoint);\n    this.distanceVector = vec3.clone(c.distanceVector);\n\n    this.azimuth = c.azimuth;\n    this.elevation = c.elevation;\n    this.roll = c.roll;\n    this.relAzimuth = c.relAzimuth;\n    this.relElevation = c.relElevation;\n    this.relRoll = c.relRoll;\n    this.dollyingStep = c.dollyingStep;\n    this.distance = c.distance;\n  }\n\n  public getPosition() {\n    return this.position;\n  }\n\n  public getFocalPoint() {\n    return this.focalPoint;\n  }\n\n  public getRoll() {\n    return this.roll;\n  }\n\n  public retrieve(c: Camera) {\n    c.matrix = mat4.copy(c.matrix, this.matrix);\n    c.right = vec3.copy(c.right, this.right);\n    c.up = vec3.copy(c.up, this.up);\n    c.forward = vec3.copy(c.forward, this.forward);\n    c.position = vec3.copy(c.position, this.position);\n    c.focalPoint = vec3.copy(c.focalPoint, this.focalPoint);\n    c.distanceVector = vec3.copy(c.distanceVector, this.distanceVector);\n\n    c.azimuth = this.azimuth;\n    c.elevation = this.elevation;\n    c.roll = this.roll;\n    c.relAzimuth = this.relAzimuth;\n    c.relElevation = this.relElevation;\n    c.relRoll = this.relRoll;\n    c.dollyingStep = this.dollyingStep;\n    c.distance = this.distance;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}