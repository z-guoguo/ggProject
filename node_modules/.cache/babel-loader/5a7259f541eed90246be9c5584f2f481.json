{"ast":null,"code":"import { __assign, __rest } from \"tslib\";\nimport { registerNode, BaseGlobal as Global } from '@antv/g6-core';\nimport { mix } from '@antv/util'; // 五角星shape\n\nregisterNode('star', {\n  // 自定义节点时的配置\n  options: {\n    size: 60,\n    style: {\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize,\n        fontFamily: Global.windowFontFamily\n      }\n    },\n    // 节点上左右上下四个方向上的链接circle配置\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle的大小\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // 节点中icon配置\n    icon: {\n      // 是否显示icon，值为 false 则不渲染icon\n      show: false,\n      // icon的地址，字符串类型\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'star',\n  // 文本位置\n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var _a = (this.mergeStyle || this.getOptions(cfg)).icon,\n        icon = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('path', {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      name: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true\n    });\n    group['shapeMap'][\"\".concat(this.type, \"-keyShape\")] = keyShape;\n    var w = icon.width,\n        h = icon.height,\n        show = icon.show,\n        text = icon.text;\n\n    if (show) {\n      if (text) {\n        group['shapeMap'][\"\".concat(this.type, \"-icon\")] = group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      } else {\n        group['shapeMap'][\"\".concat(this.type, \"-icon\")] = group.addShape('image', {\n          attrs: __assign({\n            x: -w / 2,\n            y: -h / 2\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      }\n    }\n\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * 绘制节点上的LinkPoints\n   * @param {Object} cfg data数据配置项\n   * @param {Group} group Group实例\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = (this.mergeStyle || this.getOptions(cfg)).linkPoints,\n        linkPoints = _a === void 0 ? {} : _a;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        leftBottom = linkPoints.leftBottom,\n        rightBottom = linkPoints.rightBottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"leftBottom\", \"rightBottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n\n    if (right) {\n      // right circle\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 0) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 0) / 180 * Math.PI) * outerR;\n      group['shapeMap']['link-point-right'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right'\n      });\n    }\n\n    if (top) {\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 1) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 1) / 180 * Math.PI) * outerR; // top circle\n\n      group['shapeMap']['link-point-top'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top'\n      });\n    }\n\n    if (left) {\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 2) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 2) / 180 * Math.PI) * outerR; // left circle\n\n      group['shapeMap']['link-point-left'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left'\n      });\n    }\n\n    if (leftBottom) {\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 3) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 3) / 180 * Math.PI) * outerR; // left bottom circle\n\n      group['shapeMap']['link-point-bottom'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left-bottom',\n        name: 'link-point-left-bottom'\n      });\n    }\n\n    if (rightBottom) {\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 4) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 4) / 180 * Math.PI) * outerR; // left bottom circle\n\n      group['shapeMap']['link-point-right-bottom'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right-bottom',\n        name: 'link-point-right-bottom'\n      });\n    }\n  },\n  getPath: function getPath(cfg) {\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n    var defaultInnerR = outerR * 3 / 8;\n    var innerR = cfg.innerR || defaultInnerR;\n    var path = [];\n\n    for (var i = 0; i < 5; i++) {\n      var x1 = Math.cos((18 + 72 * i) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * i) / 180 * Math.PI) * outerR;\n      var x2 = Math.cos((54 + 72 * i) / 180 * Math.PI) * innerR;\n      var y2 = Math.sin((54 + 72 * i) / 180 * Math.PI) * innerR;\n\n      if (i === 0) {\n        path.push(['M', x1, -y1]);\n      } else {\n        path.push(['L', x1, -y1]);\n      }\n\n      path.push(['L', x2, -y2]);\n    }\n\n    path.push(['Z']);\n    return path;\n  },\n\n  /**\n   * 获取节点的样式，供基于该节点自定义时使用\n   * @param {Object} cfg 节点数据模型\n   * @return {Object} 节点的样式\n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = (this.mergeStyle || this.getOptions(cfg)).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // 如果设置了color，则覆盖原来默认的 stroke 属性。但 cfg 中但 stroke 属性优先级更高\n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var path = this.getPath(cfg);\n\n    var styles = __assign({\n      path: path\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item, updateType) {\n    var group = item.getContainer(); // 这里不传 cfg 参数是因为 cfg.style 需要最后覆盖样式\n\n    var defaultStyle = this.getOptions({}).style;\n    var path = this.getPath(cfg); // 下面这些属性需要覆盖默认样式与目前样式，但若在 cfg 中有指定则应该被 cfg 的相应配置覆盖。\n\n    var strokeStyle = {\n      stroke: cfg.color,\n      path: path\n    }; // 与 getShapeStyle 不同在于，update 时需要获取到当前的 style 进行融合。即新传入的配置项中没有涉及的属性，保留当前的配置。\n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, true, updateType);\n    this.updateLinkPoints(cfg, group);\n  },\n\n  /**\n   * 更新linkPoints\n   * @param {Object} cfg 节点数据配置项\n   * @param {Group} group Item所在的group\n   */\n  updateLinkPoints: function updateLinkPoints(cfg, group) {\n    var defaultLinkPoints = this.getOptions({}).linkPoints;\n    var markLeft = group['shapeMap']['link-point-left'] || group.find(function (element) {\n      return element.get('className') === 'link-point-left';\n    });\n    var markRight = group['shapeMap']['link-point-right'] || group.find(function (element) {\n      return element.get('className') === 'link-point-right';\n    });\n    var markTop = group['shapeMap']['link-point-top'] || group.find(function (element) {\n      return element.get('className') === 'link-point-top';\n    });\n    var markLeftBottom = group['shapeMap']['link-point-left-bottom'] || group.find(function (element) {\n      return element.get('className') === 'link-point-left-bottom';\n    });\n    var markRightBottom = group['shapeMap']['link-point-left-bottom'] || group.find(function (element) {\n      return element.get('className') === 'link-point-right-bottom';\n    });\n    var currentLinkPoints = defaultLinkPoints;\n    var existLinkPoint = markLeft || markRight || markTop || markLeftBottom || markRightBottom;\n\n    if (existLinkPoint) {\n      currentLinkPoints = existLinkPoint.attr();\n    }\n\n    var linkPoints = mix({}, currentLinkPoints, cfg.linkPoints);\n    var markFill = linkPoints.fill,\n        markStroke = linkPoints.stroke,\n        borderWidth = linkPoints.lineWidth;\n    var markSize = linkPoints.size / 2;\n    if (!markSize) markSize = linkPoints.r;\n\n    var _a = cfg.linkPoints ? cfg.linkPoints : {\n      left: undefined,\n      right: undefined,\n      top: undefined,\n      leftBottom: undefined,\n      rightBottom: undefined\n    },\n        left = _a.left,\n        right = _a.right,\n        top = _a.top,\n        leftBottom = _a.leftBottom,\n        rightBottom = _a.rightBottom;\n\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n    var styles = {\n      r: markSize,\n      fill: markFill,\n      stroke: markStroke,\n      lineWidth: borderWidth\n    };\n    var x = Math.cos((18 + 72 * 0) / 180 * Math.PI) * outerR;\n    var y = Math.sin((18 + 72 * 0) / 180 * Math.PI) * outerR;\n\n    if (markRight) {\n      if (!right && right !== undefined) {\n        markRight.remove();\n        delete group['shapeMap']['link-point-right'];\n      } else {\n        markRight.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (right) {\n      group['shapeMap']['link-point-right'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 1) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 1) / 180 * Math.PI) * outerR;\n\n    if (markTop) {\n      if (!top && top !== undefined) {\n        markTop.remove();\n        delete group['shapeMap']['link-point-top'];\n      } else {\n        markTop.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (top) {\n      group['shapeMap']['link-point-top'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 2) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 2) / 180 * Math.PI) * outerR;\n\n    if (markLeft) {\n      if (!left && left !== undefined) {\n        markLeft.remove();\n        delete group['shapeMap']['link-point-left'];\n      } else {\n        markLeft.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (left) {\n      group['shapeMap']['link-point-left'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 3) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 3) / 180 * Math.PI) * outerR;\n\n    if (markLeftBottom) {\n      if (!leftBottom && leftBottom !== undefined) {\n        markLeftBottom.remove();\n        delete group['shapeMap']['link-point-left-bottom'];\n      } else {\n        markLeftBottom.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (leftBottom) {\n      group['shapeMap']['link-point-left-bottom'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-left-bottom',\n        name: 'link-point-left-bottom',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 4) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 4) / 180 * Math.PI) * outerR;\n\n    if (markRightBottom) {\n      if (!rightBottom && rightBottom !== undefined) {\n        markRightBottom.remove();\n        delete group['shapeMap']['link-point-right-bottom'];\n      } else {\n        markRightBottom.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (rightBottom) {\n      group['shapeMap']['link-point-right-bottom'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-right-bottom',\n        name: 'link-point-right-bottom',\n        isAnchorPoint: true\n      });\n    }\n  }\n}, 'single-node');","map":{"version":3,"names":["__assign","__rest","registerNode","BaseGlobal","Global","mix","options","size","style","stroke","defaultNode","fill","lineWidth","labelCfg","nodeLabel","fontSize","fontFamily","windowFontFamily","linkPoints","top","right","bottom","left","icon","show","img","width","height","stateStyles","nodeStateStyles","shapeType","labelPosition","drawShape","cfg","group","_a","mergeStyle","getOptions","getShapeStyle","keyShape","addShape","attrs","className","concat","type","name","draggable","w","h","text","x","y","textBaseline","textAlign","drawLinkPoints","leftBottom","rightBottom","markSize","markR","r","markStyle","getSize","outerR","x1","Math","cos","PI","y1","sin","getPath","defaultInnerR","innerR","path","i","x2","y2","push","defaultStyle","strokeStyle","color","styles","update","item","updateType","getContainer","get","attr","updateShape","updateLinkPoints","defaultLinkPoints","markLeft","find","element","markRight","markTop","markLeftBottom","markRightBottom","currentLinkPoints","existLinkPoint","markFill","markStroke","borderWidth","undefined","remove","isAnchorPoint"],"sources":["/Users/wawalike/Desktop/ggProject/node_modules/@antv/g6-element/es/nodes/star.js"],"sourcesContent":["import { __assign, __rest } from \"tslib\";\nimport { registerNode, BaseGlobal as Global } from '@antv/g6-core';\nimport { mix } from '@antv/util'; // 五角星shape\n\nregisterNode('star', {\n  // 自定义节点时的配置\n  options: {\n    size: 60,\n    style: {\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize,\n        fontFamily: Global.windowFontFamily\n      }\n    },\n    // 节点上左右上下四个方向上的链接circle配置\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle的大小\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // 节点中icon配置\n    icon: {\n      // 是否显示icon，值为 false 则不渲染icon\n      show: false,\n      // icon的地址，字符串类型\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'star',\n  // 文本位置\n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var _a = (this.mergeStyle || this.getOptions(cfg)).icon,\n        icon = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('path', {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      name: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true\n    });\n    group['shapeMap'][\"\".concat(this.type, \"-keyShape\")] = keyShape;\n    var w = icon.width,\n        h = icon.height,\n        show = icon.show,\n        text = icon.text;\n\n    if (show) {\n      if (text) {\n        group['shapeMap'][\"\".concat(this.type, \"-icon\")] = group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      } else {\n        group['shapeMap'][\"\".concat(this.type, \"-icon\")] = group.addShape('image', {\n          attrs: __assign({\n            x: -w / 2,\n            y: -h / 2\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      }\n    }\n\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * 绘制节点上的LinkPoints\n   * @param {Object} cfg data数据配置项\n   * @param {Group} group Group实例\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = (this.mergeStyle || this.getOptions(cfg)).linkPoints,\n        linkPoints = _a === void 0 ? {} : _a;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        leftBottom = linkPoints.leftBottom,\n        rightBottom = linkPoints.rightBottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"leftBottom\", \"rightBottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n\n    if (right) {\n      // right circle\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 0) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 0) / 180 * Math.PI) * outerR;\n      group['shapeMap']['link-point-right'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right'\n      });\n    }\n\n    if (top) {\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 1) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 1) / 180 * Math.PI) * outerR; // top circle\n\n      group['shapeMap']['link-point-top'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top'\n      });\n    }\n\n    if (left) {\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 2) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 2) / 180 * Math.PI) * outerR; // left circle\n\n      group['shapeMap']['link-point-left'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left'\n      });\n    }\n\n    if (leftBottom) {\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 3) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 3) / 180 * Math.PI) * outerR; // left bottom circle\n\n      group['shapeMap']['link-point-bottom'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left-bottom',\n        name: 'link-point-left-bottom'\n      });\n    }\n\n    if (rightBottom) {\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 4) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 4) / 180 * Math.PI) * outerR; // left bottom circle\n\n      group['shapeMap']['link-point-right-bottom'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right-bottom',\n        name: 'link-point-right-bottom'\n      });\n    }\n  },\n  getPath: function getPath(cfg) {\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n    var defaultInnerR = outerR * 3 / 8;\n    var innerR = cfg.innerR || defaultInnerR;\n    var path = [];\n\n    for (var i = 0; i < 5; i++) {\n      var x1 = Math.cos((18 + 72 * i) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * i) / 180 * Math.PI) * outerR;\n      var x2 = Math.cos((54 + 72 * i) / 180 * Math.PI) * innerR;\n      var y2 = Math.sin((54 + 72 * i) / 180 * Math.PI) * innerR;\n\n      if (i === 0) {\n        path.push(['M', x1, -y1]);\n      } else {\n        path.push(['L', x1, -y1]);\n      }\n\n      path.push(['L', x2, -y2]);\n    }\n\n    path.push(['Z']);\n    return path;\n  },\n\n  /**\n   * 获取节点的样式，供基于该节点自定义时使用\n   * @param {Object} cfg 节点数据模型\n   * @return {Object} 节点的样式\n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = (this.mergeStyle || this.getOptions(cfg)).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // 如果设置了color，则覆盖原来默认的 stroke 属性。但 cfg 中但 stroke 属性优先级更高\n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var path = this.getPath(cfg);\n\n    var styles = __assign({\n      path: path\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item, updateType) {\n    var group = item.getContainer(); // 这里不传 cfg 参数是因为 cfg.style 需要最后覆盖样式\n\n    var defaultStyle = this.getOptions({}).style;\n    var path = this.getPath(cfg); // 下面这些属性需要覆盖默认样式与目前样式，但若在 cfg 中有指定则应该被 cfg 的相应配置覆盖。\n\n    var strokeStyle = {\n      stroke: cfg.color,\n      path: path\n    }; // 与 getShapeStyle 不同在于，update 时需要获取到当前的 style 进行融合。即新传入的配置项中没有涉及的属性，保留当前的配置。\n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, true, updateType);\n    this.updateLinkPoints(cfg, group);\n  },\n\n  /**\n   * 更新linkPoints\n   * @param {Object} cfg 节点数据配置项\n   * @param {Group} group Item所在的group\n   */\n  updateLinkPoints: function updateLinkPoints(cfg, group) {\n    var defaultLinkPoints = this.getOptions({}).linkPoints;\n    var markLeft = group['shapeMap']['link-point-left'] || group.find(function (element) {\n      return element.get('className') === 'link-point-left';\n    });\n    var markRight = group['shapeMap']['link-point-right'] || group.find(function (element) {\n      return element.get('className') === 'link-point-right';\n    });\n    var markTop = group['shapeMap']['link-point-top'] || group.find(function (element) {\n      return element.get('className') === 'link-point-top';\n    });\n    var markLeftBottom = group['shapeMap']['link-point-left-bottom'] || group.find(function (element) {\n      return element.get('className') === 'link-point-left-bottom';\n    });\n    var markRightBottom = group['shapeMap']['link-point-left-bottom'] || group.find(function (element) {\n      return element.get('className') === 'link-point-right-bottom';\n    });\n    var currentLinkPoints = defaultLinkPoints;\n    var existLinkPoint = markLeft || markRight || markTop || markLeftBottom || markRightBottom;\n\n    if (existLinkPoint) {\n      currentLinkPoints = existLinkPoint.attr();\n    }\n\n    var linkPoints = mix({}, currentLinkPoints, cfg.linkPoints);\n    var markFill = linkPoints.fill,\n        markStroke = linkPoints.stroke,\n        borderWidth = linkPoints.lineWidth;\n    var markSize = linkPoints.size / 2;\n    if (!markSize) markSize = linkPoints.r;\n\n    var _a = cfg.linkPoints ? cfg.linkPoints : {\n      left: undefined,\n      right: undefined,\n      top: undefined,\n      leftBottom: undefined,\n      rightBottom: undefined\n    },\n        left = _a.left,\n        right = _a.right,\n        top = _a.top,\n        leftBottom = _a.leftBottom,\n        rightBottom = _a.rightBottom;\n\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n    var styles = {\n      r: markSize,\n      fill: markFill,\n      stroke: markStroke,\n      lineWidth: borderWidth\n    };\n    var x = Math.cos((18 + 72 * 0) / 180 * Math.PI) * outerR;\n    var y = Math.sin((18 + 72 * 0) / 180 * Math.PI) * outerR;\n\n    if (markRight) {\n      if (!right && right !== undefined) {\n        markRight.remove();\n        delete group['shapeMap']['link-point-right'];\n      } else {\n        markRight.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (right) {\n      group['shapeMap']['link-point-right'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 1) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 1) / 180 * Math.PI) * outerR;\n\n    if (markTop) {\n      if (!top && top !== undefined) {\n        markTop.remove();\n        delete group['shapeMap']['link-point-top'];\n      } else {\n        markTop.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (top) {\n      group['shapeMap']['link-point-top'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 2) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 2) / 180 * Math.PI) * outerR;\n\n    if (markLeft) {\n      if (!left && left !== undefined) {\n        markLeft.remove();\n        delete group['shapeMap']['link-point-left'];\n      } else {\n        markLeft.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (left) {\n      group['shapeMap']['link-point-left'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 3) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 3) / 180 * Math.PI) * outerR;\n\n    if (markLeftBottom) {\n      if (!leftBottom && leftBottom !== undefined) {\n        markLeftBottom.remove();\n        delete group['shapeMap']['link-point-left-bottom'];\n      } else {\n        markLeftBottom.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (leftBottom) {\n      group['shapeMap']['link-point-left-bottom'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-left-bottom',\n        name: 'link-point-left-bottom',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 4) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 4) / 180 * Math.PI) * outerR;\n\n    if (markRightBottom) {\n      if (!rightBottom && rightBottom !== undefined) {\n        markRightBottom.remove();\n        delete group['shapeMap']['link-point-right-bottom'];\n      } else {\n        markRightBottom.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (rightBottom) {\n      group['shapeMap']['link-point-right-bottom'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-right-bottom',\n        name: 'link-point-right-bottom',\n        isAnchorPoint: true\n      });\n    }\n  }\n}, 'single-node');"],"mappings":"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"},"metadata":{},"sourceType":"module"}