{"ast":null,"code":"import { modifyCSS, createDom } from '@antv/dom-util';\nexport default {\n  onMouseEnter: function onMouseEnter(e) {\n    var item = e.item;\n    this.currentTarget = item;\n    this.showTooltip(e);\n    this.graph.emit('tooltipchange', {\n      item: e.item,\n      action: 'show'\n    });\n  },\n  onMouseMove: function onMouseMove(e) {\n    if (!this.shouldUpdate(e)) {\n      this.hideTooltip();\n      return;\n    }\n\n    if (!this.currentTarget || e.item !== this.currentTarget) {\n      return;\n    }\n\n    this.updatePosition(e);\n  },\n  onMouseLeave: function onMouseLeave(e) {\n    if (!this.shouldEnd(e)) {\n      return;\n    }\n\n    this.hideTooltip();\n    this.graph.emit('tooltipchange', {\n      item: this.currentTarget,\n      action: 'hide'\n    });\n    this.currentTarget = null;\n  },\n  showTooltip: function showTooltip(e) {\n    var container = this.container;\n\n    if (!e.item || e.item.destroyed) {\n      return;\n    }\n\n    if (!container) {\n      container = this.createTooltip(this.graph.get('canvas'));\n      this.container = container;\n    }\n\n    var text = this.formatText(e.item.get('model'), e);\n    container.innerHTML = text;\n    modifyCSS(this.container, {\n      visibility: 'visible'\n    });\n    this.updatePosition(e);\n  },\n  hideTooltip: function hideTooltip() {\n    modifyCSS(this.container, {\n      visibility: 'hidden'\n    });\n  },\n  updatePosition: function updatePosition(e) {\n    var shouldBegin = this.get('shouldBegin');\n\n    var _a = this,\n        width = _a.width,\n        height = _a.height,\n        container = _a.container,\n        graph = _a.graph;\n\n    if (!shouldBegin(e)) {\n      modifyCSS(container, {\n        visibility: 'hidden'\n      });\n      return;\n    }\n\n    var point = graph.getPointByClient(e.clientX, e.clientY);\n\n    var _b = graph.getCanvasByPoint(point.x, point.y),\n        x = _b.x,\n        y = _b.y;\n\n    var bbox = container.getBoundingClientRect();\n\n    if (x > width / 2) {\n      x -= bbox.width;\n    } else {\n      x += this.offset;\n    }\n\n    if (y > height / 2) {\n      y -= bbox.height;\n    } else {\n      y += this.offset;\n    }\n\n    var left = \"\".concat(x, \"px\");\n    var top = \"\".concat(y, \"px\");\n    modifyCSS(this.container, {\n      left: left,\n      top: top,\n      visibility: 'visible'\n    });\n  },\n  createTooltip: function createTooltip(canvas) {\n    var el = canvas.get('el');\n    el.style.position = 'relative';\n    var container = createDom(\"<div class=\\\"g6-tooltip g6-\".concat(this.item, \"-tooltip\\\"></div>\"));\n    el.parentNode.appendChild(container);\n    modifyCSS(container, {\n      position: 'absolute',\n      visibility: 'visible'\n    });\n    this.width = canvas.get('width');\n    this.height = canvas.get('height');\n    this.container = container;\n    this.graph.get('tooltips').push(container);\n    return container;\n  }\n};","map":{"version":3,"names":["modifyCSS","createDom","onMouseEnter","e","item","currentTarget","showTooltip","graph","emit","action","onMouseMove","shouldUpdate","hideTooltip","updatePosition","onMouseLeave","shouldEnd","container","destroyed","createTooltip","get","text","formatText","innerHTML","visibility","shouldBegin","_a","width","height","point","getPointByClient","clientX","clientY","_b","getCanvasByPoint","x","y","bbox","getBoundingClientRect","offset","left","concat","top","canvas","el","style","position","parentNode","appendChild","push"],"sources":["/Users/wawalike/Desktop/ggProject/node_modules/@antv/g6-pc/es/behavior/tooltip-base.js"],"sourcesContent":["import { modifyCSS, createDom } from '@antv/dom-util';\nexport default {\n  onMouseEnter: function onMouseEnter(e) {\n    var item = e.item;\n    this.currentTarget = item;\n    this.showTooltip(e);\n    this.graph.emit('tooltipchange', {\n      item: e.item,\n      action: 'show'\n    });\n  },\n  onMouseMove: function onMouseMove(e) {\n    if (!this.shouldUpdate(e)) {\n      this.hideTooltip();\n      return;\n    }\n\n    if (!this.currentTarget || e.item !== this.currentTarget) {\n      return;\n    }\n\n    this.updatePosition(e);\n  },\n  onMouseLeave: function onMouseLeave(e) {\n    if (!this.shouldEnd(e)) {\n      return;\n    }\n\n    this.hideTooltip();\n    this.graph.emit('tooltipchange', {\n      item: this.currentTarget,\n      action: 'hide'\n    });\n    this.currentTarget = null;\n  },\n  showTooltip: function showTooltip(e) {\n    var container = this.container;\n\n    if (!e.item || e.item.destroyed) {\n      return;\n    }\n\n    if (!container) {\n      container = this.createTooltip(this.graph.get('canvas'));\n      this.container = container;\n    }\n\n    var text = this.formatText(e.item.get('model'), e);\n    container.innerHTML = text;\n    modifyCSS(this.container, {\n      visibility: 'visible'\n    });\n    this.updatePosition(e);\n  },\n  hideTooltip: function hideTooltip() {\n    modifyCSS(this.container, {\n      visibility: 'hidden'\n    });\n  },\n  updatePosition: function updatePosition(e) {\n    var shouldBegin = this.get('shouldBegin');\n\n    var _a = this,\n        width = _a.width,\n        height = _a.height,\n        container = _a.container,\n        graph = _a.graph;\n\n    if (!shouldBegin(e)) {\n      modifyCSS(container, {\n        visibility: 'hidden'\n      });\n      return;\n    }\n\n    var point = graph.getPointByClient(e.clientX, e.clientY);\n\n    var _b = graph.getCanvasByPoint(point.x, point.y),\n        x = _b.x,\n        y = _b.y;\n\n    var bbox = container.getBoundingClientRect();\n\n    if (x > width / 2) {\n      x -= bbox.width;\n    } else {\n      x += this.offset;\n    }\n\n    if (y > height / 2) {\n      y -= bbox.height;\n    } else {\n      y += this.offset;\n    }\n\n    var left = \"\".concat(x, \"px\");\n    var top = \"\".concat(y, \"px\");\n    modifyCSS(this.container, {\n      left: left,\n      top: top,\n      visibility: 'visible'\n    });\n  },\n  createTooltip: function createTooltip(canvas) {\n    var el = canvas.get('el');\n    el.style.position = 'relative';\n    var container = createDom(\"<div class=\\\"g6-tooltip g6-\".concat(this.item, \"-tooltip\\\"></div>\"));\n    el.parentNode.appendChild(container);\n    modifyCSS(container, {\n      position: 'absolute',\n      visibility: 'visible'\n    });\n    this.width = canvas.get('width');\n    this.height = canvas.get('height');\n    this.container = container;\n    this.graph.get('tooltips').push(container);\n    return container;\n  }\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}