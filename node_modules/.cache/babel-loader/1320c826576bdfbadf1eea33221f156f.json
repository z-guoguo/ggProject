{"ast":null,"code":"/**\n * @fileoverview marker\n * @author dengfuping_develop@163.com\n */\nimport { __extends } from \"tslib\";\nimport { isArray, isFunction } from '@antv/util';\nimport ShapeBase from '../base';\nimport symbolsFactory from './symbols';\n\nvar Marker =\n/** @class */\nfunction (_super) {\n  __extends(Marker, _super);\n\n  function Marker() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'marker';\n    _this.canFill = true;\n    _this.canStroke = true;\n    return _this;\n  }\n\n  Marker.prototype.createPath = function (context) {\n    var el = this.get('el');\n    el.setAttribute('d', this._assembleMarker());\n  };\n\n  Marker.prototype._assembleMarker = function () {\n    var d = this._getPath();\n\n    if (isArray(d)) {\n      return d.map(function (path) {\n        return path.join(' ');\n      }).join('');\n    }\n\n    return d;\n  };\n\n  Marker.prototype._getPath = function () {\n    var attrs = this.attr();\n    var x = attrs.x,\n        y = attrs.y; // 兼容 r 和 radius 两种写法，推荐使用 r\n\n    var r = attrs.r || attrs.radius;\n    var symbol = attrs.symbol || 'circle';\n    var method;\n\n    if (isFunction(symbol)) {\n      method = symbol;\n    } else {\n      method = symbolsFactory.get(symbol);\n    }\n\n    if (!method) {\n      console.warn(method + \" symbol is not exist.\");\n      return null;\n    }\n\n    return method(x, y, r);\n  }; // 作为其静态属性\n\n\n  Marker.symbolsFactory = symbolsFactory;\n  return Marker;\n}(ShapeBase);\n\nexport default Marker;","map":{"version":3,"mappings":"AAAA;;;;;AAKA,SAASA,OAAT,EAAkBC,UAAlB,QAAoC,YAApC;AACA,OAAOC,SAAP,MAAsB,SAAtB;AACA,OAAOC,cAAP,MAA2B,WAA3B;;AAEA;AAAA;AAAA;EAAqBC;;EAArB;IAAA;;IACEC,aAAe,QAAf;IACAA,gBAAmB,IAAnB;IACAA,kBAAqB,IAArB;;EAyCD;;EApCCC,wCAAWC,OAAX,EAAkB;IAChB,IAAMC,EAAE,GAAG,KAAKC,GAAL,CAAS,IAAT,CAAX;IACAD,EAAE,CAACE,YAAH,CAAgB,GAAhB,EAAqB,KAAKC,eAAL,EAArB;EACD,CAHD;;EAKAL;IACE,IAAMM,CAAC,GAAG,KAAKC,QAAL,EAAV;;IACA,IAAIb,OAAO,CAACY,CAAD,CAAX,EAAgB;MACd,OAAOA,CAAC,CACLE,GADI,CACA,UAACC,IAAD,EAAK;QACR,OAAOA,IAAI,CAACC,IAAL,CAAU,GAAV,CAAP;MACD,CAHI,EAIJA,IAJI,CAIC,EAJD,CAAP;IAKD;;IACD,OAAOJ,CAAP;EACD,CAVD;;EAYAN;IACE,IAAMW,KAAK,GAAG,KAAKC,IAAL,EAAd;IACQ,KAAC,GAAQD,KAAK,EAAd;IAAA,IAAGE,CAAC,GAAKF,KAAK,EAAd,CAFV,CAGE;;IACA,IAAMG,CAAC,GAAGH,KAAK,CAACG,CAAN,IAAWH,KAAK,CAACI,MAA3B;IACA,IAAMC,MAAM,GAAGL,KAAK,CAACK,MAAN,IAAgB,QAA/B;IACA,IAAIC,MAAJ;;IACA,IAAItB,UAAU,CAACqB,MAAD,CAAd,EAAwB;MACtBC,MAAM,GAAGD,MAAT;IACD,CAFD,MAEO;MACLC,MAAM,GAAGpB,cAAc,CAACM,GAAf,CAAmBa,MAAnB,CAAT;IACD;;IAED,IAAI,CAACC,MAAL,EAAa;MACXC,OAAO,CAACC,IAAR,CAAgBF,MAAM,0BAAtB;MACA,OAAO,IAAP;IACD;;IACD,OAAOA,MAAM,CAACG,CAAD,EAAIP,CAAJ,EAAOC,CAAP,CAAb;EACD,CAlBD,CAzBF,CAKE;;;EACcd,wBAAiBH,cAAjB;EAsChB;AAAC,CA5CD,CAAqBD,SAArB;;AA8CA,eAAeI,MAAf","names":["isArray","isFunction","ShapeBase","symbolsFactory","__extends","_this","Marker","context","el","get","setAttribute","_assembleMarker","d","_getPath","map","path","join","attrs","attr","y","r","radius","symbol","method","console","warn","x"],"sourceRoot":"","sources":["../../../src/shape/marker/index.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}