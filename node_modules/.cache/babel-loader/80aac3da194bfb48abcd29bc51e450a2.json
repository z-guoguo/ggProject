{"ast":null,"code":"import { __spreadArrays } from \"tslib\";\nimport values from './values';\nimport memoize from './memoize';\nimport isString from './is-string';\nvar ctx;\n/**\n * 计算文本的宽度\n */\n\nexport default memoize(function (text, font) {\n  if (font === void 0) {\n    font = {};\n  }\n\n  var fontSize = font.fontSize,\n      fontFamily = font.fontFamily,\n      fontWeight = font.fontWeight,\n      fontStyle = font.fontStyle,\n      fontVariant = font.fontVariant;\n\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  ctx.font = [fontStyle, fontVariant, fontWeight, fontSize + \"px\", fontFamily].join(' ');\n  return ctx.measureText(isString(text) ? text : '').width;\n}, function (text, font) {\n  if (font === void 0) {\n    font = {};\n  }\n\n  return __spreadArrays([text], values(font)).join('');\n});","map":{"version":3,"mappings":";AAAA,OAAOA,MAAP,MAAmB,UAAnB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,QAAP,MAAqB,aAArB;AAOA,IAAIC,GAAJ;AAEA;;;;AAGA,eAAeF,OAAO,CACpB,UAACG,IAAD,EAAYC,IAAZ,EAA2B;EAAf;IAAAA;EAAe;;EACjB,YAAQ,GAAqDA,IAAI,SAAjE;EAAA,IAAUC,UAAU,GAAyCD,IAAI,WAAjE;EAAA,IAAsBE,UAAU,GAA6BF,IAAI,WAAjE;EAAA,IAAkCG,SAAS,GAAkBH,IAAI,UAAjE;EAAA,IAA6CI,WAAW,GAAKJ,IAAI,YAAjE;;EACR,IAAI,CAACF,GAAL,EAAU;IACRA,GAAG,GAAGO,QAAQ,CAACC,aAAT,CAAuB,QAAvB,EAAiCC,UAAjC,CAA4C,IAA5C,CAAN;EACD;;EACDT,GAAI,CAACE,IAAL,GAAY,CAACG,SAAD,EAAYC,WAAZ,EAAyBF,UAAzB,EAAwCM,QAAQ,OAAhD,EAAsDP,UAAtD,EAAkEQ,IAAlE,CAAuE,GAAvE,CAAZ;EACA,OAAOX,GAAI,CAACY,WAAL,CAAiBb,QAAQ,CAACE,IAAD,CAAR,GAAiBA,IAAjB,GAAwB,EAAzC,EAA6CY,KAApD;AACD,CARmB,EASpB,UAACZ,IAAD,EAAYC,IAAZ,EAA2B;EAAf;IAAAA;EAAe;;EAAK,uBAACD,IAAD,GAAUJ,MAAM,CAACK,IAAD,CAAhB,EAAwBS,IAAxB,CAA6B,EAA7B;AAAgC,CAT5C,CAAtB","names":["values","memoize","isString","ctx","text","font","fontFamily","fontWeight","fontStyle","fontVariant","document","createElement","getContext","fontSize","join","measureText","width"],"sourceRoot":"","sources":["../src/measure-text-width.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}