{"ast":null,"code":"import { createDom } from './dom';\nexport function setShadow(model, context) {\n  var el = model.cfg.el;\n  var attrs = model.attr();\n  var cfg = {\n    dx: attrs.shadowOffsetX,\n    dy: attrs.shadowOffsetY,\n    blur: attrs.shadowBlur,\n    color: attrs.shadowColor\n  };\n\n  if (!cfg.dx && !cfg.dy && !cfg.blur && !cfg.color) {\n    el.removeAttribute('filter');\n  } else {\n    var id = context.find('filter', cfg);\n\n    if (!id) {\n      id = context.addShadow(cfg);\n    }\n\n    el.setAttribute('filter', \"url(#\" + id + \")\");\n  }\n}\nexport function setTransform(model) {\n  var matrix = model.attr().matrix;\n\n  if (matrix) {\n    var el = model.cfg.el;\n    var transform = [];\n\n    for (var i = 0; i < 9; i += 3) {\n      transform.push(matrix[i] + \",\" + matrix[i + 1]);\n    }\n\n    transform = transform.join(',');\n\n    if (transform.indexOf('NaN') === -1) {\n      el.setAttribute('transform', \"matrix(\" + transform + \")\");\n    } else {\n      console.warn('invalid matrix:', matrix);\n    }\n  }\n}\nexport function setClip(model, context) {\n  var clip = model.getClip();\n  var el = model.get('el');\n\n  if (!clip) {\n    el.removeAttribute('clip-path');\n  } else if (clip && !el.hasAttribute('clip-path')) {\n    createDom(clip);\n    clip.createPath(context);\n    var id = context.addClip(clip);\n    el.setAttribute('clip-path', \"url(#\" + id + \")\");\n  }\n}","map":{"version":3,"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;AAEA,OAAM,SAAUC,SAAV,CAAoBC,KAApB,EAA2BC,OAA3B,EAAkC;EACtC,IAAMC,EAAE,GAAGF,KAAK,CAACG,GAAN,CAAUD,EAArB;EACA,IAAME,KAAK,GAAGJ,KAAK,CAACK,IAAN,EAAd;EACA,IAAMF,GAAG,GAAG;IACVG,EAAE,EAAEF,KAAK,CAACG,aADA;IAEVC,EAAE,EAAEJ,KAAK,CAACK,aAFA;IAGVC,IAAI,EAAEN,KAAK,CAACO,UAHF;IAIVC,KAAK,EAAER,KAAK,CAACS;EAJH,CAAZ;;EAMA,IAAI,CAACV,GAAG,CAACG,EAAL,IAAW,CAACH,GAAG,CAACK,EAAhB,IAAsB,CAACL,GAAG,CAACO,IAA3B,IAAmC,CAACP,GAAG,CAACS,KAA5C,EAAmD;IACjDV,EAAE,CAACY,eAAH,CAAmB,QAAnB;EACD,CAFD,MAEO;IACL,IAAIC,EAAE,GAAGd,OAAO,CAACe,IAAR,CAAa,QAAb,EAAuBb,GAAvB,CAAT;;IACA,IAAI,CAACY,EAAL,EAAS;MACPA,EAAE,GAAGd,OAAO,CAACgB,SAAR,CAAkBd,GAAlB,CAAL;IACD;;IACDD,EAAE,CAACgB,YAAH,CAAgB,QAAhB,EAA0B,UAAQH,EAAR,GAAU,GAApC;EACD;AACF;AAED,OAAM,SAAUI,YAAV,CAAuBnB,KAAvB,EAA4B;EACxB,UAAM,GAAKA,KAAK,CAACK,IAAN,GAAYe,MAAvB;;EACR,IAAIA,MAAJ,EAAY;IACV,IAAMlB,EAAE,GAAGF,KAAK,CAACG,GAAN,CAAUD,EAArB;IACA,IAAImB,SAAS,GAAQ,EAArB;;IACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,IAAI,CAA5B,EAA+B;MAC7BD,SAAS,CAACE,IAAV,CAAkBH,MAAM,CAACE,CAAD,CAAN,GAAS,GAAT,GAAaF,MAAM,CAACE,CAAC,GAAG,CAAL,CAArC;IACD;;IACDD,SAAS,GAAGA,SAAS,CAACG,IAAV,CAAe,GAAf,CAAZ;;IACA,IAAIH,SAAS,CAACI,OAAV,CAAkB,KAAlB,MAA6B,CAAC,CAAlC,EAAqC;MACnCvB,EAAE,CAACgB,YAAH,CAAgB,WAAhB,EAA6B,YAAUG,SAAV,GAAmB,GAAhD;IACD,CAFD,MAEO;MACLK,OAAO,CAACC,IAAR,CAAa,iBAAb,EAAgCP,MAAhC;IACD;EACF;AACF;AAED,OAAM,SAAUQ,OAAV,CAAkB5B,KAAlB,EAAyBC,OAAzB,EAAgC;EACpC,IAAM4B,IAAI,GAAG7B,KAAK,CAAC8B,OAAN,EAAb;EACA,IAAM5B,EAAE,GAAGF,KAAK,CAAC+B,GAAN,CAAU,IAAV,CAAX;;EACA,IAAI,CAACF,IAAL,EAAW;IACT3B,EAAE,CAACY,eAAH,CAAmB,WAAnB;EACD,CAFD,MAEO,IAAIe,IAAI,IAAI,CAAC3B,EAAE,CAAC8B,YAAH,CAAgB,WAAhB,CAAb,EAA2C;IAChDlC,SAAS,CAAC+B,IAAD,CAAT;IACAA,IAAI,CAACI,UAAL,CAAgBhC,OAAhB;IACA,IAAMc,EAAE,GAAGd,OAAO,CAACiC,OAAR,CAAgBL,IAAhB,CAAX;IACA3B,EAAE,CAACgB,YAAH,CAAgB,WAAhB,EAA6B,UAAQH,EAAR,GAAU,GAAvC;EACD;AACF","names":["createDom","setShadow","model","context","el","cfg","attrs","attr","dx","shadowOffsetX","dy","shadowOffsetY","blur","shadowBlur","color","shadowColor","removeAttribute","id","find","addShadow","setAttribute","setTransform","matrix","transform","i","push","join","indexOf","console","warn","setClip","clip","getClip","get","hasAttribute","createPath","addClip"],"sourceRoot":"","sources":["../../src/util/svg.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}