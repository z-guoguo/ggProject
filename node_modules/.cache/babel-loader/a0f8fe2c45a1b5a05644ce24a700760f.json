{"ast":null,"code":"import { createSensor } from './sensors';\nexport var SizeSensor;\n\n(function (SizeSensor) {\n  const cache = new WeakMap();\n\n  function get(element) {\n    let sensor = cache.get(element);\n\n    if (sensor) {\n      return sensor;\n    }\n\n    sensor = createSensor(element);\n    cache.set(element, sensor);\n    return sensor;\n  }\n\n  function remove(sensor) {\n    sensor.destroy();\n    cache.delete(sensor.element);\n  }\n\n  SizeSensor.bind = (element, cb) => {\n    const sensor = get(element);\n    sensor.bind(cb);\n    return () => sensor.unbind(cb);\n  };\n\n  SizeSensor.clear = element => {\n    const sensor = get(element);\n    remove(sensor);\n  };\n})(SizeSensor || (SizeSensor = {}));","map":{"version":3,"mappings":"AAAA,SAASA,YAAT,QAA6B,WAA7B;AAGA,OAAM,IAAWC,UAAX;;AAAN,WAAiBA,UAAjB,EAA2B;EACzB,MAAMC,KAAK,GAA6B,IAAIC,OAAJ,EAAxC;;EAEA,SAASC,GAAT,CAAaC,OAAb,EAA6B;IAC3B,IAAIC,MAAM,GAAGJ,KAAK,CAACE,GAAN,CAAUC,OAAV,CAAb;;IACA,IAAIC,MAAJ,EAAY;MACV,OAAOA,MAAP;IACD;;IAEDA,MAAM,GAAGN,YAAY,CAACK,OAAD,CAArB;IACAH,KAAK,CAACK,GAAN,CAAUF,OAAV,EAAmBC,MAAnB;IACA,OAAOA,MAAP;EACD;;EAED,SAASE,MAAT,CAAgBF,MAAhB,EAA8B;IAC5BA,MAAM,CAACG,OAAP;IACAP,KAAK,CAACQ,MAAN,CAAaJ,MAAM,CAACD,OAApB;EACD;;EAEYJ,kBAAO,CAACI,OAAD,EAAmBM,EAAnB,KAAmC;IACrD,MAAML,MAAM,GAAGF,GAAG,CAACC,OAAD,CAAlB;IACAC,MAAM,CAACM,IAAP,CAAYD,EAAZ;IACA,OAAO,MAAML,MAAM,CAACO,MAAP,CAAcF,EAAd,CAAb;EACD,CAJY;;EAMAV,mBAASI,OAAD,IAAqB;IACxC,MAAMC,MAAM,GAAGF,GAAG,CAACC,OAAD,CAAlB;IACAG,MAAM,CAACF,MAAD,CAAN;EACD,CAHY;AAId,CA7BD,EAAiBL,UAAU,KAAVA,UAAU,MAA3B","names":["createSensor","SizeSensor","cache","WeakMap","get","element","sensor","set","remove","destroy","delete","cb","bind","unbind"],"sourceRoot":"","sources":["../../../src/util/size-sensor/index.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}