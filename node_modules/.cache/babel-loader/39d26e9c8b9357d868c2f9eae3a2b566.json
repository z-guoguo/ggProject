{"ast":null,"code":"export const requestAnimationFrame = function () {\n  let raf;\n  const win = window;\n\n  if (win != null) {\n    raf = win.requestAnimationFrame || win.webkitRequestAnimationFrame || win.mozRequestAnimationFrame || win.oRequestAnimationFrame || win.msRequestAnimationFrame;\n\n    if (raf != null) {\n      raf = raf.bind(win);\n    }\n  }\n\n  if (raf == null) {\n    let lastTime = 0;\n\n    raf = callback => {\n      const currTime = new Date().getTime();\n      const timeToCall = Math.max(0, 16 - (currTime - lastTime));\n      const id = setTimeout(() => {\n        callback(currTime + timeToCall);\n      }, timeToCall);\n      lastTime = currTime + timeToCall;\n      return id;\n    };\n  }\n\n  return raf;\n}();\nexport const cancelAnimationFrame = function () {\n  let caf;\n  const win = window;\n\n  if (win != null) {\n    caf = win.cancelAnimationFrame || win.webkitCancelAnimationFrame || win.webkitCancelRequestAnimationFrame || win.msCancelAnimationFrame || win.msCancelRequestAnimationFrame || win.oCancelAnimationFrame || win.oCancelRequestAnimationFrame || win.mozCancelAnimationFrame || win.mozCancelRequestAnimationFrame;\n\n    if (caf) {\n      caf = caf.bind(win);\n    }\n  }\n\n  if (caf == null) {\n    caf = clearTimeout;\n  }\n\n  return caf;\n}();","map":{"version":3,"mappings":"AAAA,OAAO,MAAMA,qBAAqB,GAAI;EACpC,IAAIC,GAAJ;EAEA,MAAMC,GAAG,GAAGC,MAAZ;;EACA,IAAID,GAAG,IAAI,IAAX,EAAiB;IACfD,GAAG,GACDC,GAAG,CAACF,qBAAJ,IACAE,GAAG,CAACE,2BADJ,IAEAF,GAAG,CAACG,wBAFJ,IAGAH,GAAG,CAACI,sBAHJ,IAIAJ,GAAG,CAACK,uBALN;;IAOA,IAAIN,GAAG,IAAI,IAAX,EAAiB;MACfA,GAAG,GAAGA,GAAG,CAACO,IAAJ,CAASN,GAAT,CAAN;IACD;EACF;;EAED,IAAID,GAAG,IAAI,IAAX,EAAiB;IACf,IAAIQ,QAAQ,GAAG,CAAf;;IAEAR,GAAG,GAAIS,QAAD,IAAmC;MACvC,MAAMC,QAAQ,GAAG,IAAIC,IAAJ,GAAWC,OAAX,EAAjB;MACA,MAAMC,UAAU,GAAGC,IAAI,CAACC,GAAL,CAAS,CAAT,EAAY,MAAML,QAAQ,GAAGF,QAAjB,CAAZ,CAAnB;MACA,MAAMQ,EAAE,GAAGC,UAAU,CAAC,MAAK;QACzBR,QAAQ,CAACC,QAAQ,GAAGG,UAAZ,CAAR;MACD,CAFoB,EAElBA,UAFkB,CAArB;MAIAL,QAAQ,GAAGE,QAAQ,GAAGG,UAAtB;MAEA,OAAOG,EAAP;IACD,CAVD;EAWD;;EAED,OAAOhB,GAAP;AACD,CAlCoC,EAA9B;AAoCP,OAAO,MAAMkB,oBAAoB,GAAI;EACnC,IAAIC,GAAJ;EAEA,MAAMlB,GAAG,GAAGC,MAAZ;;EACA,IAAID,GAAG,IAAI,IAAX,EAAiB;IACfkB,GAAG,GACDlB,GAAG,CAACiB,oBAAJ,IACAjB,GAAG,CAACmB,0BADJ,IAEAnB,GAAG,CAACoB,iCAFJ,IAGApB,GAAG,CAACqB,sBAHJ,IAIArB,GAAG,CAACsB,6BAJJ,IAKAtB,GAAG,CAACuB,qBALJ,IAMAvB,GAAG,CAACwB,4BANJ,IAOAxB,GAAG,CAACyB,uBAPJ,IAQAzB,GAAG,CAAC0B,8BATN;;IAWA,IAAIR,GAAJ,EAAS;MACPA,GAAG,GAAGA,GAAG,CAACZ,IAAJ,CAASN,GAAT,CAAN;IACD;EACF;;EAED,IAAIkB,GAAG,IAAI,IAAX,EAAiB;IACfA,GAAG,GAAGS,YAAN;EACD;;EAED,OAAOT,GAAP;AACD,CA1BmC,EAA7B","names":["requestAnimationFrame","raf","win","window","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","bind","lastTime","callback","currTime","Date","getTime","timeToCall","Math","max","id","setTimeout","cancelAnimationFrame","caf","webkitCancelAnimationFrame","webkitCancelRequestAnimationFrame","msCancelAnimationFrame","msCancelRequestAnimationFrame","oCancelAnimationFrame","oCancelRequestAnimationFrame","mozCancelAnimationFrame","mozCancelRequestAnimationFrame","clearTimeout"],"sourceRoot":"","sources":["../../../src/util/dom/af.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}