{"ast":null,"code":"\"use strict\";\n/**\n * @fileOverview Force Layout Grid Align layout\n * @author wenyanqi\n */\n\nrequire(\"core-js/modules/es.error.cause.js\");\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ERLayout = void 0;\n\nvar base_1 = require(\"../base\");\n\nvar core_1 = __importDefault(require(\"./core\"));\n\nvar ERLayout =\n/** @class */\nfunction (_super) {\n  __extends(ERLayout, _super);\n\n  function ERLayout(options) {\n    var _this = _super.call(this) || this;\n\n    _this.width = 300;\n    _this.height = 300;\n    _this.nodeMinGap = 50;\n    /** 迭代结束的回调函数 */\n\n    _this.onLayoutEnd = function () {};\n\n    if (options) {\n      _this.updateCfg(options);\n    }\n\n    return _this;\n  }\n\n  ERLayout.prototype.getDefaultCfg = function () {\n    return {\n      width: 300,\n      height: 300,\n      nodeMinGap: 50\n    };\n  };\n  /**\n   * 执行布局\n   */\n\n\n  ERLayout.prototype.execute = function () {\n    var self = this;\n    var nodes = self.nodes;\n    var edges = self.edges; // 节点初始化，size初始化\n\n    nodes === null || nodes === void 0 ? void 0 : nodes.forEach(function (node) {\n      if (!node.size) {\n        node.size = [50, 50];\n      }\n    });\n    return (0, core_1.default)({\n      nodes: nodes,\n      edges: edges\n    }, {\n      width: this.width,\n      height: this.height,\n      nodeMinGap: this.nodeMinGap\n    }).then(function () {\n      if (self.onLayoutEnd) self.onLayoutEnd();\n    });\n  };\n\n  ERLayout.prototype.getType = function () {\n    return \"er\";\n  };\n\n  return ERLayout;\n}(base_1.Base);\n\nexports.ERLayout = ERLayout;","map":{"version":3,"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA;;AACA;;AAUA;AAAA;AAAA;EAA8BA;;EAS5B,kBAAYC,OAAZ,EAAyB;IAAzB,YACEC,qBAAO,IADT;;IAPOC,cAAgB,GAAhB;IACAA,eAAiB,GAAjB;IACAA,mBAAqB,EAArB;IAEP;;IACOA,oBAA0B,aAAS,CAAnC;;IAIL,IAAIF,OAAJ,EAAa;MACXE,KAAI,CAACC,SAAL,CAAeH,OAAf;IACD;;;EACF;;EAEMI,mCAAP;IACE,OAAO;MACLC,KAAK,EAAE,GADF;MAELC,MAAM,EAAE,GAFH;MAGLC,UAAU,EAAE;IAHP,CAAP;EAKD,CANM;EAQP;;;;;EAGOH,6BAAP;IACE,IAAMI,IAAI,GAAG,IAAb;IACA,IAAMC,KAAK,GAAGD,IAAI,CAACC,KAAnB;IACA,IAAMC,KAAK,GAAGF,IAAI,CAACE,KAAnB,CAHF,CAIE;;IACAD,KAAK,SAAL,SAAK,WAAL,GAAK,MAAL,QAAK,CAAEE,OAAP,CAAe,UAACC,IAAD,EAAY;MACzB,IAAI,CAACA,IAAI,CAACC,IAAV,EAAgB;QACdD,IAAI,CAACC,IAAL,GAAY,CAAC,EAAD,EAAK,EAAL,CAAZ;MACD;IACF,CAJD;IAKA,OAAO,oBAAO;MACZJ,KAAK,OADO;MACLC,KAAK;IADA,CAAP,EAEJ;MACDL,KAAK,EAAE,KAAKA,KADX;MAEDC,MAAM,EAAE,KAAKA,MAFZ;MAGDC,UAAU,EAAE,KAAKA;IAHhB,CAFI,EAMJO,IANI,CAMC;MACN,IAAIN,IAAI,CAACO,WAAT,EAAsBP,IAAI,CAACO,WAAL;IACvB,CARM,CAAP;EASD,CAnBM;;EAqBAX,6BAAP;IACE,OAAO,IAAP;EACD,CAFM;;EAGT;AAAC,CAnDD,CAA8BY,WAA9B;;AAAaC","names":["__extends","options","_super","_this","updateCfg","ERLayout","width","height","nodeMinGap","self","nodes","edges","forEach","node","size","then","onLayoutEnd","base_1","exports"],"sourceRoot":"","sources":["../../../src/layout/er/index.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}