{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { mix, isNumber, clone, isNil } from '@antv/util';\nimport Global from '../../global';\nimport Shape from '../shape';\nShape.registerCombo('rect', {\n  // 自定义 Combo 时的配置\n  options: {\n    size: [40, 5],\n    padding: [25, 20, 15, 20],\n    animate: true,\n    style: {\n      radius: 0,\n      stroke: Global.defaultCombo.style.stroke,\n      fill: Global.defaultCombo.style.fill,\n      lineWidth: Global.defaultCombo.style.lineWidth\n    },\n    // 文本样式配置\n    labelCfg: {\n      style: {\n        fill: Global.comboLabel.style.fill,\n        fontSize: Global.comboLabel.style.fontSize,\n        fontFamily: Global.windowFontFamily\n      }\n    },\n    // 连接点，默认为左右\n    anchorPoints: [[0, 0.5], [1, 0.5]],\n    stateStyles: __assign({}, Global.comboStateStyles),\n    collapsedSubstituteIcon: {\n      show: false,\n      img: 'https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ'\n    }\n  },\n  shapeType: 'rect',\n  labelPosition: 'top',\n  drawShape: function drawShape(cfg, group) {\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('rect', {\n      attrs: style,\n      className: 'rect-combo',\n      name: 'rect-combo',\n      draggable: true\n    });\n    return keyShape;\n  },\n  // 私有方法，不希望扩展的 Combo 复写这个方法\n  getLabelStyleByPosition: function getLabelStyleByPosition(cfg, labelCfg) {\n    var labelPosition = labelCfg.position || this.labelPosition;\n    var cfgStyle = cfg.style;\n    var padding = cfg.padding || this.options.padding;\n    if (isNumber(padding)) padding = [padding, padding, padding, padding];\n    var refX = labelCfg.refX,\n        refY = labelCfg.refY; // 考虑 refX 和 refY = 0 的场景，不用用 labelCfg.refX || Global.nodeLabel.refY\n\n    if (isNil(refX)) {\n      refX = this.refX; // 不居中时的偏移量\n    }\n\n    if (isNil(refY)) {\n      refY = this.refY; // 不居中时的偏移量\n    }\n\n    var leftDis = cfgStyle.width / 2 + padding[3];\n    var topDis = cfgStyle.height / 2 + padding[0];\n    var style;\n\n    switch (labelPosition) {\n      case 'top':\n        style = {\n          x: 0 - leftDis + refX,\n          y: 0 - topDis + refY,\n          textBaseline: 'top',\n          textAlign: 'left'\n        };\n        break;\n\n      case 'bottom':\n        style = {\n          x: 0,\n          y: topDis + refY,\n          textBaseline: 'bottom',\n          textAlign: 'center'\n        };\n        break;\n\n      case 'left':\n        style = {\n          x: 0 - leftDis + refY,\n          y: 0,\n          textAlign: 'left'\n        };\n        break;\n\n      case 'center':\n        style = {\n          x: 0,\n          y: 0,\n          text: cfg.label,\n          textAlign: 'center'\n        };\n        break;\n\n      default:\n        style = {\n          x: leftDis + refX,\n          y: 0,\n          textAlign: 'right'\n        };\n        break;\n    }\n\n    style.text = cfg.label;\n    return style;\n  },\n\n  /**\n   * 获取节点的样式，供基于该节点自定义时使用\n   * @param {Object} cfg 节点数据模型\n   * @return {Object} 节点的样式\n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.options.style;\n    var padding = cfg.padding || this.options.padding;\n    if (isNumber(padding)) padding = [padding, padding, padding, padding];\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // 如果设置了color，则覆盖默认的stroke属性\n\n    var style = mix({}, defaultStyle, strokeStyle, cfg.style);\n    var size = this.getSize(cfg);\n    var width;\n    var height;\n    var fixSize = cfg.collapsed && cfg.fixCollapseSize ? cfg.fixCollapseSize : cfg.fixSize;\n\n    if (fixSize) {\n      if (isNumber(fixSize)) {\n        width = fixSize;\n        height = fixSize;\n      } else {\n        width = fixSize[0];\n        height = fixSize[1];\n      }\n    } else {\n      if (!isNumber(style.width) || isNaN(style.width)) width = size[0] || Global.defaultCombo.style.width;else width = Math.max(style.width, size[0]) || size[0];\n      if (!isNumber(style.height) || isNaN(style.height)) height = size[1] || Global.defaultCombo.style.height;else height = Math.max(style.height, size[1]) || size[1];\n    }\n\n    var x = -width / 2 - padding[3];\n    var y = -height / 2 - padding[0];\n    style.width = width + padding[1] + padding[3];\n    style.height = height + padding[0] + padding[2];\n\n    var styles = __assign({\n      x: x,\n      y: y\n    }, style);\n\n    if (!cfg.style) {\n      cfg.style = {\n        width: width,\n        height: height\n      };\n    } else {\n      cfg.style.width = width;\n      cfg.style.height = height;\n    }\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var size = this.getSize(cfg);\n    var padding = cfg.padding || this.options.padding;\n    if (isNumber(padding)) padding = [padding, padding, padding, padding];\n    var cfgStyle = clone(cfg.style);\n    var width, height;\n    var fixSize = cfg.collapsed && cfg.fixCollapseSize ? cfg.fixCollapseSize : cfg.fixSize;\n\n    if (fixSize) {\n      if (isNumber(fixSize)) {\n        width = fixSize;\n        height = fixSize;\n      } else {\n        width = fixSize[0];\n        height = fixSize[1];\n      }\n    } else {\n      width = Math.max(cfgStyle.width, size[0]) || size[0];\n      height = Math.max(cfgStyle.height, size[1]) || size[1];\n    }\n\n    cfgStyle.width = width + padding[1] + padding[3];\n    cfgStyle.height = height + padding[0] + padding[2];\n    var itemCacheSize = item.get('sizeCache');\n\n    if (itemCacheSize) {\n      itemCacheSize.width = cfgStyle.width;\n      itemCacheSize.height = cfgStyle.height;\n    }\n\n    cfgStyle.x = -width / 2 - padding[3];\n    cfgStyle.y = -height / 2 - padding[0]; // 下面这些属性需要覆盖默认样式与目前样式，但若在 cfg 中有指定则应该被 cfg 的相应配置覆盖。\n\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // 与 getShapeStyle 不同在于，update 时需要获取到当前的 style 进行融合。即新传入的配置项中没有涉及的属性，保留当前的配置。\n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, keyShape.attr(), strokeStyle, cfgStyle);\n\n    if (cfg.style) {\n      cfg.style.width = width;\n      cfg.style.height = height;\n    } else {\n      cfg.style = {\n        width: width,\n        height: height\n      };\n    }\n\n    this.updateShape(cfg, item, style, false);\n  }\n}, 'single-combo');","map":{"version":3,"names":["__assign","mix","isNumber","clone","isNil","Global","Shape","registerCombo","options","size","padding","animate","style","radius","stroke","defaultCombo","fill","lineWidth","labelCfg","comboLabel","fontSize","fontFamily","windowFontFamily","anchorPoints","stateStyles","comboStateStyles","collapsedSubstituteIcon","show","img","shapeType","labelPosition","drawShape","cfg","group","getShapeStyle","keyShape","addShape","attrs","className","name","draggable","getLabelStyleByPosition","position","cfgStyle","refX","refY","leftDis","width","topDis","height","x","y","textBaseline","textAlign","text","label","defaultStyle","strokeStyle","color","getSize","fixSize","collapsed","fixCollapseSize","isNaN","Math","max","styles","update","item","itemCacheSize","get","attr","updateShape"],"sources":["/Users/wawalike/Desktop/ggProject/node_modules/@antv/g6-core/es/element/combos/rect.js"],"sourcesContent":["import { __assign } from \"tslib\";\nimport { mix, isNumber, clone, isNil } from '@antv/util';\nimport Global from '../../global';\nimport Shape from '../shape';\nShape.registerCombo('rect', {\n  // 自定义 Combo 时的配置\n  options: {\n    size: [40, 5],\n    padding: [25, 20, 15, 20],\n    animate: true,\n    style: {\n      radius: 0,\n      stroke: Global.defaultCombo.style.stroke,\n      fill: Global.defaultCombo.style.fill,\n      lineWidth: Global.defaultCombo.style.lineWidth\n    },\n    // 文本样式配置\n    labelCfg: {\n      style: {\n        fill: Global.comboLabel.style.fill,\n        fontSize: Global.comboLabel.style.fontSize,\n        fontFamily: Global.windowFontFamily\n      }\n    },\n    // 连接点，默认为左右\n    anchorPoints: [[0, 0.5], [1, 0.5]],\n    stateStyles: __assign({}, Global.comboStateStyles),\n    collapsedSubstituteIcon: {\n      show: false,\n      img: 'https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ'\n    }\n  },\n  shapeType: 'rect',\n  labelPosition: 'top',\n  drawShape: function drawShape(cfg, group) {\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('rect', {\n      attrs: style,\n      className: 'rect-combo',\n      name: 'rect-combo',\n      draggable: true\n    });\n    return keyShape;\n  },\n  // 私有方法，不希望扩展的 Combo 复写这个方法\n  getLabelStyleByPosition: function getLabelStyleByPosition(cfg, labelCfg) {\n    var labelPosition = labelCfg.position || this.labelPosition;\n    var cfgStyle = cfg.style;\n    var padding = cfg.padding || this.options.padding;\n    if (isNumber(padding)) padding = [padding, padding, padding, padding];\n    var refX = labelCfg.refX,\n        refY = labelCfg.refY; // 考虑 refX 和 refY = 0 的场景，不用用 labelCfg.refX || Global.nodeLabel.refY\n\n    if (isNil(refX)) {\n      refX = this.refX; // 不居中时的偏移量\n    }\n\n    if (isNil(refY)) {\n      refY = this.refY; // 不居中时的偏移量\n    }\n\n    var leftDis = cfgStyle.width / 2 + padding[3];\n    var topDis = cfgStyle.height / 2 + padding[0];\n    var style;\n\n    switch (labelPosition) {\n      case 'top':\n        style = {\n          x: 0 - leftDis + refX,\n          y: 0 - topDis + refY,\n          textBaseline: 'top',\n          textAlign: 'left'\n        };\n        break;\n\n      case 'bottom':\n        style = {\n          x: 0,\n          y: topDis + refY,\n          textBaseline: 'bottom',\n          textAlign: 'center'\n        };\n        break;\n\n      case 'left':\n        style = {\n          x: 0 - leftDis + refY,\n          y: 0,\n          textAlign: 'left'\n        };\n        break;\n\n      case 'center':\n        style = {\n          x: 0,\n          y: 0,\n          text: cfg.label,\n          textAlign: 'center'\n        };\n        break;\n\n      default:\n        style = {\n          x: leftDis + refX,\n          y: 0,\n          textAlign: 'right'\n        };\n        break;\n    }\n\n    style.text = cfg.label;\n    return style;\n  },\n\n  /**\n   * 获取节点的样式，供基于该节点自定义时使用\n   * @param {Object} cfg 节点数据模型\n   * @return {Object} 节点的样式\n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.options.style;\n    var padding = cfg.padding || this.options.padding;\n    if (isNumber(padding)) padding = [padding, padding, padding, padding];\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // 如果设置了color，则覆盖默认的stroke属性\n\n    var style = mix({}, defaultStyle, strokeStyle, cfg.style);\n    var size = this.getSize(cfg);\n    var width;\n    var height;\n    var fixSize = cfg.collapsed && cfg.fixCollapseSize ? cfg.fixCollapseSize : cfg.fixSize;\n\n    if (fixSize) {\n      if (isNumber(fixSize)) {\n        width = fixSize;\n        height = fixSize;\n      } else {\n        width = fixSize[0];\n        height = fixSize[1];\n      }\n    } else {\n      if (!isNumber(style.width) || isNaN(style.width)) width = size[0] || Global.defaultCombo.style.width;else width = Math.max(style.width, size[0]) || size[0];\n      if (!isNumber(style.height) || isNaN(style.height)) height = size[1] || Global.defaultCombo.style.height;else height = Math.max(style.height, size[1]) || size[1];\n    }\n\n    var x = -width / 2 - padding[3];\n    var y = -height / 2 - padding[0];\n    style.width = width + padding[1] + padding[3];\n    style.height = height + padding[0] + padding[2];\n\n    var styles = __assign({\n      x: x,\n      y: y\n    }, style);\n\n    if (!cfg.style) {\n      cfg.style = {\n        width: width,\n        height: height\n      };\n    } else {\n      cfg.style.width = width;\n      cfg.style.height = height;\n    }\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var size = this.getSize(cfg);\n    var padding = cfg.padding || this.options.padding;\n    if (isNumber(padding)) padding = [padding, padding, padding, padding];\n    var cfgStyle = clone(cfg.style);\n    var width, height;\n    var fixSize = cfg.collapsed && cfg.fixCollapseSize ? cfg.fixCollapseSize : cfg.fixSize;\n\n    if (fixSize) {\n      if (isNumber(fixSize)) {\n        width = fixSize;\n        height = fixSize;\n      } else {\n        width = fixSize[0];\n        height = fixSize[1];\n      }\n    } else {\n      width = Math.max(cfgStyle.width, size[0]) || size[0];\n      height = Math.max(cfgStyle.height, size[1]) || size[1];\n    }\n\n    cfgStyle.width = width + padding[1] + padding[3];\n    cfgStyle.height = height + padding[0] + padding[2];\n    var itemCacheSize = item.get('sizeCache');\n\n    if (itemCacheSize) {\n      itemCacheSize.width = cfgStyle.width;\n      itemCacheSize.height = cfgStyle.height;\n    }\n\n    cfgStyle.x = -width / 2 - padding[3];\n    cfgStyle.y = -height / 2 - padding[0]; // 下面这些属性需要覆盖默认样式与目前样式，但若在 cfg 中有指定则应该被 cfg 的相应配置覆盖。\n\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // 与 getShapeStyle 不同在于，update 时需要获取到当前的 style 进行融合。即新传入的配置项中没有涉及的属性，保留当前的配置。\n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, keyShape.attr(), strokeStyle, cfgStyle);\n\n    if (cfg.style) {\n      cfg.style.width = width;\n      cfg.style.height = height;\n    } else {\n      cfg.style = {\n        width: width,\n        height: height\n      };\n    }\n\n    this.updateShape(cfg, item, style, false);\n  }\n}, 'single-combo');"],"mappings":"AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,GAAT,EAAcC,QAAd,EAAwBC,KAAxB,EAA+BC,KAA/B,QAA4C,YAA5C;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACAA,KAAK,CAACC,aAAN,CAAoB,MAApB,EAA4B;EAC1B;EACAC,OAAO,EAAE;IACPC,IAAI,EAAE,CAAC,EAAD,EAAK,CAAL,CADC;IAEPC,OAAO,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,CAFF;IAGPC,OAAO,EAAE,IAHF;IAIPC,KAAK,EAAE;MACLC,MAAM,EAAE,CADH;MAELC,MAAM,EAAET,MAAM,CAACU,YAAP,CAAoBH,KAApB,CAA0BE,MAF7B;MAGLE,IAAI,EAAEX,MAAM,CAACU,YAAP,CAAoBH,KAApB,CAA0BI,IAH3B;MAILC,SAAS,EAAEZ,MAAM,CAACU,YAAP,CAAoBH,KAApB,CAA0BK;IAJhC,CAJA;IAUP;IACAC,QAAQ,EAAE;MACRN,KAAK,EAAE;QACLI,IAAI,EAAEX,MAAM,CAACc,UAAP,CAAkBP,KAAlB,CAAwBI,IADzB;QAELI,QAAQ,EAAEf,MAAM,CAACc,UAAP,CAAkBP,KAAlB,CAAwBQ,QAF7B;QAGLC,UAAU,EAAEhB,MAAM,CAACiB;MAHd;IADC,CAXH;IAkBP;IACAC,YAAY,EAAE,CAAC,CAAC,CAAD,EAAI,GAAJ,CAAD,EAAW,CAAC,CAAD,EAAI,GAAJ,CAAX,CAnBP;IAoBPC,WAAW,EAAExB,QAAQ,CAAC,EAAD,EAAKK,MAAM,CAACoB,gBAAZ,CApBd;IAqBPC,uBAAuB,EAAE;MACvBC,IAAI,EAAE,KADiB;MAEvBC,GAAG,EAAE;IAFkB;EArBlB,CAFiB;EA4B1BC,SAAS,EAAE,MA5Be;EA6B1BC,aAAa,EAAE,KA7BW;EA8B1BC,SAAS,EAAE,SAASA,SAAT,CAAmBC,GAAnB,EAAwBC,KAAxB,EAA+B;IACxC,IAAIrB,KAAK,GAAG,KAAKsB,aAAL,CAAmBF,GAAnB,CAAZ;IACA,IAAIG,QAAQ,GAAGF,KAAK,CAACG,QAAN,CAAe,MAAf,EAAuB;MACpCC,KAAK,EAAEzB,KAD6B;MAEpC0B,SAAS,EAAE,YAFyB;MAGpCC,IAAI,EAAE,YAH8B;MAIpCC,SAAS,EAAE;IAJyB,CAAvB,CAAf;IAMA,OAAOL,QAAP;EACD,CAvCyB;EAwC1B;EACAM,uBAAuB,EAAE,SAASA,uBAAT,CAAiCT,GAAjC,EAAsCd,QAAtC,EAAgD;IACvE,IAAIY,aAAa,GAAGZ,QAAQ,CAACwB,QAAT,IAAqB,KAAKZ,aAA9C;IACA,IAAIa,QAAQ,GAAGX,GAAG,CAACpB,KAAnB;IACA,IAAIF,OAAO,GAAGsB,GAAG,CAACtB,OAAJ,IAAe,KAAKF,OAAL,CAAaE,OAA1C;IACA,IAAIR,QAAQ,CAACQ,OAAD,CAAZ,EAAuBA,OAAO,GAAG,CAACA,OAAD,EAAUA,OAAV,EAAmBA,OAAnB,EAA4BA,OAA5B,CAAV;IACvB,IAAIkC,IAAI,GAAG1B,QAAQ,CAAC0B,IAApB;IAAA,IACIC,IAAI,GAAG3B,QAAQ,CAAC2B,IADpB,CALuE,CAM7C;;IAE1B,IAAIzC,KAAK,CAACwC,IAAD,CAAT,EAAiB;MACfA,IAAI,GAAG,KAAKA,IAAZ,CADe,CACG;IACnB;;IAED,IAAIxC,KAAK,CAACyC,IAAD,CAAT,EAAiB;MACfA,IAAI,GAAG,KAAKA,IAAZ,CADe,CACG;IACnB;;IAED,IAAIC,OAAO,GAAGH,QAAQ,CAACI,KAAT,GAAiB,CAAjB,GAAqBrC,OAAO,CAAC,CAAD,CAA1C;IACA,IAAIsC,MAAM,GAAGL,QAAQ,CAACM,MAAT,GAAkB,CAAlB,GAAsBvC,OAAO,CAAC,CAAD,CAA1C;IACA,IAAIE,KAAJ;;IAEA,QAAQkB,aAAR;MACE,KAAK,KAAL;QACElB,KAAK,GAAG;UACNsC,CAAC,EAAE,IAAIJ,OAAJ,GAAcF,IADX;UAENO,CAAC,EAAE,IAAIH,MAAJ,GAAaH,IAFV;UAGNO,YAAY,EAAE,KAHR;UAINC,SAAS,EAAE;QAJL,CAAR;QAMA;;MAEF,KAAK,QAAL;QACEzC,KAAK,GAAG;UACNsC,CAAC,EAAE,CADG;UAENC,CAAC,EAAEH,MAAM,GAAGH,IAFN;UAGNO,YAAY,EAAE,QAHR;UAINC,SAAS,EAAE;QAJL,CAAR;QAMA;;MAEF,KAAK,MAAL;QACEzC,KAAK,GAAG;UACNsC,CAAC,EAAE,IAAIJ,OAAJ,GAAcD,IADX;UAENM,CAAC,EAAE,CAFG;UAGNE,SAAS,EAAE;QAHL,CAAR;QAKA;;MAEF,KAAK,QAAL;QACEzC,KAAK,GAAG;UACNsC,CAAC,EAAE,CADG;UAENC,CAAC,EAAE,CAFG;UAGNG,IAAI,EAAEtB,GAAG,CAACuB,KAHJ;UAINF,SAAS,EAAE;QAJL,CAAR;QAMA;;MAEF;QACEzC,KAAK,GAAG;UACNsC,CAAC,EAAEJ,OAAO,GAAGF,IADP;UAENO,CAAC,EAAE,CAFG;UAGNE,SAAS,EAAE;QAHL,CAAR;QAKA;IA1CJ;;IA6CAzC,KAAK,CAAC0C,IAAN,GAAatB,GAAG,CAACuB,KAAjB;IACA,OAAO3C,KAAP;EACD,CA5GyB;;EA8G1B;AACF;AACA;AACA;AACA;EACEsB,aAAa,EAAE,SAASA,aAAT,CAAuBF,GAAvB,EAA4B;IACzC,IAAIwB,YAAY,GAAG,KAAKhD,OAAL,CAAaI,KAAhC;IACA,IAAIF,OAAO,GAAGsB,GAAG,CAACtB,OAAJ,IAAe,KAAKF,OAAL,CAAaE,OAA1C;IACA,IAAIR,QAAQ,CAACQ,OAAD,CAAZ,EAAuBA,OAAO,GAAG,CAACA,OAAD,EAAUA,OAAV,EAAmBA,OAAnB,EAA4BA,OAA5B,CAAV;IACvB,IAAI+C,WAAW,GAAG;MAChB3C,MAAM,EAAEkB,GAAG,CAAC0B;IADI,CAAlB,CAJyC,CAMtC;;IAEH,IAAI9C,KAAK,GAAGX,GAAG,CAAC,EAAD,EAAKuD,YAAL,EAAmBC,WAAnB,EAAgCzB,GAAG,CAACpB,KAApC,CAAf;IACA,IAAIH,IAAI,GAAG,KAAKkD,OAAL,CAAa3B,GAAb,CAAX;IACA,IAAIe,KAAJ;IACA,IAAIE,MAAJ;IACA,IAAIW,OAAO,GAAG5B,GAAG,CAAC6B,SAAJ,IAAiB7B,GAAG,CAAC8B,eAArB,GAAuC9B,GAAG,CAAC8B,eAA3C,GAA6D9B,GAAG,CAAC4B,OAA/E;;IAEA,IAAIA,OAAJ,EAAa;MACX,IAAI1D,QAAQ,CAAC0D,OAAD,CAAZ,EAAuB;QACrBb,KAAK,GAAGa,OAAR;QACAX,MAAM,GAAGW,OAAT;MACD,CAHD,MAGO;QACLb,KAAK,GAAGa,OAAO,CAAC,CAAD,CAAf;QACAX,MAAM,GAAGW,OAAO,CAAC,CAAD,CAAhB;MACD;IACF,CARD,MAQO;MACL,IAAI,CAAC1D,QAAQ,CAACU,KAAK,CAACmC,KAAP,CAAT,IAA0BgB,KAAK,CAACnD,KAAK,CAACmC,KAAP,CAAnC,EAAkDA,KAAK,GAAGtC,IAAI,CAAC,CAAD,CAAJ,IAAWJ,MAAM,CAACU,YAAP,CAAoBH,KAApB,CAA0BmC,KAA7C,CAAlD,KAA0GA,KAAK,GAAGiB,IAAI,CAACC,GAAL,CAASrD,KAAK,CAACmC,KAAf,EAAsBtC,IAAI,CAAC,CAAD,CAA1B,KAAkCA,IAAI,CAAC,CAAD,CAA9C;MAC1G,IAAI,CAACP,QAAQ,CAACU,KAAK,CAACqC,MAAP,CAAT,IAA2Bc,KAAK,CAACnD,KAAK,CAACqC,MAAP,CAApC,EAAoDA,MAAM,GAAGxC,IAAI,CAAC,CAAD,CAAJ,IAAWJ,MAAM,CAACU,YAAP,CAAoBH,KAApB,CAA0BqC,MAA9C,CAApD,KAA8GA,MAAM,GAAGe,IAAI,CAACC,GAAL,CAASrD,KAAK,CAACqC,MAAf,EAAuBxC,IAAI,CAAC,CAAD,CAA3B,KAAmCA,IAAI,CAAC,CAAD,CAAhD;IAC/G;;IAED,IAAIyC,CAAC,GAAG,CAACH,KAAD,GAAS,CAAT,GAAarC,OAAO,CAAC,CAAD,CAA5B;IACA,IAAIyC,CAAC,GAAG,CAACF,MAAD,GAAU,CAAV,GAAcvC,OAAO,CAAC,CAAD,CAA7B;IACAE,KAAK,CAACmC,KAAN,GAAcA,KAAK,GAAGrC,OAAO,CAAC,CAAD,CAAf,GAAqBA,OAAO,CAAC,CAAD,CAA1C;IACAE,KAAK,CAACqC,MAAN,GAAeA,MAAM,GAAGvC,OAAO,CAAC,CAAD,CAAhB,GAAsBA,OAAO,CAAC,CAAD,CAA5C;;IAEA,IAAIwD,MAAM,GAAGlE,QAAQ,CAAC;MACpBkD,CAAC,EAAEA,CADiB;MAEpBC,CAAC,EAAEA;IAFiB,CAAD,EAGlBvC,KAHkB,CAArB;;IAKA,IAAI,CAACoB,GAAG,CAACpB,KAAT,EAAgB;MACdoB,GAAG,CAACpB,KAAJ,GAAY;QACVmC,KAAK,EAAEA,KADG;QAEVE,MAAM,EAAEA;MAFE,CAAZ;IAID,CALD,MAKO;MACLjB,GAAG,CAACpB,KAAJ,CAAUmC,KAAV,GAAkBA,KAAlB;MACAf,GAAG,CAACpB,KAAJ,CAAUqC,MAAV,GAAmBA,MAAnB;IACD;;IAED,OAAOiB,MAAP;EACD,CAnKyB;EAoK1BC,MAAM,EAAE,SAASA,MAAT,CAAgBnC,GAAhB,EAAqBoC,IAArB,EAA2B;IACjC,IAAI3D,IAAI,GAAG,KAAKkD,OAAL,CAAa3B,GAAb,CAAX;IACA,IAAItB,OAAO,GAAGsB,GAAG,CAACtB,OAAJ,IAAe,KAAKF,OAAL,CAAaE,OAA1C;IACA,IAAIR,QAAQ,CAACQ,OAAD,CAAZ,EAAuBA,OAAO,GAAG,CAACA,OAAD,EAAUA,OAAV,EAAmBA,OAAnB,EAA4BA,OAA5B,CAAV;IACvB,IAAIiC,QAAQ,GAAGxC,KAAK,CAAC6B,GAAG,CAACpB,KAAL,CAApB;IACA,IAAImC,KAAJ,EAAWE,MAAX;IACA,IAAIW,OAAO,GAAG5B,GAAG,CAAC6B,SAAJ,IAAiB7B,GAAG,CAAC8B,eAArB,GAAuC9B,GAAG,CAAC8B,eAA3C,GAA6D9B,GAAG,CAAC4B,OAA/E;;IAEA,IAAIA,OAAJ,EAAa;MACX,IAAI1D,QAAQ,CAAC0D,OAAD,CAAZ,EAAuB;QACrBb,KAAK,GAAGa,OAAR;QACAX,MAAM,GAAGW,OAAT;MACD,CAHD,MAGO;QACLb,KAAK,GAAGa,OAAO,CAAC,CAAD,CAAf;QACAX,MAAM,GAAGW,OAAO,CAAC,CAAD,CAAhB;MACD;IACF,CARD,MAQO;MACLb,KAAK,GAAGiB,IAAI,CAACC,GAAL,CAAStB,QAAQ,CAACI,KAAlB,EAAyBtC,IAAI,CAAC,CAAD,CAA7B,KAAqCA,IAAI,CAAC,CAAD,CAAjD;MACAwC,MAAM,GAAGe,IAAI,CAACC,GAAL,CAAStB,QAAQ,CAACM,MAAlB,EAA0BxC,IAAI,CAAC,CAAD,CAA9B,KAAsCA,IAAI,CAAC,CAAD,CAAnD;IACD;;IAEDkC,QAAQ,CAACI,KAAT,GAAiBA,KAAK,GAAGrC,OAAO,CAAC,CAAD,CAAf,GAAqBA,OAAO,CAAC,CAAD,CAA7C;IACAiC,QAAQ,CAACM,MAAT,GAAkBA,MAAM,GAAGvC,OAAO,CAAC,CAAD,CAAhB,GAAsBA,OAAO,CAAC,CAAD,CAA/C;IACA,IAAI2D,aAAa,GAAGD,IAAI,CAACE,GAAL,CAAS,WAAT,CAApB;;IAEA,IAAID,aAAJ,EAAmB;MACjBA,aAAa,CAACtB,KAAd,GAAsBJ,QAAQ,CAACI,KAA/B;MACAsB,aAAa,CAACpB,MAAd,GAAuBN,QAAQ,CAACM,MAAhC;IACD;;IAEDN,QAAQ,CAACO,CAAT,GAAa,CAACH,KAAD,GAAS,CAAT,GAAarC,OAAO,CAAC,CAAD,CAAjC;IACAiC,QAAQ,CAACQ,CAAT,GAAa,CAACF,MAAD,GAAU,CAAV,GAAcvC,OAAO,CAAC,CAAD,CAAlC,CA/BiC,CA+BM;;IAEvC,IAAI+C,WAAW,GAAG;MAChB3C,MAAM,EAAEkB,GAAG,CAAC0B;IADI,CAAlB,CAjCiC,CAmC9B;;IAEH,IAAIvB,QAAQ,GAAGiC,IAAI,CAACE,GAAL,CAAS,UAAT,CAAf;IACA,IAAI1D,KAAK,GAAGX,GAAG,CAAC,EAAD,EAAKkC,QAAQ,CAACoC,IAAT,EAAL,EAAsBd,WAAtB,EAAmCd,QAAnC,CAAf;;IAEA,IAAIX,GAAG,CAACpB,KAAR,EAAe;MACboB,GAAG,CAACpB,KAAJ,CAAUmC,KAAV,GAAkBA,KAAlB;MACAf,GAAG,CAACpB,KAAJ,CAAUqC,MAAV,GAAmBA,MAAnB;IACD,CAHD,MAGO;MACLjB,GAAG,CAACpB,KAAJ,GAAY;QACVmC,KAAK,EAAEA,KADG;QAEVE,MAAM,EAAEA;MAFE,CAAZ;IAID;;IAED,KAAKuB,WAAL,CAAiBxC,GAAjB,EAAsBoC,IAAtB,EAA4BxD,KAA5B,EAAmC,KAAnC;EACD;AAvNyB,CAA5B,EAwNG,cAxNH"},"metadata":{},"sourceType":"module"}