{"ast":null,"code":"import { __assign, __rest } from \"tslib\";\nimport { registerNode, BaseGlobal as Global } from '@antv/g6-core';\nimport { deepMix } from '@antv/util'; // 带有图标的圆，可用于拓扑图中\n\nregisterNode('circle', {\n  // 自定义节点时的配置\n  options: {\n    size: Global.defaultNode.size,\n    style: {\n      x: 0,\n      y: 0,\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize,\n        fontFamily: Global.windowFontFamily\n      }\n    },\n    // 节点上左右上下四个方向上的链接circle配置\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle的大小\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // 节点中icon配置\n    icon: {\n      // 是否显示icon，值为 false 则不渲染icon\n      show: false,\n      // icon的地址，字符串类型\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'circle',\n  // 文本位置\n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var _a = (this.mergeStyle || this.getOptions(cfg)).icon,\n        defaultIcon = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var icon = deepMix({}, defaultIcon, cfg.icon);\n    var name = \"\".concat(this.type, \"-keyShape\");\n    var keyShape = group.addShape('circle', {\n      attrs: style,\n      className: name,\n      name: name,\n      draggable: true\n    });\n    group['shapeMap'][name] = keyShape;\n    var width = icon.width,\n        height = icon.height,\n        show = icon.show,\n        text = icon.text;\n\n    if (show) {\n      var iconName = \"\".concat(this.type, \"-icon\");\n\n      if (text) {\n        group['shapeMap'][iconName] = group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, icon),\n          className: iconName,\n          name: iconName,\n          draggable: true\n        });\n      } else {\n        group['shapeMap'][iconName] = group.addShape('image', {\n          attrs: __assign({\n            x: -width / 2,\n            y: -height / 2\n          }, icon),\n          className: iconName,\n          name: iconName,\n          draggable: true\n        });\n      }\n    }\n\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * 绘制节点上的LinkPoints\n   * @param {Object} cfg data数据配置项\n   * @param {Group} group Group实例\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var linkPoints = (this.mergeStyle || this.getOptions(cfg)).linkPoints;\n    if (!linkPoints) return;\n\n    var _a = linkPoints || {},\n        top = _a.top,\n        left = _a.left,\n        right = _a.right,\n        bottom = _a.bottom,\n        markSize = _a.size,\n        markR = _a.r,\n        markStyle = __rest(_a, [\"top\", \"left\", \"right\", \"bottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var r = size[0] / 2;\n\n    if (left) {\n      // left circle\n      var name_1 = 'link-point-left';\n      group['shapeMap'][name_1] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: -r,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: name_1,\n        name: name_1,\n        isAnchorPoint: true\n      });\n    }\n\n    if (right) {\n      // right circle\n      var name_2 = 'link-point-right';\n      group['shapeMap'][name_2] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: r,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: name_2,\n        name: name_2,\n        isAnchorPoint: true\n      });\n    }\n\n    if (top) {\n      // top circle\n      var name_3 = 'link-point-top';\n      group['shapeMap'][name_3] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: -r,\n          r: markSize / 2 || markR || 5\n        }),\n        className: name_3,\n        name: name_3,\n        isAnchorPoint: true\n      });\n    }\n\n    if (bottom) {\n      // bottom circle\n      var name_4 = 'link-point-bottom';\n      group['shapeMap'][name_4] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: r,\n          r: markSize / 2 || markR || 5\n        }),\n        className: name_4,\n        name: name_4,\n        isAnchorPoint: true\n      });\n    }\n  },\n\n  /**\n   * 获取节点的样式，供基于该节点自定义时使用\n   * @param {Object} cfg 节点数据模型\n   * @return {Object} 节点的样式\n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = (this.mergeStyle || this.getOptions(cfg)).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // 如果设置了color，则覆盖默认的stroke属性\n\n    var style = deepMix({}, defaultStyle, strokeStyle);\n    var size = this.getSize(cfg);\n    var r = size[0] / 2;\n\n    var styles = __assign({\n      x: 0,\n      y: 0,\n      r: r\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item, updateType) {\n    var group = item.getContainer();\n    var size = this.getSize(cfg); // 下面这些属性需要覆盖默认样式与目前样式，但若在 cfg 中有指定则应该被 cfg 的相应配置覆盖。\n    // const strokeStyle = {\n    //   stroke: cfg.color,\n    //   r: size[0] / 2,\n    // };\n    // // 与 getShapeStyle 不同在于，update 时需要获取到当前的 style 进行融合。即新传入的配置项中没有涉及的属性，保留当前的配置。\n    // const keyShape = item.get('keyShape');\n    // TODO: performance\n    // const style = deepMix({}, keyShape.attr(), strokeStyle, cfg.style);\n    // const style = deepMix({}, keyShape.attr(), cfg.style);\n\n    var style = __assign({}, cfg.style);\n\n    if (cfg.style.stroke === undefined && cfg.color) {\n      style.stroke = cfg.color;\n    }\n\n    if (cfg.style.r === undefined && !isNaN(size[0])) {\n      style.r = size[0] / 2;\n    }\n\n    this.updateShape(cfg, item, style, true, updateType); // (this as any).updateShape(cfg, item, style, true, updateType);\n\n    this.updateLinkPoints(cfg, group);\n  }\n}, 'single-node');","map":{"version":3,"names":["__assign","__rest","registerNode","BaseGlobal","Global","deepMix","options","size","defaultNode","style","x","y","stroke","fill","lineWidth","labelCfg","nodeLabel","fontSize","fontFamily","windowFontFamily","linkPoints","top","right","bottom","left","icon","show","img","width","height","stateStyles","nodeStateStyles","shapeType","labelPosition","drawShape","cfg","group","_a","mergeStyle","getOptions","defaultIcon","getShapeStyle","name","concat","type","keyShape","addShape","attrs","className","draggable","text","iconName","textBaseline","textAlign","drawLinkPoints","markSize","markR","r","markStyle","getSize","name_1","isAnchorPoint","name_2","name_3","name_4","defaultStyle","strokeStyle","color","styles","update","item","updateType","getContainer","undefined","isNaN","updateShape","updateLinkPoints"],"sources":["/Users/wawalike/Desktop/ggProject/node_modules/@antv/g6-element/es/nodes/circle.js"],"sourcesContent":["import { __assign, __rest } from \"tslib\";\nimport { registerNode, BaseGlobal as Global } from '@antv/g6-core';\nimport { deepMix } from '@antv/util'; // 带有图标的圆，可用于拓扑图中\n\nregisterNode('circle', {\n  // 自定义节点时的配置\n  options: {\n    size: Global.defaultNode.size,\n    style: {\n      x: 0,\n      y: 0,\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize,\n        fontFamily: Global.windowFontFamily\n      }\n    },\n    // 节点上左右上下四个方向上的链接circle配置\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle的大小\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // 节点中icon配置\n    icon: {\n      // 是否显示icon，值为 false 则不渲染icon\n      show: false,\n      // icon的地址，字符串类型\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'circle',\n  // 文本位置\n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var _a = (this.mergeStyle || this.getOptions(cfg)).icon,\n        defaultIcon = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var icon = deepMix({}, defaultIcon, cfg.icon);\n    var name = \"\".concat(this.type, \"-keyShape\");\n    var keyShape = group.addShape('circle', {\n      attrs: style,\n      className: name,\n      name: name,\n      draggable: true\n    });\n    group['shapeMap'][name] = keyShape;\n    var width = icon.width,\n        height = icon.height,\n        show = icon.show,\n        text = icon.text;\n\n    if (show) {\n      var iconName = \"\".concat(this.type, \"-icon\");\n\n      if (text) {\n        group['shapeMap'][iconName] = group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, icon),\n          className: iconName,\n          name: iconName,\n          draggable: true\n        });\n      } else {\n        group['shapeMap'][iconName] = group.addShape('image', {\n          attrs: __assign({\n            x: -width / 2,\n            y: -height / 2\n          }, icon),\n          className: iconName,\n          name: iconName,\n          draggable: true\n        });\n      }\n    }\n\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * 绘制节点上的LinkPoints\n   * @param {Object} cfg data数据配置项\n   * @param {Group} group Group实例\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var linkPoints = (this.mergeStyle || this.getOptions(cfg)).linkPoints;\n    if (!linkPoints) return;\n\n    var _a = linkPoints || {},\n        top = _a.top,\n        left = _a.left,\n        right = _a.right,\n        bottom = _a.bottom,\n        markSize = _a.size,\n        markR = _a.r,\n        markStyle = __rest(_a, [\"top\", \"left\", \"right\", \"bottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var r = size[0] / 2;\n\n    if (left) {\n      // left circle\n      var name_1 = 'link-point-left';\n      group['shapeMap'][name_1] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: -r,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: name_1,\n        name: name_1,\n        isAnchorPoint: true\n      });\n    }\n\n    if (right) {\n      // right circle\n      var name_2 = 'link-point-right';\n      group['shapeMap'][name_2] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: r,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: name_2,\n        name: name_2,\n        isAnchorPoint: true\n      });\n    }\n\n    if (top) {\n      // top circle\n      var name_3 = 'link-point-top';\n      group['shapeMap'][name_3] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: -r,\n          r: markSize / 2 || markR || 5\n        }),\n        className: name_3,\n        name: name_3,\n        isAnchorPoint: true\n      });\n    }\n\n    if (bottom) {\n      // bottom circle\n      var name_4 = 'link-point-bottom';\n      group['shapeMap'][name_4] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: r,\n          r: markSize / 2 || markR || 5\n        }),\n        className: name_4,\n        name: name_4,\n        isAnchorPoint: true\n      });\n    }\n  },\n\n  /**\n   * 获取节点的样式，供基于该节点自定义时使用\n   * @param {Object} cfg 节点数据模型\n   * @return {Object} 节点的样式\n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = (this.mergeStyle || this.getOptions(cfg)).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // 如果设置了color，则覆盖默认的stroke属性\n\n    var style = deepMix({}, defaultStyle, strokeStyle);\n    var size = this.getSize(cfg);\n    var r = size[0] / 2;\n\n    var styles = __assign({\n      x: 0,\n      y: 0,\n      r: r\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item, updateType) {\n    var group = item.getContainer();\n    var size = this.getSize(cfg); // 下面这些属性需要覆盖默认样式与目前样式，但若在 cfg 中有指定则应该被 cfg 的相应配置覆盖。\n    // const strokeStyle = {\n    //   stroke: cfg.color,\n    //   r: size[0] / 2,\n    // };\n    // // 与 getShapeStyle 不同在于，update 时需要获取到当前的 style 进行融合。即新传入的配置项中没有涉及的属性，保留当前的配置。\n    // const keyShape = item.get('keyShape');\n    // TODO: performance\n    // const style = deepMix({}, keyShape.attr(), strokeStyle, cfg.style);\n    // const style = deepMix({}, keyShape.attr(), cfg.style);\n\n    var style = __assign({}, cfg.style);\n\n    if (cfg.style.stroke === undefined && cfg.color) {\n      style.stroke = cfg.color;\n    }\n\n    if (cfg.style.r === undefined && !isNaN(size[0])) {\n      style.r = size[0] / 2;\n    }\n\n    this.updateShape(cfg, item, style, true, updateType); // (this as any).updateShape(cfg, item, style, true, updateType);\n\n    this.updateLinkPoints(cfg, group);\n  }\n}, 'single-node');"],"mappings":"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"},"metadata":{},"sourceType":"module"}