{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.error.cause.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Lookup = void 0;\n\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\n\nvar Lookup = function () {\n  function Lookup() {\n    this._map = new Map();\n  }\n\n  Lookup.prototype.getMap = function () {\n    return this._map;\n  };\n\n  Lookup.prototype.add = function (serviceIdentifier, value) {\n    if (serviceIdentifier === null || serviceIdentifier === undefined) {\n      throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n    }\n\n    if (value === null || value === undefined) {\n      throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n    }\n\n    var entry = this._map.get(serviceIdentifier);\n\n    if (entry !== undefined) {\n      entry.push(value);\n\n      this._map.set(serviceIdentifier, entry);\n    } else {\n      this._map.set(serviceIdentifier, [value]);\n    }\n  };\n\n  Lookup.prototype.get = function (serviceIdentifier) {\n    if (serviceIdentifier === null || serviceIdentifier === undefined) {\n      throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n    }\n\n    var entry = this._map.get(serviceIdentifier);\n\n    if (entry !== undefined) {\n      return entry;\n    } else {\n      throw new Error(ERROR_MSGS.KEY_NOT_FOUND);\n    }\n  };\n\n  Lookup.prototype.remove = function (serviceIdentifier) {\n    if (serviceIdentifier === null || serviceIdentifier === undefined) {\n      throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n    }\n\n    if (!this._map.delete(serviceIdentifier)) {\n      throw new Error(ERROR_MSGS.KEY_NOT_FOUND);\n    }\n  };\n\n  Lookup.prototype.removeByCondition = function (condition) {\n    var _this = this;\n\n    this._map.forEach(function (entries, key) {\n      var updatedEntries = entries.filter(function (entry) {\n        return !condition(entry);\n      });\n\n      if (updatedEntries.length > 0) {\n        _this._map.set(key, updatedEntries);\n      } else {\n        _this._map.delete(key);\n      }\n    });\n  };\n\n  Lookup.prototype.hasKey = function (serviceIdentifier) {\n    if (serviceIdentifier === null || serviceIdentifier === undefined) {\n      throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n    }\n\n    return this._map.has(serviceIdentifier);\n  };\n\n  Lookup.prototype.clone = function () {\n    var copy = new Lookup();\n\n    this._map.forEach(function (value, key) {\n      value.forEach(function (b) {\n        return copy.add(key, b.clone());\n      });\n    });\n\n    return copy;\n  };\n\n  Lookup.prototype.traverse = function (func) {\n    this._map.forEach(function (value, key) {\n      func(key, value);\n    });\n  };\n\n  return Lookup;\n}();\n\nexports.Lookup = Lookup;","map":{"version":3,"mappings":";;;;;;;;;AAAA;;AAGA;EAKI;IACI,KAAKA,IAAL,GAAY,IAAIC,GAAJ,EAAZ;EACH;;EAEMC,0BAAP;IACI,OAAO,KAAKF,IAAZ;EACH,CAFM;;EAKAE,uBAAP,UAAWC,iBAAX,EAAiEC,KAAjE,EAAyE;IAErE,IAAID,iBAAiB,KAAK,IAAtB,IAA8BA,iBAAiB,KAAKE,SAAxD,EAAmE;MAC/D,MAAM,IAAIC,KAAJ,CAAUC,UAAU,CAACC,aAArB,CAAN;IACH;;IAED,IAAIJ,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAKC,SAAhC,EAA2C;MACvC,MAAM,IAAIC,KAAJ,CAAUC,UAAU,CAACC,aAArB,CAAN;IACH;;IAED,IAAMC,KAAK,GAAG,KAAKT,IAAL,CAAUU,GAAV,CAAcP,iBAAd,CAAd;;IACA,IAAIM,KAAK,KAAKJ,SAAd,EAAyB;MACrBI,KAAK,CAACE,IAAN,CAAWP,KAAX;;MACA,KAAKJ,IAAL,CAAUY,GAAV,CAAcT,iBAAd,EAAiCM,KAAjC;IACH,CAHD,MAGO;MACH,KAAKT,IAAL,CAAUY,GAAV,CAAcT,iBAAd,EAAiC,CAACC,KAAD,CAAjC;IACH;EACJ,CAjBM;;EAoBAF,uBAAP,UAAWC,iBAAX,EAA+D;IAE3D,IAAIA,iBAAiB,KAAK,IAAtB,IAA8BA,iBAAiB,KAAKE,SAAxD,EAAmE;MAC/D,MAAM,IAAIC,KAAJ,CAAUC,UAAU,CAACC,aAArB,CAAN;IACH;;IAED,IAAMC,KAAK,GAAG,KAAKT,IAAL,CAAUU,GAAV,CAAcP,iBAAd,CAAd;;IAEA,IAAIM,KAAK,KAAKJ,SAAd,EAAyB;MACrB,OAAOI,KAAP;IACH,CAFD,MAEO;MACH,MAAM,IAAIH,KAAJ,CAAUC,UAAU,CAACM,aAArB,CAAN;IACH;EACJ,CAbM;;EAgBAX,0BAAP,UAAcC,iBAAd,EAAkE;IAE9D,IAAIA,iBAAiB,KAAK,IAAtB,IAA8BA,iBAAiB,KAAKE,SAAxD,EAAmE;MAC/D,MAAM,IAAIC,KAAJ,CAAUC,UAAU,CAACC,aAArB,CAAN;IACH;;IAED,IAAI,CAAC,KAAKR,IAAL,CAAUc,MAAV,CAAiBX,iBAAjB,CAAL,EAA0C;MACtC,MAAM,IAAIG,KAAJ,CAAUC,UAAU,CAACM,aAArB,CAAN;IACH;EAEJ,CAVM;;EAYAX,qCAAP,UAAyBa,SAAzB,EAAwD;IAAxD;;IACI,KAAKf,IAAL,CAAUgB,OAAV,CAAkB,UAACC,OAAD,EAAUC,GAAV,EAAa;MAC3B,IAAMC,cAAc,GAAGF,OAAO,CAACG,MAAR,CAAe,UAACX,KAAD,EAAM;QAAK,QAACM,SAAS,CAACN,KAAD,CAAV;MAAiB,CAA3C,CAAvB;;MACA,IAAIU,cAAc,CAACE,MAAf,GAAwB,CAA5B,EAA+B;QAC3BC,KAAI,CAACtB,IAAL,CAAUY,GAAV,CAAcM,GAAd,EAAmBC,cAAnB;MACH,CAFD,MAEO;QACHG,KAAI,CAACtB,IAAL,CAAUc,MAAV,CAAiBI,GAAjB;MACH;IACJ,CAPD;EAQH,CATM;;EAYAhB,0BAAP,UAAcC,iBAAd,EAAkE;IAE9D,IAAIA,iBAAiB,KAAK,IAAtB,IAA8BA,iBAAiB,KAAKE,SAAxD,EAAmE;MAC/D,MAAM,IAAIC,KAAJ,CAAUC,UAAU,CAACC,aAArB,CAAN;IACH;;IAED,OAAO,KAAKR,IAAL,CAAUuB,GAAV,CAAcpB,iBAAd,CAAP;EACH,CAPM;;EAWAD,yBAAP;IAEI,IAAMsB,IAAI,GAAG,IAAItB,MAAJ,EAAb;;IAEA,KAAKF,IAAL,CAAUgB,OAAV,CAAkB,UAACZ,KAAD,EAAQc,GAAR,EAAW;MACzBd,KAAK,CAACY,OAAN,CAAc,UAACS,CAAD,EAAE;QAAK,WAAI,CAACC,GAAL,CAASR,GAAT,EAAcO,CAAC,CAACE,KAAF,EAAd;MAAwB,CAA7C;IACH,CAFD;;IAIA,OAAOH,IAAP;EACH,CATM;;EAWAtB,4BAAP,UAAgB0B,IAAhB,EAAkF;IAC9E,KAAK5B,IAAL,CAAUgB,OAAV,CAAkB,UAACZ,KAAD,EAAQc,GAAR,EAAW;MACzBU,IAAI,CAACV,GAAD,EAAMd,KAAN,CAAJ;IACH,CAFD;EAGH,CAJM;;EAMX;AAAC,CAtGD;;AAwGSyB","names":["_map","Map","Lookup","serviceIdentifier","value","undefined","Error","ERROR_MSGS","NULL_ARGUMENT","entry","get","push","set","KEY_NOT_FOUND","delete","condition","forEach","entries","key","updatedEntries","filter","length","_this","has","copy","b","add","clone","func","exports"],"sourceRoot":"","sources":["../../src/container/lookup.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}