{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { isFunction } from '@antv/util';\nvar DEFAULT_TRIGGER = 'click';\nvar ALLOW_EVENTS = ['click', 'drag'];\nvar DEFAULT_KEY = undefined;\nvar ALLOW_KEYS = ['shift', 'ctrl', 'control', 'alt', 'meta', undefined];\nexport default {\n  getDefaultCfg: function getDefaultCfg() {\n    return {\n      trigger: DEFAULT_TRIGGER,\n      key: DEFAULT_KEY,\n      edgeConfig: {},\n      getEdgeConfig: undefined\n    };\n  },\n  getEvents: function getEvents() {\n    var self = this; // 检测输入是否合法\n\n    if (!(ALLOW_EVENTS.indexOf(self.trigger.toLowerCase()) > -1)) {\n      self.trigger = DEFAULT_TRIGGER; // eslint-disable-next-line no-console\n\n      console.warn(\"Behavior create-edge 的 trigger 参数不合法，请输入 'click'，'drag'\");\n    }\n\n    if (self.key && ALLOW_KEYS.indexOf(self.key.toLowerCase()) === -1) {\n      self.trigger = DEFAULT_KEY; // eslint-disable-next-line no-console\n\n      console.warn(\"Behavior create-edge 的 key 参数不合法，请输入 'shift'，'ctrl'，'alt'，'control'，或 undefined\");\n    }\n\n    var events;\n\n    if (self.trigger === 'drag') {\n      events = {\n        'node:dragstart': 'onClick',\n        'combo:dragstart': 'onClick',\n        drag: 'updateEndPoint',\n        'node:drop': 'onClick',\n        'combo:drop': 'onClick',\n        dragend: 'onDragEnd'\n      };\n    } else if (self.trigger === 'click') {\n      events = {\n        'node:click': 'onClick',\n        mousemove: 'updateEndPoint',\n        'edge:click': 'cancelCreating',\n        'canvas:click': 'cancelCreating',\n        'combo:click': 'onClick'\n      };\n    }\n\n    if (self.key) {\n      events.keydown = 'onKeyDown';\n      events.keyup = 'onKeyUp';\n    }\n\n    return events;\n  },\n  onDragEnd: function onDragEnd(ev) {\n    var self = this;\n    if (self.key && !self.keydown) return;\n    var item = ev.item;\n    if (!item || item.getID() === self.source || item.getType() !== 'node') self.cancelCreating({\n      item: self.edge,\n      x: ev.x,\n      y: ev.y\n    });\n  },\n  // 如果边的起点没有指定，则根据起点创建新边；如果起点已经指定而终点未指定，则指定终点\n  onClick: function onClick(ev) {\n    var self = this;\n    if (self.key && !self.keydown) return;\n    var node = ev.item;\n    var graph = self.graph;\n    var model = node.getModel();\n    var getEdgeConfig = self.getEdgeConfig; // 如果起点已经指定而终点未指定，则指定终点\n\n    if (self.addingEdge && self.edge) {\n      if (!self.shouldEnd.call(self, ev)) return;\n      var edgeConfig = void 0;\n\n      if (getEdgeConfig && isFunction(getEdgeConfig)) {\n        edgeConfig = getEdgeConfig({\n          source: self.source,\n          target: model.id\n        });\n      } else {\n        edgeConfig = self.edgeConfig;\n      }\n\n      var updateCfg = __assign({\n        target: model.id\n      }, edgeConfig);\n\n      if (self.source === model.id) {\n        updateCfg.type = 'loop';\n      }\n\n      graph.emit('beforecreateedge', {});\n      graph.updateItem(self.edge, updateCfg, false);\n\n      if (graph.get('enabledStack')) {\n        var addedModel = __assign(__assign({}, self.edge.getModel()), {\n          itemType: 'edge'\n        });\n\n        var after = {};\n        after.edges = [addedModel];\n        graph.pushStack('add', {\n          before: {},\n          after: after\n        });\n      }\n\n      graph.emit('aftercreateedge', {\n        edge: self.edge\n      }); // 暂时将该边的 capture 恢复为 true\n\n      self.edge.getKeyShape().set('capture', true);\n      self.edge = null;\n      self.addingEdge = false;\n    } else {\n      // 如果边的起点没有指定，则根据起点创建新边\n      if (!self.shouldBegin.call(self, ev)) return; // 获取自定义 edge 配置\n\n      var edgeConfig = void 0;\n\n      if (getEdgeConfig && isFunction(getEdgeConfig)) {\n        edgeConfig = getEdgeConfig({\n          source: model.id,\n          target: model.id\n        });\n      } else {\n        edgeConfig = self.edgeConfig;\n      }\n\n      self.edge = graph.addItem('edge', __assign({\n        source: model.id,\n        target: model.id\n      }, edgeConfig), false);\n      self.source = model.id;\n      self.addingEdge = true; // 暂时将该边的 capture 设置为 false，这样可以拾取到后面的元素\n\n      self.edge.getKeyShape().set('capture', false);\n    }\n  },\n  // 边的起点已经确定，边的末端跟随鼠标移动\n  updateEndPoint: function updateEndPoint(ev) {\n    var self = this;\n    if (self.key && !self.keydown) return;\n    if (self.edge && self.edge.destroyed) self.cancelCreating({\n      item: self.edge\n    });\n    var point = {\n      x: ev.x,\n      y: ev.y\n    }; // 若此时 source 节点已经被移除，结束添加边\n\n    if (!self.graph.findById(self.source)) {\n      self.addingEdge = false;\n      return;\n    }\n\n    if (self.addingEdge && self.edge) {\n      // 更新边的终点为鼠标位置\n      self.graph.updateItem(self.edge, {\n        target: point\n      }, false);\n    }\n  },\n  // 取消增加边，删除该边；或指定终点\n  cancelCreating: function cancelCreating(ev) {\n    var _a, _b;\n\n    var self = this;\n    if (self.key && !self.keydown) return;\n    var graph = self.graph;\n    var currentEdge = ev.item;\n\n    if (self.addingEdge && (self.edge === currentEdge || ((_b = (_a = ev.target) === null || _a === void 0 ? void 0 : _a.isCanvas) === null || _b === void 0 ? void 0 : _b.call(_a)))) {\n      if (self.edge && !self.edge.destroyed) graph.removeItem(self.edge, false);\n      self.edge = null;\n      self.addingEdge = false;\n      return;\n    }\n  },\n  onKeyDown: function onKeyDown(e) {\n    var self = this;\n    var code = e.key;\n\n    if (!code) {\n      return;\n    }\n\n    if (code.toLowerCase() === self.key.toLowerCase()) {\n      self.keydown = true;\n    } else {\n      self.keydown = false;\n    }\n  },\n  onKeyUp: function onKeyUp() {\n    var self = this;\n\n    if (self.addingEdge && self.edge) {\n      // 清除正在增加的边\n      self.graph.removeItem(self.edge, false);\n      self.addingEdge = false;\n      self.edge = null;\n    }\n\n    this.keydown = false;\n  }\n};","map":{"version":3,"names":["__assign","isFunction","DEFAULT_TRIGGER","ALLOW_EVENTS","DEFAULT_KEY","undefined","ALLOW_KEYS","getDefaultCfg","trigger","key","edgeConfig","getEdgeConfig","getEvents","self","indexOf","toLowerCase","console","warn","events","drag","dragend","mousemove","keydown","keyup","onDragEnd","ev","item","getID","source","getType","cancelCreating","edge","x","y","onClick","node","graph","model","getModel","addingEdge","shouldEnd","call","target","id","updateCfg","type","emit","updateItem","get","addedModel","itemType","after","edges","pushStack","before","getKeyShape","set","shouldBegin","addItem","updateEndPoint","destroyed","point","findById","_a","_b","currentEdge","isCanvas","removeItem","onKeyDown","e","code","onKeyUp"],"sources":["/Users/wawalike/Desktop/ggProject/node_modules/@antv/g6-pc/es/behavior/create-edge.js"],"sourcesContent":["import { __assign } from \"tslib\";\nimport { isFunction } from '@antv/util';\nvar DEFAULT_TRIGGER = 'click';\nvar ALLOW_EVENTS = ['click', 'drag'];\nvar DEFAULT_KEY = undefined;\nvar ALLOW_KEYS = ['shift', 'ctrl', 'control', 'alt', 'meta', undefined];\nexport default {\n  getDefaultCfg: function getDefaultCfg() {\n    return {\n      trigger: DEFAULT_TRIGGER,\n      key: DEFAULT_KEY,\n      edgeConfig: {},\n      getEdgeConfig: undefined\n    };\n  },\n  getEvents: function getEvents() {\n    var self = this; // 检测输入是否合法\n\n    if (!(ALLOW_EVENTS.indexOf(self.trigger.toLowerCase()) > -1)) {\n      self.trigger = DEFAULT_TRIGGER; // eslint-disable-next-line no-console\n\n      console.warn(\"Behavior create-edge 的 trigger 参数不合法，请输入 'click'，'drag'\");\n    }\n\n    if (self.key && ALLOW_KEYS.indexOf(self.key.toLowerCase()) === -1) {\n      self.trigger = DEFAULT_KEY; // eslint-disable-next-line no-console\n\n      console.warn(\"Behavior create-edge 的 key 参数不合法，请输入 'shift'，'ctrl'，'alt'，'control'，或 undefined\");\n    }\n\n    var events;\n\n    if (self.trigger === 'drag') {\n      events = {\n        'node:dragstart': 'onClick',\n        'combo:dragstart': 'onClick',\n        drag: 'updateEndPoint',\n        'node:drop': 'onClick',\n        'combo:drop': 'onClick',\n        dragend: 'onDragEnd'\n      };\n    } else if (self.trigger === 'click') {\n      events = {\n        'node:click': 'onClick',\n        mousemove: 'updateEndPoint',\n        'edge:click': 'cancelCreating',\n        'canvas:click': 'cancelCreating',\n        'combo:click': 'onClick'\n      };\n    }\n\n    if (self.key) {\n      events.keydown = 'onKeyDown';\n      events.keyup = 'onKeyUp';\n    }\n\n    return events;\n  },\n  onDragEnd: function onDragEnd(ev) {\n    var self = this;\n    if (self.key && !self.keydown) return;\n    var item = ev.item;\n    if (!item || item.getID() === self.source || item.getType() !== 'node') self.cancelCreating({\n      item: self.edge,\n      x: ev.x,\n      y: ev.y\n    });\n  },\n  // 如果边的起点没有指定，则根据起点创建新边；如果起点已经指定而终点未指定，则指定终点\n  onClick: function onClick(ev) {\n    var self = this;\n    if (self.key && !self.keydown) return;\n    var node = ev.item;\n    var graph = self.graph;\n    var model = node.getModel();\n    var getEdgeConfig = self.getEdgeConfig; // 如果起点已经指定而终点未指定，则指定终点\n\n    if (self.addingEdge && self.edge) {\n      if (!self.shouldEnd.call(self, ev)) return;\n      var edgeConfig = void 0;\n\n      if (getEdgeConfig && isFunction(getEdgeConfig)) {\n        edgeConfig = getEdgeConfig({\n          source: self.source,\n          target: model.id\n        });\n      } else {\n        edgeConfig = self.edgeConfig;\n      }\n\n      var updateCfg = __assign({\n        target: model.id\n      }, edgeConfig);\n\n      if (self.source === model.id) {\n        updateCfg.type = 'loop';\n      }\n\n      graph.emit('beforecreateedge', {});\n      graph.updateItem(self.edge, updateCfg, false);\n\n      if (graph.get('enabledStack')) {\n        var addedModel = __assign(__assign({}, self.edge.getModel()), {\n          itemType: 'edge'\n        });\n\n        var after = {};\n        after.edges = [addedModel];\n        graph.pushStack('add', {\n          before: {},\n          after: after\n        });\n      }\n\n      graph.emit('aftercreateedge', {\n        edge: self.edge\n      }); // 暂时将该边的 capture 恢复为 true\n\n      self.edge.getKeyShape().set('capture', true);\n      self.edge = null;\n      self.addingEdge = false;\n    } else {\n      // 如果边的起点没有指定，则根据起点创建新边\n      if (!self.shouldBegin.call(self, ev)) return; // 获取自定义 edge 配置\n\n      var edgeConfig = void 0;\n\n      if (getEdgeConfig && isFunction(getEdgeConfig)) {\n        edgeConfig = getEdgeConfig({\n          source: model.id,\n          target: model.id\n        });\n      } else {\n        edgeConfig = self.edgeConfig;\n      }\n\n      self.edge = graph.addItem('edge', __assign({\n        source: model.id,\n        target: model.id\n      }, edgeConfig), false);\n      self.source = model.id;\n      self.addingEdge = true; // 暂时将该边的 capture 设置为 false，这样可以拾取到后面的元素\n\n      self.edge.getKeyShape().set('capture', false);\n    }\n  },\n  // 边的起点已经确定，边的末端跟随鼠标移动\n  updateEndPoint: function updateEndPoint(ev) {\n    var self = this;\n    if (self.key && !self.keydown) return;\n    if (self.edge && self.edge.destroyed) self.cancelCreating({\n      item: self.edge\n    });\n    var point = {\n      x: ev.x,\n      y: ev.y\n    }; // 若此时 source 节点已经被移除，结束添加边\n\n    if (!self.graph.findById(self.source)) {\n      self.addingEdge = false;\n      return;\n    }\n\n    if (self.addingEdge && self.edge) {\n      // 更新边的终点为鼠标位置\n      self.graph.updateItem(self.edge, {\n        target: point\n      }, false);\n    }\n  },\n  // 取消增加边，删除该边；或指定终点\n  cancelCreating: function cancelCreating(ev) {\n    var _a, _b;\n\n    var self = this;\n    if (self.key && !self.keydown) return;\n    var graph = self.graph;\n    var currentEdge = ev.item;\n\n    if (self.addingEdge && (self.edge === currentEdge || ((_b = (_a = ev.target) === null || _a === void 0 ? void 0 : _a.isCanvas) === null || _b === void 0 ? void 0 : _b.call(_a)))) {\n      if (self.edge && !self.edge.destroyed) graph.removeItem(self.edge, false);\n      self.edge = null;\n      self.addingEdge = false;\n      return;\n    }\n  },\n  onKeyDown: function onKeyDown(e) {\n    var self = this;\n    var code = e.key;\n\n    if (!code) {\n      return;\n    }\n\n    if (code.toLowerCase() === self.key.toLowerCase()) {\n      self.keydown = true;\n    } else {\n      self.keydown = false;\n    }\n  },\n  onKeyUp: function onKeyUp() {\n    var self = this;\n\n    if (self.addingEdge && self.edge) {\n      // 清除正在增加的边\n      self.graph.removeItem(self.edge, false);\n      self.addingEdge = false;\n      self.edge = null;\n    }\n\n    this.keydown = false;\n  }\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}